var a0_0xcc76=['config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','set','port','env','join','view\x20engine','use','json','public','get','FILES_FOLDER','image1.jpg','base64-img','base64Sync','******************************************************','log','replace','base64','writeHead','image/png','length','end','image-convert','image2.jpg','from','jpg','__importDefault','__esModule','defineProperty','express','compression','body-parser','./util/logger','dotenv','path','express-validator','default','existsSync','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables'];(function(_0x320d35,_0x4fc240){var _0x3e1148=function(_0x5ad1d3){while(--_0x5ad1d3){_0x320d35['push'](_0x320d35['shift']());}};_0x3e1148(++_0x4fc240);}(a0_0xcc76,0x196));var a0_0x23bd=function(_0x2f81ba,_0x48306f){_0x2f81ba=_0x2f81ba-0x0;var _0x36f067=a0_0xcc76[_0x2f81ba];return _0x36f067;};'use strict';var __importDefault=this&&this[a0_0x23bd('0x0')]||function(_0x596ed5){return _0x596ed5&&_0x596ed5[a0_0x23bd('0x1')]?_0x596ed5:{'default':_0x596ed5};};Object[a0_0x23bd('0x2')](exports,a0_0x23bd('0x1'),{'value':!![]});const express_1=__importDefault(require(a0_0x23bd('0x3')));const compression_1=__importDefault(require(a0_0x23bd('0x4')));const body_parser_1=__importDefault(require(a0_0x23bd('0x5')));const logger_1=__importDefault(require(a0_0x23bd('0x6')));const dotenv_1=__importDefault(require(a0_0x23bd('0x7')));const path_1=__importDefault(require(a0_0x23bd('0x8')));const express_validator_1=__importDefault(require(a0_0x23bd('0x9')));const fs_1=__importDefault(require('fs'));if(fs_1[a0_0x23bd('0xa')][a0_0x23bd('0xb')]('.env')){logger_1[a0_0x23bd('0xa')][a0_0x23bd('0xc')](a0_0x23bd('0xd'));dotenv_1['default'][a0_0x23bd('0xe')]({'path':'.env'});}else{logger_1[a0_0x23bd('0xa')][a0_0x23bd('0xc')](a0_0x23bd('0xf'));dotenv_1[a0_0x23bd('0xa')][a0_0x23bd('0xe')]({'path':a0_0x23bd('0x10')});}const app=express_1[a0_0x23bd('0xa')]();app[a0_0x23bd('0x11')](a0_0x23bd('0x12'),process[a0_0x23bd('0x13')]['PORT']||0xbb8);app['set']('views',path_1[a0_0x23bd('0xa')][a0_0x23bd('0x14')](__dirname,'../views'));app[a0_0x23bd('0x11')](a0_0x23bd('0x15'),'pug');app[a0_0x23bd('0x16')](compression_1[a0_0x23bd('0xa')]());app[a0_0x23bd('0x16')](body_parser_1[a0_0x23bd('0xa')][a0_0x23bd('0x17')]());app[a0_0x23bd('0x16')](body_parser_1['default']['urlencoded']({'extended':!![]}));app[a0_0x23bd('0x16')](express_validator_1[a0_0x23bd('0xa')]());app[a0_0x23bd('0x16')](express_1[a0_0x23bd('0xa')]['static'](path_1[a0_0x23bd('0xa')]['join'](__dirname,a0_0x23bd('0x18')),{'maxAge':0x758fac300}));app[a0_0x23bd('0x19')]('/image1',function(_0x3efd19,_0x15607d){const _0x20d586=process[a0_0x23bd('0x13')][a0_0x23bd('0x1a')]+a0_0x23bd('0x1b');const _0x342c08=process['env'][a0_0x23bd('0x1a')]+'image2.jpg';const _0x391869=require(a0_0x23bd('0x1c'));const _0x330659=_0x391869[a0_0x23bd('0x1d')](_0x20d586);console['log'](a0_0x23bd('0x1e'));console[a0_0x23bd('0x1f')](_0x330659);const _0x3b190b=_0x330659[a0_0x23bd('0x20')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x293e26=Buffer['from'](_0x3b190b,a0_0x23bd('0x21'));_0x15607d[a0_0x23bd('0x22')](0xc8,{'Content-Type':a0_0x23bd('0x23'),'Content-Length':_0x293e26[a0_0x23bd('0x24')]});_0x15607d[a0_0x23bd('0x25')](_0x293e26);});app[a0_0x23bd('0x19')]('/image2',function(_0x171ba0,_0x58afc8){const _0x41901b=require(a0_0x23bd('0x1c'));const _0x2d7214=require('jimp');const _0x13d5ac=require(a0_0x23bd('0x26'));const _0x4c1286=process[a0_0x23bd('0x13')][a0_0x23bd('0x1a')]+a0_0x23bd('0x27');const _0x465cfc=_0x41901b[a0_0x23bd('0x1d')](_0x4c1286);console[a0_0x23bd('0x1f')](a0_0x23bd('0x1e'));const _0x45c9cd=_0x465cfc[a0_0x23bd('0x20')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x4f289a=Buffer[a0_0x23bd('0x28')](_0x45c9cd,a0_0x23bd('0x21'));_0x13d5ac['fromBuffer']({'buffer':_0x465cfc,'quality':0x32,'output_format':a0_0x23bd('0x29'),'size':'original'},function(_0x5afb1a,_0x8440b8,_0x54b30b){if(!_0x5afb1a){console[a0_0x23bd('0x1f')](_0x54b30b);_0x58afc8['end'](_0x8440b8);}else{_0x58afc8[a0_0x23bd('0x17')]({'Error':_0x5afb1a['message']});}});});exports[a0_0x23bd('0xa')]=app;
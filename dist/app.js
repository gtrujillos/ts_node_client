var a0_0x54a3=['compression','./util/logger','dotenv','path','default','existsSync','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','env','set','views','join','../views','view\x20engine','pug','use','json','static','public','/image1','image1.jpg','FILES_FOLDER','base64-img','log','******************************************************','replace','base64','writeHead','image/png','length','end','get','/image2','jimp','image-convert','image2.jpg','base64Sync','fromBuffer','jpg','original','message','__importDefault','__esModule','express'];(function(_0x550b16,_0x5b574d){var _0x439072=function(_0x1a81dd){while(--_0x1a81dd){_0x550b16['push'](_0x550b16['shift']());}};_0x439072(++_0x5b574d);}(a0_0x54a3,0x146));var a0_0x599f=function(_0x321244,_0x518aba){_0x321244=_0x321244-0x0;var _0x3d2874=a0_0x54a3[_0x321244];return _0x3d2874;};'use strict';var __importDefault=this&&this[a0_0x599f('0x0')]||function(_0x4f57dc){return _0x4f57dc&&_0x4f57dc[a0_0x599f('0x1')]?_0x4f57dc:{'default':_0x4f57dc};};Object['defineProperty'](exports,a0_0x599f('0x1'),{'value':!![]});const express_1=__importDefault(require(a0_0x599f('0x2')));const compression_1=__importDefault(require(a0_0x599f('0x3')));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require(a0_0x599f('0x4')));const dotenv_1=__importDefault(require(a0_0x599f('0x5')));const path_1=__importDefault(require(a0_0x599f('0x6')));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));if(fs_1[a0_0x599f('0x7')][a0_0x599f('0x8')](a0_0x599f('0x9'))){logger_1[a0_0x599f('0x7')]['debug'](a0_0x599f('0xa'));dotenv_1['default'][a0_0x599f('0xb')]({'path':'.env'});}else{logger_1[a0_0x599f('0x7')][a0_0x599f('0xc')](a0_0x599f('0xd'));dotenv_1[a0_0x599f('0x7')]['config']({'path':'.env.example'});}const app=express_1[a0_0x599f('0x7')]();app['set']('port',process[a0_0x599f('0xe')]['PORT']||0xbb8);app[a0_0x599f('0xf')](a0_0x599f('0x10'),path_1[a0_0x599f('0x7')][a0_0x599f('0x11')](__dirname,a0_0x599f('0x12')));app[a0_0x599f('0xf')](a0_0x599f('0x13'),a0_0x599f('0x14'));app[a0_0x599f('0x15')](compression_1[a0_0x599f('0x7')]());app[a0_0x599f('0x15')](body_parser_1['default'][a0_0x599f('0x16')]());app[a0_0x599f('0x15')](body_parser_1[a0_0x599f('0x7')]['urlencoded']({'extended':!![]}));app[a0_0x599f('0x15')](express_validator_1[a0_0x599f('0x7')]());app[a0_0x599f('0x15')](express_1[a0_0x599f('0x7')][a0_0x599f('0x17')](path_1[a0_0x599f('0x7')]['join'](__dirname,a0_0x599f('0x18')),{'maxAge':0x758fac300}));app['get'](a0_0x599f('0x19'),function(_0x240099,_0x3481e6){const _0x3cb54f=process[a0_0x599f('0xe')]['FILES_FOLDER']+a0_0x599f('0x1a');const _0x2cb8d2=process[a0_0x599f('0xe')][a0_0x599f('0x1b')]+'image2.jpg';const _0x40279c=require(a0_0x599f('0x1c'));const _0x3b4bb5=_0x40279c['base64Sync'](_0x3cb54f);console[a0_0x599f('0x1d')](a0_0x599f('0x1e'));console[a0_0x599f('0x1d')](_0x3b4bb5);const _0x525e15=_0x3b4bb5[a0_0x599f('0x1f')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x33b4eb=Buffer['from'](_0x525e15,a0_0x599f('0x20'));_0x3481e6[a0_0x599f('0x21')](0xc8,{'Content-Type':a0_0x599f('0x22'),'Content-Length':_0x33b4eb[a0_0x599f('0x23')]});_0x3481e6[a0_0x599f('0x24')](_0x33b4eb);});app[a0_0x599f('0x25')](a0_0x599f('0x26'),function(_0x1de320,_0x56e57d){const _0x4b1574=require('base64-img');const _0x5da775=require(a0_0x599f('0x27'));const _0x5eef01=require(a0_0x599f('0x28'));const _0x1601c3=process[a0_0x599f('0xe')][a0_0x599f('0x1b')]+a0_0x599f('0x29');const _0x5a1bbd=_0x4b1574[a0_0x599f('0x2a')](_0x1601c3);const _0x48d756=_0x5a1bbd[a0_0x599f('0x1f')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x15f420=Buffer['from'](_0x48d756,a0_0x599f('0x20'));_0x5eef01[a0_0x599f('0x2b')]({'buffer':_0x5a1bbd,'quality':0x32,'output_format':a0_0x599f('0x2c'),'size':a0_0x599f('0x2d')},function(_0x18d7b9,_0xadd1ca,_0x1d5622){if(!_0x18d7b9){console[a0_0x599f('0x1d')](_0x1d5622);_0x56e57d['end'](_0xadd1ca);}else{_0x56e57d[a0_0x599f('0x16')]({'Error':_0x18d7b9[a0_0x599f('0x2e')]});}});});exports[a0_0x599f('0x7')]=app;
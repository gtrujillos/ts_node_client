var a0_0x568e=['base64Sync','log','replace','from','base64','writeHead','image/png','end','/image2','image-convert','jpg','original','json','message','__importDefault','defineProperty','__esModule','express','compression','body-parser','./util/logger','dotenv','express-validator','default','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','port','env','views','join','../views','set','view\x20engine','pug','use','urlencoded','static','get','/image1','FILES_FOLDER','image1.jpg','image2.jpg','base64-img'];(function(_0x37a8c7,_0x358fca){var _0x3c41a3=function(_0x3dff1a){while(--_0x3dff1a){_0x37a8c7['push'](_0x37a8c7['shift']());}};_0x3c41a3(++_0x358fca);}(a0_0x568e,0x1e4));var a0_0x4c13=function(_0x3383ae,_0x4b4b69){_0x3383ae=_0x3383ae-0x0;var _0x5ca618=a0_0x568e[_0x3383ae];return _0x5ca618;};'use strict';var __importDefault=this&&this[a0_0x4c13('0x0')]||function(_0x449bb3){return _0x449bb3&&_0x449bb3['__esModule']?_0x449bb3:{'default':_0x449bb3};};Object[a0_0x4c13('0x1')](exports,a0_0x4c13('0x2'),{'value':!![]});const express_1=__importDefault(require(a0_0x4c13('0x3')));const compression_1=__importDefault(require(a0_0x4c13('0x4')));const body_parser_1=__importDefault(require(a0_0x4c13('0x5')));const logger_1=__importDefault(require(a0_0x4c13('0x6')));const dotenv_1=__importDefault(require(a0_0x4c13('0x7')));const path_1=__importDefault(require('path'));const express_validator_1=__importDefault(require(a0_0x4c13('0x8')));const fs_1=__importDefault(require('fs'));if(fs_1[a0_0x4c13('0x9')][a0_0x4c13('0xa')](a0_0x4c13('0xb'))){logger_1[a0_0x4c13('0x9')][a0_0x4c13('0xc')](a0_0x4c13('0xd'));dotenv_1[a0_0x4c13('0x9')]['config']({'path':'.env'});}else{logger_1[a0_0x4c13('0x9')][a0_0x4c13('0xc')](a0_0x4c13('0xe'));dotenv_1[a0_0x4c13('0x9')][a0_0x4c13('0xf')]({'path':'.env.example'});}const app=express_1[a0_0x4c13('0x9')]();app['set'](a0_0x4c13('0x10'),process[a0_0x4c13('0x11')]['PORT']||0xbb8);app['set'](a0_0x4c13('0x12'),path_1[a0_0x4c13('0x9')][a0_0x4c13('0x13')](__dirname,a0_0x4c13('0x14')));app[a0_0x4c13('0x15')](a0_0x4c13('0x16'),a0_0x4c13('0x17'));app['use'](compression_1[a0_0x4c13('0x9')]());app[a0_0x4c13('0x18')](body_parser_1[a0_0x4c13('0x9')]['json']());app[a0_0x4c13('0x18')](body_parser_1[a0_0x4c13('0x9')][a0_0x4c13('0x19')]({'extended':!![]}));app['use'](express_validator_1[a0_0x4c13('0x9')]());app[a0_0x4c13('0x18')](express_1[a0_0x4c13('0x9')][a0_0x4c13('0x1a')](path_1[a0_0x4c13('0x9')][a0_0x4c13('0x13')](__dirname,'public'),{'maxAge':0x758fac300}));app[a0_0x4c13('0x1b')](a0_0x4c13('0x1c'),function(_0x1d99bf,_0x996961){const _0x3497ba=process[a0_0x4c13('0x11')][a0_0x4c13('0x1d')]+a0_0x4c13('0x1e');const _0x176d31=process[a0_0x4c13('0x11')][a0_0x4c13('0x1d')]+a0_0x4c13('0x1f');const _0xcd5720=require(a0_0x4c13('0x20'));const _0x382d39=_0xcd5720[a0_0x4c13('0x21')](_0x3497ba);console[a0_0x4c13('0x22')]('******************************************************');console[a0_0x4c13('0x22')](_0x382d39);const _0x106060=_0x382d39[a0_0x4c13('0x23')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x17edf1=Buffer[a0_0x4c13('0x24')](_0x106060,a0_0x4c13('0x25'));_0x996961[a0_0x4c13('0x26')](0xc8,{'Content-Type':a0_0x4c13('0x27'),'Content-Length':_0x17edf1['length']});_0x996961[a0_0x4c13('0x28')](_0x17edf1);});app[a0_0x4c13('0x1b')](a0_0x4c13('0x29'),function(_0x33e25f,_0x33bcd8){const _0x207ba3=require(a0_0x4c13('0x20'));const _0x12df03=require('jimp');const _0x23885f=require(a0_0x4c13('0x2a'));const _0x561b77=process['env'][a0_0x4c13('0x1d')]+a0_0x4c13('0x1f');const _0x2ba7ae=_0x207ba3['base64Sync'](_0x561b77);const _0x13c2e3=_0x2ba7ae[a0_0x4c13('0x23')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x552360=Buffer[a0_0x4c13('0x24')](_0x13c2e3,a0_0x4c13('0x25'));_0x23885f['fromBuffer']({'buffer':_0x2ba7ae,'quality':0x32,'output_format':a0_0x4c13('0x2b'),'size':a0_0x4c13('0x2c')},function(_0x379e39,_0x564b28,_0xe4745){if(!_0x379e39){console[a0_0x4c13('0x22')](_0xe4745);_0x33bcd8[a0_0x4c13('0x28')](_0x564b28);}else{_0x33bcd8[a0_0x4c13('0x2d')]({'Error':_0x379e39[a0_0x4c13('0x2e')]});}});});exports[a0_0x4c13('0x9')]=app;
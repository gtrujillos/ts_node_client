var a0_0x11d9=['/image1','image1.jpg','FILES_FOLDER','image2.jpg','base64-img','base64Sync','log','replace','from','base64','writeHead','image/png','length','end','/image2','jimp','fromBuffer','jpg','original','message','__importDefault','__esModule','defineProperty','express','body-parser','path','express-validator','default','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','set','port','env','PORT','views','join','../views','view\x20engine','pug','use','json','urlencoded','static','get'];(function(_0x4d882a,_0x3b3bf5){var _0x19f735=function(_0x56f751){while(--_0x56f751){_0x4d882a['push'](_0x4d882a['shift']());}};_0x19f735(++_0x3b3bf5);}(a0_0x11d9,0xa4));var a0_0x55ae=function(_0x2f0f55,_0x228798){_0x2f0f55=_0x2f0f55-0x0;var _0x42763f=a0_0x11d9[_0x2f0f55];return _0x42763f;};'use strict';var __importDefault=this&&this[a0_0x55ae('0x0')]||function(_0x4bc8a2){return _0x4bc8a2&&_0x4bc8a2[a0_0x55ae('0x1')]?_0x4bc8a2:{'default':_0x4bc8a2};};Object[a0_0x55ae('0x2')](exports,a0_0x55ae('0x1'),{'value':!![]});const express_1=__importDefault(require(a0_0x55ae('0x3')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a0_0x55ae('0x4')));const logger_1=__importDefault(require('./util/logger'));const dotenv_1=__importDefault(require('dotenv'));const path_1=__importDefault(require(a0_0x55ae('0x5')));const express_validator_1=__importDefault(require(a0_0x55ae('0x6')));const fs_1=__importDefault(require('fs'));if(fs_1[a0_0x55ae('0x7')]['existsSync']('.env')){logger_1['default'][a0_0x55ae('0x8')](a0_0x55ae('0x9'));dotenv_1[a0_0x55ae('0x7')][a0_0x55ae('0xa')]({'path':a0_0x55ae('0xb')});}else{logger_1[a0_0x55ae('0x7')]['debug'](a0_0x55ae('0xc'));dotenv_1[a0_0x55ae('0x7')][a0_0x55ae('0xa')]({'path':a0_0x55ae('0xd')});}const app=express_1[a0_0x55ae('0x7')]();app[a0_0x55ae('0xe')](a0_0x55ae('0xf'),process[a0_0x55ae('0x10')][a0_0x55ae('0x11')]||0xbb8);app[a0_0x55ae('0xe')](a0_0x55ae('0x12'),path_1[a0_0x55ae('0x7')][a0_0x55ae('0x13')](__dirname,a0_0x55ae('0x14')));app[a0_0x55ae('0xe')](a0_0x55ae('0x15'),a0_0x55ae('0x16'));app[a0_0x55ae('0x17')](compression_1['default']());app['use'](body_parser_1[a0_0x55ae('0x7')][a0_0x55ae('0x18')]());app[a0_0x55ae('0x17')](body_parser_1[a0_0x55ae('0x7')][a0_0x55ae('0x19')]({'extended':!![]}));app[a0_0x55ae('0x17')](express_validator_1[a0_0x55ae('0x7')]());app[a0_0x55ae('0x17')](express_1[a0_0x55ae('0x7')][a0_0x55ae('0x1a')](path_1[a0_0x55ae('0x7')]['join'](__dirname,'public'),{'maxAge':0x758fac300}));app[a0_0x55ae('0x1b')](a0_0x55ae('0x1c'),function(_0x2342fe,_0x3ead02){const _0x14f2dd=process[a0_0x55ae('0x10')]['FILES_FOLDER']+a0_0x55ae('0x1d');const _0xde3b25=process[a0_0x55ae('0x10')][a0_0x55ae('0x1e')]+a0_0x55ae('0x1f');const _0x2acfa5=require(a0_0x55ae('0x20'));const _0x127cfc=_0x2acfa5[a0_0x55ae('0x21')](_0x14f2dd);console[a0_0x55ae('0x22')]('******************************************************');console[a0_0x55ae('0x22')](_0x127cfc);const _0x339f1b=_0x127cfc[a0_0x55ae('0x23')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x55cc90=Buffer[a0_0x55ae('0x24')](_0x339f1b,a0_0x55ae('0x25'));_0x3ead02[a0_0x55ae('0x26')](0xc8,{'Content-Type':a0_0x55ae('0x27'),'Content-Length':_0x55cc90[a0_0x55ae('0x28')]});_0x3ead02[a0_0x55ae('0x29')](_0x55cc90);});app[a0_0x55ae('0x1b')](a0_0x55ae('0x2a'),function(_0x3c4b79,_0x3404f1){const _0x8c4395=require(a0_0x55ae('0x20'));const _0x4dd13a=require(a0_0x55ae('0x2b'));const _0x32a327=require('image-convert');const _0x7417ed=process['env'][a0_0x55ae('0x1e')]+'image2.jpg';const _0x4f5a97=_0x8c4395['base64Sync'](_0x7417ed);const _0x51366b=_0x4f5a97[a0_0x55ae('0x23')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x29d14e=Buffer[a0_0x55ae('0x24')](_0x51366b,a0_0x55ae('0x25'));_0x32a327[a0_0x55ae('0x2c')]({'buffer':_0x4f5a97,'quality':0x32,'output_format':a0_0x55ae('0x2d'),'size':a0_0x55ae('0x2e')},function(_0x3a95b4,_0x12efda,_0x2a9f56){if(!_0x3a95b4){console['log'](_0x2a9f56);_0x3404f1[a0_0x55ae('0x29')](_0x12efda);}else{_0x3404f1[a0_0x55ae('0x18')]({'Error':_0x3a95b4[a0_0x55ae('0x2f')]});}});});exports['default']=app;
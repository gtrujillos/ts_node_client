var a0_0x332b=['.env.example','set','port','views','join','../views','view\x20engine','use','json','urlencoded','static','public','get','env','image1.jpg','image2.jpg','base64-img','base64Sync','log','******************************************************','replace','from','base64','image/png','end','/image2','jimp','FILES_FOLDER','fromBuffer','jpg','original','__importDefault','defineProperty','__esModule','express','body-parser','./util/logger','dotenv','path','express-validator','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','default','config'];(function(_0x538c71,_0x533973){var _0xaae788=function(_0x268486){while(--_0x268486){_0x538c71['push'](_0x538c71['shift']());}};_0xaae788(++_0x533973);}(a0_0x332b,0x105));var a0_0x345e=function(_0x497a53,_0x373075){_0x497a53=_0x497a53-0x0;var _0x27e2b5=a0_0x332b[_0x497a53];return _0x27e2b5;};'use strict';var __importDefault=this&&this[a0_0x345e('0x0')]||function(_0x4708b1){return _0x4708b1&&_0x4708b1['__esModule']?_0x4708b1:{'default':_0x4708b1};};Object[a0_0x345e('0x1')](exports,a0_0x345e('0x2'),{'value':!![]});const express_1=__importDefault(require(a0_0x345e('0x3')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a0_0x345e('0x4')));const logger_1=__importDefault(require(a0_0x345e('0x5')));const dotenv_1=__importDefault(require(a0_0x345e('0x6')));const path_1=__importDefault(require(a0_0x345e('0x7')));const express_validator_1=__importDefault(require(a0_0x345e('0x8')));const fs_1=__importDefault(require('fs'));if(fs_1['default'][a0_0x345e('0x9')](a0_0x345e('0xa'))){logger_1['default'][a0_0x345e('0xb')](a0_0x345e('0xc'));dotenv_1[a0_0x345e('0xd')][a0_0x345e('0xe')]({'path':a0_0x345e('0xa')});}else{logger_1[a0_0x345e('0xd')][a0_0x345e('0xb')]('Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a0_0x345e('0xd')]['config']({'path':a0_0x345e('0xf')});}const app=express_1[a0_0x345e('0xd')]();app[a0_0x345e('0x10')](a0_0x345e('0x11'),process['env']['PORT']||0xbb8);app['set'](a0_0x345e('0x12'),path_1[a0_0x345e('0xd')][a0_0x345e('0x13')](__dirname,a0_0x345e('0x14')));app[a0_0x345e('0x10')](a0_0x345e('0x15'),'pug');app[a0_0x345e('0x16')](compression_1[a0_0x345e('0xd')]());app[a0_0x345e('0x16')](body_parser_1[a0_0x345e('0xd')][a0_0x345e('0x17')]());app[a0_0x345e('0x16')](body_parser_1[a0_0x345e('0xd')][a0_0x345e('0x18')]({'extended':!![]}));app[a0_0x345e('0x16')](express_validator_1[a0_0x345e('0xd')]());app[a0_0x345e('0x16')](express_1[a0_0x345e('0xd')][a0_0x345e('0x19')](path_1['default'][a0_0x345e('0x13')](__dirname,a0_0x345e('0x1a')),{'maxAge':0x758fac300}));app[a0_0x345e('0x1b')]('/image1',function(_0x4a631c,_0x42de2e){const _0x232f78=process[a0_0x345e('0x1c')]['FILES_FOLDER']+a0_0x345e('0x1d');const _0x283b62=process['env']['FILES_FOLDER']+a0_0x345e('0x1e');const _0x56f10e=require(a0_0x345e('0x1f'));const _0x2d9bd2=_0x56f10e[a0_0x345e('0x20')](_0x232f78);console[a0_0x345e('0x21')](a0_0x345e('0x22'));console[a0_0x345e('0x21')](_0x2d9bd2);const _0x52994e=_0x2d9bd2[a0_0x345e('0x23')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x1a7ecd=Buffer[a0_0x345e('0x24')](_0x52994e,a0_0x345e('0x25'));_0x42de2e['writeHead'](0xc8,{'Content-Type':a0_0x345e('0x26'),'Content-Length':_0x1a7ecd['length']});_0x42de2e[a0_0x345e('0x27')](_0x1a7ecd);});app['get'](a0_0x345e('0x28'),function(_0x1b5b78,_0x132bb3){const _0x3431b0=require(a0_0x345e('0x1f'));const _0x3ea21a=require(a0_0x345e('0x29'));const _0x4eac04=require('image-convert');const _0x325faa=process[a0_0x345e('0x1c')][a0_0x345e('0x2a')]+a0_0x345e('0x1e');const _0x50ace3=_0x3431b0['base64Sync'](_0x325faa);console['log']('******************************************************');const _0x2dd34f=_0x50ace3['replace'](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x54d2cc=Buffer[a0_0x345e('0x24')](_0x2dd34f,a0_0x345e('0x25'));_0x4eac04[a0_0x345e('0x2b')]({'buffer':_0x50ace3,'quality':0x32,'output_format':a0_0x345e('0x2c'),'size':a0_0x345e('0x2d')},function(_0x39dfb6,_0x247461,_0x1790a9){if(!_0x39dfb6){console[a0_0x345e('0x21')](_0x1790a9);_0x132bb3[a0_0x345e('0x27')](_0x247461);}else{_0x132bb3['json']({'Error':_0x39dfb6['message']});}});});exports[a0_0x345e('0xd')]=app;
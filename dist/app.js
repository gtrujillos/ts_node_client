var a0_0xc6e3=['FILES_FOLDER','image2.jpg','base64-img','base64Sync','log','replace','writeHead','length','end','/image2','jimp','image-convert','from','base64','fromBuffer','jpg','original','message','__importDefault','defineProperty','__esModule','express','body-parser','dotenv','path','express-validator','default','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','port','env','PORT','set','views','../views','view\x20engine','pug','use','public','/image1','image1.jpg'];(function(_0x35b56b,_0x7948c6){var _0x5abade=function(_0x4a112a){while(--_0x4a112a){_0x35b56b['push'](_0x35b56b['shift']());}};_0x5abade(++_0x7948c6);}(a0_0xc6e3,0x172));var a0_0x1b35=function(_0x375f34,_0x4149a3){_0x375f34=_0x375f34-0x0;var _0x113ed1=a0_0xc6e3[_0x375f34];return _0x113ed1;};'use strict';var __importDefault=this&&this[a0_0x1b35('0x0')]||function(_0xb24047){return _0xb24047&&_0xb24047['__esModule']?_0xb24047:{'default':_0xb24047};};Object[a0_0x1b35('0x1')](exports,a0_0x1b35('0x2'),{'value':!![]});const express_1=__importDefault(require(a0_0x1b35('0x3')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a0_0x1b35('0x4')));const logger_1=__importDefault(require('./util/logger'));const dotenv_1=__importDefault(require(a0_0x1b35('0x5')));const path_1=__importDefault(require(a0_0x1b35('0x6')));const express_validator_1=__importDefault(require(a0_0x1b35('0x7')));const fs_1=__importDefault(require('fs'));if(fs_1[a0_0x1b35('0x8')]['existsSync'](a0_0x1b35('0x9'))){logger_1[a0_0x1b35('0x8')][a0_0x1b35('0xa')](a0_0x1b35('0xb'));dotenv_1[a0_0x1b35('0x8')]['config']({'path':'.env'});}else{logger_1['default']['debug'](a0_0x1b35('0xc'));dotenv_1[a0_0x1b35('0x8')]['config']({'path':a0_0x1b35('0xd')});}const app=express_1['default']();app['set'](a0_0x1b35('0xe'),process[a0_0x1b35('0xf')][a0_0x1b35('0x10')]||0xbb8);app[a0_0x1b35('0x11')](a0_0x1b35('0x12'),path_1[a0_0x1b35('0x8')]['join'](__dirname,a0_0x1b35('0x13')));app[a0_0x1b35('0x11')](a0_0x1b35('0x14'),a0_0x1b35('0x15'));app[a0_0x1b35('0x16')](compression_1['default']());app['use'](body_parser_1[a0_0x1b35('0x8')]['json']());app[a0_0x1b35('0x16')](body_parser_1[a0_0x1b35('0x8')]['urlencoded']({'extended':!![]}));app[a0_0x1b35('0x16')](express_validator_1[a0_0x1b35('0x8')]());app[a0_0x1b35('0x16')](express_1[a0_0x1b35('0x8')]['static'](path_1[a0_0x1b35('0x8')]['join'](__dirname,a0_0x1b35('0x17')),{'maxAge':0x758fac300}));app['get'](a0_0x1b35('0x18'),function(_0x394f72,_0x4c125e){const _0xca2d91=process[a0_0x1b35('0xf')]['FILES_FOLDER']+a0_0x1b35('0x19');const _0xcd78ab=process[a0_0x1b35('0xf')][a0_0x1b35('0x1a')]+a0_0x1b35('0x1b');const _0x8fd2a=require(a0_0x1b35('0x1c'));const _0x53006f=_0x8fd2a[a0_0x1b35('0x1d')](_0xca2d91);console[a0_0x1b35('0x1e')]('******************************************************');console[a0_0x1b35('0x1e')](_0x53006f);const _0x27c5e2=_0x53006f[a0_0x1b35('0x1f')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x512fad=Buffer['from'](_0x27c5e2,'base64');_0x4c125e[a0_0x1b35('0x20')](0xc8,{'Content-Type':'image/png','Content-Length':_0x512fad[a0_0x1b35('0x21')]});_0x4c125e[a0_0x1b35('0x22')](_0x512fad);});app['get'](a0_0x1b35('0x23'),function(_0x16fec5,_0x6114b9){const _0x2f5520=require(a0_0x1b35('0x1c'));const _0x47362d=require(a0_0x1b35('0x24'));const _0x53be38=require(a0_0x1b35('0x25'));const _0x54c869=process[a0_0x1b35('0xf')][a0_0x1b35('0x1a')]+a0_0x1b35('0x1b');const _0x51a288=_0x2f5520[a0_0x1b35('0x1d')](_0x54c869);const _0x5bc569=_0x51a288['replace'](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x153428=Buffer[a0_0x1b35('0x26')](_0x5bc569,a0_0x1b35('0x27'));_0x53be38[a0_0x1b35('0x28')]({'buffer':_0x51a288,'quality':0x32,'output_format':a0_0x1b35('0x29'),'size':a0_0x1b35('0x2a')},function(_0x48f922,_0x2cfa2d,_0xb809d6){if(!_0x48f922){console[a0_0x1b35('0x1e')](_0xb809d6);_0x6114b9[a0_0x1b35('0x22')](_0x2cfa2d);}else{_0x6114b9['json']({'Error':_0x48f922[a0_0x1b35('0x2b')]});}});});exports[a0_0x1b35('0x8')]=app;
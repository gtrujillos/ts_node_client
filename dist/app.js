var a0_0x5437=['__esModule','defineProperty','express','body-parser','./util/logger','path','express-validator','default','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','port','env','PORT','join','../views','set','view\x20engine','json','use','urlencoded','static','public','get','/image1','image1.jpg','FILES_FOLDER','image2.jpg','base64-img','base64Sync','log','******************************************************','replace','from','base64','length','end','/image2','jimp','image-convert','fromBuffer','jpg','original','message','__importDefault'];(function(_0xfef475,_0x44d646){var _0x19690b=function(_0x258dff){while(--_0x258dff){_0xfef475['push'](_0xfef475['shift']());}};_0x19690b(++_0x44d646);}(a0_0x5437,0xea));var a0_0x519d=function(_0x1320fd,_0x35749b){_0x1320fd=_0x1320fd-0x0;var _0x4dca47=a0_0x5437[_0x1320fd];return _0x4dca47;};'use strict';var __importDefault=this&&this[a0_0x519d('0x0')]||function(_0x14130b){return _0x14130b&&_0x14130b[a0_0x519d('0x1')]?_0x14130b:{'default':_0x14130b};};Object[a0_0x519d('0x2')](exports,a0_0x519d('0x1'),{'value':!![]});const express_1=__importDefault(require(a0_0x519d('0x3')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a0_0x519d('0x4')));const logger_1=__importDefault(require(a0_0x519d('0x5')));const dotenv_1=__importDefault(require('dotenv'));const path_1=__importDefault(require(a0_0x519d('0x6')));const express_validator_1=__importDefault(require(a0_0x519d('0x7')));const fs_1=__importDefault(require('fs'));if(fs_1[a0_0x519d('0x8')]['existsSync'](a0_0x519d('0x9'))){logger_1[a0_0x519d('0x8')][a0_0x519d('0xa')](a0_0x519d('0xb'));dotenv_1[a0_0x519d('0x8')]['config']({'path':a0_0x519d('0x9')});}else{logger_1[a0_0x519d('0x8')][a0_0x519d('0xa')](a0_0x519d('0xc'));dotenv_1[a0_0x519d('0x8')]['config']({'path':a0_0x519d('0xd')});}const app=express_1[a0_0x519d('0x8')]();app['set'](a0_0x519d('0xe'),process[a0_0x519d('0xf')][a0_0x519d('0x10')]||0xbb8);app['set']('views',path_1[a0_0x519d('0x8')][a0_0x519d('0x11')](__dirname,a0_0x519d('0x12')));app[a0_0x519d('0x13')](a0_0x519d('0x14'),'pug');app['use'](compression_1[a0_0x519d('0x8')]());app['use'](body_parser_1[a0_0x519d('0x8')][a0_0x519d('0x15')]());app[a0_0x519d('0x16')](body_parser_1[a0_0x519d('0x8')][a0_0x519d('0x17')]({'extended':!![]}));app['use'](express_validator_1['default']());app['use'](express_1[a0_0x519d('0x8')][a0_0x519d('0x18')](path_1[a0_0x519d('0x8')]['join'](__dirname,a0_0x519d('0x19')),{'maxAge':0x758fac300}));app[a0_0x519d('0x1a')](a0_0x519d('0x1b'),function(_0x2b6e5f,_0x4a9ccf){const _0x4c6f69=process[a0_0x519d('0xf')]['FILES_FOLDER']+a0_0x519d('0x1c');const _0x3032e7=process['env'][a0_0x519d('0x1d')]+a0_0x519d('0x1e');const _0x2c3f8a=require(a0_0x519d('0x1f'));const _0xe04b=_0x2c3f8a[a0_0x519d('0x20')](_0x4c6f69);console[a0_0x519d('0x21')](a0_0x519d('0x22'));console[a0_0x519d('0x21')](_0xe04b);const _0x1d8335=_0xe04b[a0_0x519d('0x23')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x119117=Buffer[a0_0x519d('0x24')](_0x1d8335,a0_0x519d('0x25'));_0x4a9ccf['writeHead'](0xc8,{'Content-Type':'image/png','Content-Length':_0x119117[a0_0x519d('0x26')]});_0x4a9ccf[a0_0x519d('0x27')](_0x119117);});app['get'](a0_0x519d('0x28'),function(_0x5c0845,_0x3cf6ca){const _0x2f0274=require('base64-img');const _0xdfe696=require(a0_0x519d('0x29'));const _0x3e8980=require(a0_0x519d('0x2a'));const _0x967df7=process[a0_0x519d('0xf')]['FILES_FOLDER']+a0_0x519d('0x1e');const _0x3e7571=_0x2f0274['base64Sync'](_0x967df7);console['log'](a0_0x519d('0x22'));const _0x2431ff=_0x3e7571[a0_0x519d('0x23')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x2184d7=Buffer[a0_0x519d('0x24')](_0x2431ff,a0_0x519d('0x25'));_0x3e8980[a0_0x519d('0x2b')]({'buffer':_0x3e7571,'quality':0x32,'output_format':a0_0x519d('0x2c'),'size':a0_0x519d('0x2d')},function(_0x332372,_0x4570a6,_0x41e165){if(!_0x332372){console['log'](_0x41e165);_0x3cf6ca[a0_0x519d('0x27')](_0x4570a6);}else{_0x3cf6ca[a0_0x519d('0x15')]({'Error':_0x332372[a0_0x519d('0x2e')]});}});});exports[a0_0x519d('0x8')]=app;
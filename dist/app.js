var a0_0x1de6=['port','env','PORT','views','join','../views','view\x20engine','use','json','urlencoded','get','/image1','FILES_FOLDER','image1.jpg','image2.jpg','base64-img','base64Sync','log','******************************************************','replace','from','writeHead','end','jimp','image-convert','fromBuffer','jpg','original','__importDefault','__esModule','defineProperty','express','compression','./util/logger','dotenv','path','express-validator','default','.env','config','debug','set'];(function(_0x4c9a13,_0x30d753){var _0x760f15=function(_0x181a20){while(--_0x181a20){_0x4c9a13['push'](_0x4c9a13['shift']());}};_0x760f15(++_0x30d753);}(a0_0x1de6,0xee));var a0_0x4c92=function(_0x317374,_0x553b4a){_0x317374=_0x317374-0x0;var _0x5245e7=a0_0x1de6[_0x317374];return _0x5245e7;};'use strict';var __importDefault=this&&this[a0_0x4c92('0x0')]||function(_0x10c89d){return _0x10c89d&&_0x10c89d[a0_0x4c92('0x1')]?_0x10c89d:{'default':_0x10c89d};};Object[a0_0x4c92('0x2')](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a0_0x4c92('0x3')));const compression_1=__importDefault(require(a0_0x4c92('0x4')));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require(a0_0x4c92('0x5')));const dotenv_1=__importDefault(require(a0_0x4c92('0x6')));const path_1=__importDefault(require(a0_0x4c92('0x7')));const express_validator_1=__importDefault(require(a0_0x4c92('0x8')));const fs_1=__importDefault(require('fs'));if(fs_1[a0_0x4c92('0x9')]['existsSync'](a0_0x4c92('0xa'))){logger_1[a0_0x4c92('0x9')]['debug']('Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a0_0x4c92('0x9')][a0_0x4c92('0xb')]({'path':a0_0x4c92('0xa')});}else{logger_1[a0_0x4c92('0x9')][a0_0x4c92('0xc')]('Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a0_0x4c92('0x9')]['config']({'path':'.env.example'});}const app=express_1[a0_0x4c92('0x9')]();app[a0_0x4c92('0xd')](a0_0x4c92('0xe'),process[a0_0x4c92('0xf')][a0_0x4c92('0x10')]||0xbb8);app[a0_0x4c92('0xd')](a0_0x4c92('0x11'),path_1[a0_0x4c92('0x9')][a0_0x4c92('0x12')](__dirname,a0_0x4c92('0x13')));app[a0_0x4c92('0xd')](a0_0x4c92('0x14'),'pug');app[a0_0x4c92('0x15')](compression_1['default']());app[a0_0x4c92('0x15')](body_parser_1[a0_0x4c92('0x9')][a0_0x4c92('0x16')]());app[a0_0x4c92('0x15')](body_parser_1[a0_0x4c92('0x9')][a0_0x4c92('0x17')]({'extended':!![]}));app[a0_0x4c92('0x15')](express_validator_1['default']());app[a0_0x4c92('0x15')](express_1[a0_0x4c92('0x9')]['static'](path_1[a0_0x4c92('0x9')][a0_0x4c92('0x12')](__dirname,'public'),{'maxAge':0x758fac300}));app[a0_0x4c92('0x18')](a0_0x4c92('0x19'),function(_0xfb208b,_0x2c8646){const _0x2be3d9=process[a0_0x4c92('0xf')][a0_0x4c92('0x1a')]+a0_0x4c92('0x1b');const _0x54e524=process[a0_0x4c92('0xf')][a0_0x4c92('0x1a')]+a0_0x4c92('0x1c');const _0x413e62=require(a0_0x4c92('0x1d'));const _0x1262c9=_0x413e62[a0_0x4c92('0x1e')](_0x2be3d9);console[a0_0x4c92('0x1f')](a0_0x4c92('0x20'));console[a0_0x4c92('0x1f')](_0x1262c9);const _0x33dbbe=_0x1262c9[a0_0x4c92('0x21')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x42cdcd=Buffer[a0_0x4c92('0x22')](_0x33dbbe,'base64');_0x2c8646[a0_0x4c92('0x23')](0xc8,{'Content-Type':'image/png','Content-Length':_0x42cdcd['length']});_0x2c8646[a0_0x4c92('0x24')](_0x42cdcd);});app['get']('/image2',function(_0x4ca709,_0x373050){const _0x371cc0=require(a0_0x4c92('0x1d'));const _0x1a5dc6=require(a0_0x4c92('0x25'));const _0x36294c=require(a0_0x4c92('0x26'));const _0x4199c1=process[a0_0x4c92('0xf')][a0_0x4c92('0x1a')]+a0_0x4c92('0x1c');const _0x450b2b=_0x371cc0[a0_0x4c92('0x1e')](_0x4199c1);const _0x5b0791=_0x450b2b[a0_0x4c92('0x21')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x445c0f=Buffer['from'](_0x5b0791,'base64');_0x36294c[a0_0x4c92('0x27')]({'buffer':_0x450b2b,'quality':0x32,'output_format':a0_0x4c92('0x28'),'size':a0_0x4c92('0x29')},function(_0x5bef37,_0x2bbb50,_0x46e558){if(!_0x5bef37){console[a0_0x4c92('0x1f')](_0x46e558);_0x373050[a0_0x4c92('0x24')](_0x2bbb50);}else{_0x373050[a0_0x4c92('0x16')]({'Error':_0x5bef37['message']});}});});exports[a0_0x4c92('0x9')]=app;
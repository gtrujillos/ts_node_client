var a0_0x2e58=['compression','body-parser','./util/logger','dotenv','path','express-validator','default','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','debug','set','port','env','PORT','views','join','../views','view\x20engine','pug','use','json','urlencoded','static','public','get','/image1','FILES_FOLDER','image1.jpg','base64-img','******************************************************','replace','from','writeHead','image/png','length','end','/image2','jimp','image-convert','base64Sync','base64','fromBuffer','jpg','original','log','message','__importDefault','__esModule','defineProperty','express'];(function(_0x57d79f,_0x3d47d4){var _0x1f5792=function(_0x59f950){while(--_0x59f950){_0x57d79f['push'](_0x57d79f['shift']());}};_0x1f5792(++_0x3d47d4);}(a0_0x2e58,0x161));var a0_0x568e=function(_0x1f2cfa,_0x41b51f){_0x1f2cfa=_0x1f2cfa-0x0;var _0x2ff392=a0_0x2e58[_0x1f2cfa];return _0x2ff392;};'use strict';var __importDefault=this&&this[a0_0x568e('0x0')]||function(_0x50e200){return _0x50e200&&_0x50e200[a0_0x568e('0x1')]?_0x50e200:{'default':_0x50e200};};Object[a0_0x568e('0x2')](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a0_0x568e('0x3')));const compression_1=__importDefault(require(a0_0x568e('0x4')));const body_parser_1=__importDefault(require(a0_0x568e('0x5')));const logger_1=__importDefault(require(a0_0x568e('0x6')));const dotenv_1=__importDefault(require(a0_0x568e('0x7')));const path_1=__importDefault(require(a0_0x568e('0x8')));const express_validator_1=__importDefault(require(a0_0x568e('0x9')));const fs_1=__importDefault(require('fs'));if(fs_1[a0_0x568e('0xa')]['existsSync'](a0_0x568e('0xb'))){logger_1['default']['debug'](a0_0x568e('0xc'));dotenv_1['default'][a0_0x568e('0xd')]({'path':a0_0x568e('0xb')});}else{logger_1[a0_0x568e('0xa')][a0_0x568e('0xe')]('Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a0_0x568e('0xa')][a0_0x568e('0xd')]({'path':'.env.example'});}const app=express_1[a0_0x568e('0xa')]();app[a0_0x568e('0xf')](a0_0x568e('0x10'),process[a0_0x568e('0x11')][a0_0x568e('0x12')]||0xbb8);app[a0_0x568e('0xf')](a0_0x568e('0x13'),path_1[a0_0x568e('0xa')][a0_0x568e('0x14')](__dirname,a0_0x568e('0x15')));app['set'](a0_0x568e('0x16'),a0_0x568e('0x17'));app[a0_0x568e('0x18')](compression_1[a0_0x568e('0xa')]());app['use'](body_parser_1['default'][a0_0x568e('0x19')]());app[a0_0x568e('0x18')](body_parser_1[a0_0x568e('0xa')][a0_0x568e('0x1a')]({'extended':!![]}));app[a0_0x568e('0x18')](express_validator_1['default']());app[a0_0x568e('0x18')](express_1[a0_0x568e('0xa')][a0_0x568e('0x1b')](path_1[a0_0x568e('0xa')][a0_0x568e('0x14')](__dirname,a0_0x568e('0x1c')),{'maxAge':0x758fac300}));app[a0_0x568e('0x1d')](a0_0x568e('0x1e'),function(_0x59e0e9,_0x2813df){const _0x4bccf2=process[a0_0x568e('0x11')][a0_0x568e('0x1f')]+a0_0x568e('0x20');const _0x2f80c7=process[a0_0x568e('0x11')][a0_0x568e('0x1f')]+'image2.jpg';const _0x3ced7e=require(a0_0x568e('0x21'));const _0x44c90c=_0x3ced7e['base64Sync'](_0x4bccf2);console['log'](a0_0x568e('0x22'));console['log'](_0x44c90c);const _0xe9beee=_0x44c90c[a0_0x568e('0x23')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x4fb041=Buffer[a0_0x568e('0x24')](_0xe9beee,'base64');_0x2813df[a0_0x568e('0x25')](0xc8,{'Content-Type':a0_0x568e('0x26'),'Content-Length':_0x4fb041[a0_0x568e('0x27')]});_0x2813df[a0_0x568e('0x28')](_0x4fb041);});app[a0_0x568e('0x1d')](a0_0x568e('0x29'),function(_0x59dfda,_0x12e9d8){const _0x2e9cb5=require(a0_0x568e('0x21'));const _0x38331f=require(a0_0x568e('0x2a'));const _0x5787dd=require(a0_0x568e('0x2b'));const _0x4f852b=process[a0_0x568e('0x11')][a0_0x568e('0x1f')]+'image2.jpg';const _0x493e4f=_0x2e9cb5[a0_0x568e('0x2c')](_0x4f852b);const _0x42fab5=_0x493e4f[a0_0x568e('0x23')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x323bd6=Buffer['from'](_0x42fab5,a0_0x568e('0x2d'));_0x5787dd[a0_0x568e('0x2e')]({'buffer':_0x493e4f,'quality':0x32,'output_format':a0_0x568e('0x2f'),'size':a0_0x568e('0x30')},function(_0x18554f,_0x3f461b,_0x15fffc){if(!_0x18554f){console[a0_0x568e('0x31')](_0x15fffc);_0x12e9d8[a0_0x568e('0x28')](_0x3f461b);}else{_0x12e9d8[a0_0x568e('0x19')]({'Error':_0x18554f[a0_0x568e('0x32')]});}});});exports['default']=app;
var a0_0x51fb=['fromBuffer','original','message','__importDefault','__esModule','defineProperty','express','compression','body-parser','dotenv','path','express-validator','default','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env.example','set','port','env','views','join','../views','view\x20engine','pug','use','json','public','get','FILES_FOLDER','image1.jpg','base64-img','base64Sync','log','base64','writeHead','image/png','length','end','/image2','jimp','image-convert','replace','from'];(function(_0x31183b,_0x2fd526){var _0x2e47d8=function(_0x2fe3d3){while(--_0x2fe3d3){_0x31183b['push'](_0x31183b['shift']());}};_0x2e47d8(++_0x2fd526);}(a0_0x51fb,0x1d9));var a0_0x336b=function(_0x2cf87e,_0x3c012c){_0x2cf87e=_0x2cf87e-0x0;var _0x2c28d6=a0_0x51fb[_0x2cf87e];return _0x2c28d6;};'use strict';var __importDefault=this&&this[a0_0x336b('0x0')]||function(_0x5480c2){return _0x5480c2&&_0x5480c2[a0_0x336b('0x1')]?_0x5480c2:{'default':_0x5480c2};};Object[a0_0x336b('0x2')](exports,a0_0x336b('0x1'),{'value':!![]});const express_1=__importDefault(require(a0_0x336b('0x3')));const compression_1=__importDefault(require(a0_0x336b('0x4')));const body_parser_1=__importDefault(require(a0_0x336b('0x5')));const logger_1=__importDefault(require('./util/logger'));const dotenv_1=__importDefault(require(a0_0x336b('0x6')));const path_1=__importDefault(require(a0_0x336b('0x7')));const express_validator_1=__importDefault(require(a0_0x336b('0x8')));const fs_1=__importDefault(require('fs'));if(fs_1[a0_0x336b('0x9')][a0_0x336b('0xa')](a0_0x336b('0xb'))){logger_1[a0_0x336b('0x9')][a0_0x336b('0xc')](a0_0x336b('0xd'));dotenv_1[a0_0x336b('0x9')]['config']({'path':a0_0x336b('0xb')});}else{logger_1[a0_0x336b('0x9')][a0_0x336b('0xc')](a0_0x336b('0xe'));dotenv_1[a0_0x336b('0x9')][a0_0x336b('0xf')]({'path':a0_0x336b('0x10')});}const app=express_1[a0_0x336b('0x9')]();app[a0_0x336b('0x11')](a0_0x336b('0x12'),process[a0_0x336b('0x13')]['PORT']||0xbb8);app[a0_0x336b('0x11')](a0_0x336b('0x14'),path_1['default'][a0_0x336b('0x15')](__dirname,a0_0x336b('0x16')));app['set'](a0_0x336b('0x17'),a0_0x336b('0x18'));app[a0_0x336b('0x19')](compression_1[a0_0x336b('0x9')]());app[a0_0x336b('0x19')](body_parser_1[a0_0x336b('0x9')][a0_0x336b('0x1a')]());app[a0_0x336b('0x19')](body_parser_1['default']['urlencoded']({'extended':!![]}));app['use'](express_validator_1[a0_0x336b('0x9')]());app[a0_0x336b('0x19')](express_1[a0_0x336b('0x9')]['static'](path_1[a0_0x336b('0x9')][a0_0x336b('0x15')](__dirname,a0_0x336b('0x1b')),{'maxAge':0x758fac300}));app[a0_0x336b('0x1c')]('/image1',function(_0x1b143c,_0x4343db){const _0x694e07=process['env'][a0_0x336b('0x1d')]+a0_0x336b('0x1e');const _0x54d74c=process['env'][a0_0x336b('0x1d')]+'image2.jpg';const _0x1ce547=require(a0_0x336b('0x1f'));const _0x353ac6=_0x1ce547[a0_0x336b('0x20')](_0x694e07);console[a0_0x336b('0x21')]('******************************************************');console[a0_0x336b('0x21')](_0x353ac6);const _0x9866ed=_0x353ac6['replace'](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x7ffa3d=Buffer['from'](_0x9866ed,a0_0x336b('0x22'));_0x4343db[a0_0x336b('0x23')](0xc8,{'Content-Type':a0_0x336b('0x24'),'Content-Length':_0x7ffa3d[a0_0x336b('0x25')]});_0x4343db[a0_0x336b('0x26')](_0x7ffa3d);});app[a0_0x336b('0x1c')](a0_0x336b('0x27'),function(_0x214038,_0x3aab78){const _0x2dfd16=require(a0_0x336b('0x1f'));const _0x538847=require(a0_0x336b('0x28'));const _0x87ee30=require(a0_0x336b('0x29'));const _0x263027=process[a0_0x336b('0x13')][a0_0x336b('0x1d')]+'image2.jpg';const _0x2f5a26=_0x2dfd16['base64Sync'](_0x263027);const _0x3b1712=_0x2f5a26[a0_0x336b('0x2a')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x1103a0=Buffer[a0_0x336b('0x2b')](_0x3b1712,a0_0x336b('0x22'));_0x87ee30[a0_0x336b('0x2c')]({'buffer':_0x2f5a26,'quality':0x32,'output_format':'jpg','size':a0_0x336b('0x2d')},function(_0x37b1b0,_0x5cf5d9,_0x282321){if(!_0x37b1b0){console['log'](_0x282321);_0x3aab78[a0_0x336b('0x26')](_0x5cf5d9);}else{_0x3aab78[a0_0x336b('0x1a')]({'Error':_0x37b1b0[a0_0x336b('0x2e')]});}});});exports['default']=app;
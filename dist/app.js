var a0_0x27d8=['dotenv','path','default','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env.example','set','port','env','PORT','views','join','../views','view\x20engine','pug','use','json','public','get','image1.jpg','base64-img','base64Sync','log','******************************************************','replace','base64','writeHead','image/png','length','/image2','jimp','image-convert','FILES_FOLDER','from','jpg','__importDefault','defineProperty','__esModule','express','body-parser','./util/logger'];(function(_0x1076ef,_0x2d6323){var _0x2a1c80=function(_0x339667){while(--_0x339667){_0x1076ef['push'](_0x1076ef['shift']());}};_0x2a1c80(++_0x2d6323);}(a0_0x27d8,0xd6));var a0_0x16e3=function(_0x12c9fb,_0x28df82){_0x12c9fb=_0x12c9fb-0x0;var _0x2a5058=a0_0x27d8[_0x12c9fb];return _0x2a5058;};'use strict';var __importDefault=this&&this[a0_0x16e3('0x0')]||function(_0xce1fc4){return _0xce1fc4&&_0xce1fc4['__esModule']?_0xce1fc4:{'default':_0xce1fc4};};Object[a0_0x16e3('0x1')](exports,a0_0x16e3('0x2'),{'value':!![]});const express_1=__importDefault(require(a0_0x16e3('0x3')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a0_0x16e3('0x4')));const logger_1=__importDefault(require(a0_0x16e3('0x5')));const dotenv_1=__importDefault(require(a0_0x16e3('0x6')));const path_1=__importDefault(require(a0_0x16e3('0x7')));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));if(fs_1[a0_0x16e3('0x8')][a0_0x16e3('0x9')](a0_0x16e3('0xa'))){logger_1[a0_0x16e3('0x8')][a0_0x16e3('0xb')](a0_0x16e3('0xc'));dotenv_1[a0_0x16e3('0x8')][a0_0x16e3('0xd')]({'path':a0_0x16e3('0xa')});}else{logger_1['default'][a0_0x16e3('0xb')]('Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a0_0x16e3('0x8')]['config']({'path':a0_0x16e3('0xe')});}const app=express_1[a0_0x16e3('0x8')]();app[a0_0x16e3('0xf')](a0_0x16e3('0x10'),process[a0_0x16e3('0x11')][a0_0x16e3('0x12')]||0xbb8);app[a0_0x16e3('0xf')](a0_0x16e3('0x13'),path_1['default'][a0_0x16e3('0x14')](__dirname,a0_0x16e3('0x15')));app[a0_0x16e3('0xf')](a0_0x16e3('0x16'),a0_0x16e3('0x17'));app['use'](compression_1[a0_0x16e3('0x8')]());app[a0_0x16e3('0x18')](body_parser_1[a0_0x16e3('0x8')][a0_0x16e3('0x19')]());app[a0_0x16e3('0x18')](body_parser_1[a0_0x16e3('0x8')]['urlencoded']({'extended':!![]}));app[a0_0x16e3('0x18')](express_validator_1[a0_0x16e3('0x8')]());app['use'](express_1[a0_0x16e3('0x8')]['static'](path_1[a0_0x16e3('0x8')]['join'](__dirname,a0_0x16e3('0x1a')),{'maxAge':0x758fac300}));app[a0_0x16e3('0x1b')]('/image1',function(_0x289d9b,_0x9c6fc3){const _0x4924b6=process[a0_0x16e3('0x11')]['FILES_FOLDER']+a0_0x16e3('0x1c');const _0xb121e8=process[a0_0x16e3('0x11')]['FILES_FOLDER']+'image2.jpg';const _0x5d4d3d=require(a0_0x16e3('0x1d'));const _0x34b93f=_0x5d4d3d[a0_0x16e3('0x1e')](_0x4924b6);console[a0_0x16e3('0x1f')](a0_0x16e3('0x20'));console['log'](_0x34b93f);const _0x746586=_0x34b93f[a0_0x16e3('0x21')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x2518f8=Buffer['from'](_0x746586,a0_0x16e3('0x22'));_0x9c6fc3[a0_0x16e3('0x23')](0xc8,{'Content-Type':a0_0x16e3('0x24'),'Content-Length':_0x2518f8[a0_0x16e3('0x25')]});_0x9c6fc3['end'](_0x2518f8);});app['get'](a0_0x16e3('0x26'),function(_0x508cdb,_0xad9a30){const _0x56839e=require(a0_0x16e3('0x1d'));const _0x5039c3=require(a0_0x16e3('0x27'));const _0x210326=require(a0_0x16e3('0x28'));const _0x5553ac=process[a0_0x16e3('0x11')][a0_0x16e3('0x29')]+'image2.jpg';const _0x5c0306=_0x56839e[a0_0x16e3('0x1e')](_0x5553ac);const _0x1356c7=_0x5c0306[a0_0x16e3('0x21')](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x31ba78=Buffer[a0_0x16e3('0x2a')](_0x1356c7,a0_0x16e3('0x22'));_0x210326['fromBuffer']({'buffer':_0x5c0306,'quality':0x32,'output_format':a0_0x16e3('0x2b'),'size':'original'},function(_0x2f9b30,_0x13d50d,_0x383ef7){if(!_0x2f9b30){console[a0_0x16e3('0x1f')](_0x383ef7);_0xad9a30['end'](_0x13d50d);}else{_0xad9a30[a0_0x16e3('0x19')]({'Error':_0x2f9b30['message']});}});});exports['default']=app;
var a0_0x2672=['body-parser','./util/logger','dotenv','path','express-validator','default','existsSync','debug','config','.env','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','set','port','env','views','join','../views','view\x20engine','pug','use','urlencoded','static','get','FILES_FOLDER','base64-img','base64Sync','log','******************************************************','from','base64','writeHead','image/png','length','end','/image2','jimp','image2.jpg','json','__esModule','defineProperty','express','compression'];(function(_0x521df1,_0xa0da86){var _0x1d49f7=function(_0x7a8d26){while(--_0x7a8d26){_0x521df1['push'](_0x521df1['shift']());}};_0x1d49f7(++_0xa0da86);}(a0_0x2672,0x129));var a0_0x4537=function(_0x552911,_0x5cd1cc){_0x552911=_0x552911-0x0;var _0x449457=a0_0x2672[_0x552911];return _0x449457;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x571885){return _0x571885&&_0x571885[a0_0x4537('0x0')]?_0x571885:{'default':_0x571885};};Object[a0_0x4537('0x1')](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a0_0x4537('0x2')));const compression_1=__importDefault(require(a0_0x4537('0x3')));const body_parser_1=__importDefault(require(a0_0x4537('0x4')));const logger_1=__importDefault(require(a0_0x4537('0x5')));const dotenv_1=__importDefault(require(a0_0x4537('0x6')));const path_1=__importDefault(require(a0_0x4537('0x7')));const express_validator_1=__importDefault(require(a0_0x4537('0x8')));const fs_1=__importDefault(require('fs'));if(fs_1[a0_0x4537('0x9')][a0_0x4537('0xa')]('.env')){logger_1['default'][a0_0x4537('0xb')]('Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1['default'][a0_0x4537('0xc')]({'path':a0_0x4537('0xd')});}else{logger_1[a0_0x4537('0x9')][a0_0x4537('0xb')](a0_0x4537('0xe'));dotenv_1[a0_0x4537('0x9')]['config']({'path':a0_0x4537('0xf')});}const app=express_1[a0_0x4537('0x9')]();app[a0_0x4537('0x10')](a0_0x4537('0x11'),process[a0_0x4537('0x12')]['PORT']||0xbb8);app[a0_0x4537('0x10')](a0_0x4537('0x13'),path_1[a0_0x4537('0x9')][a0_0x4537('0x14')](__dirname,a0_0x4537('0x15')));app[a0_0x4537('0x10')](a0_0x4537('0x16'),a0_0x4537('0x17'));app[a0_0x4537('0x18')](compression_1[a0_0x4537('0x9')]());app['use'](body_parser_1['default']['json']());app[a0_0x4537('0x18')](body_parser_1[a0_0x4537('0x9')][a0_0x4537('0x19')]({'extended':!![]}));app[a0_0x4537('0x18')](express_validator_1[a0_0x4537('0x9')]());app['use'](express_1[a0_0x4537('0x9')][a0_0x4537('0x1a')](path_1[a0_0x4537('0x9')][a0_0x4537('0x14')](__dirname,'public'),{'maxAge':0x758fac300}));app[a0_0x4537('0x1b')]('/image1',function(_0x1d71e2,_0x296b38){const _0x5e625e=process[a0_0x4537('0x12')][a0_0x4537('0x1c')]+'image1.jpg';const _0x67d878=process[a0_0x4537('0x12')][a0_0x4537('0x1c')]+'image2.jpg';const _0x4aad38=require(a0_0x4537('0x1d'));const _0x5e5f50=_0x4aad38[a0_0x4537('0x1e')](_0x5e625e);console[a0_0x4537('0x1f')](a0_0x4537('0x20'));console['log'](_0x5e5f50);const _0x34e71f=_0x5e5f50['replace'](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x6626f9=Buffer[a0_0x4537('0x21')](_0x34e71f,a0_0x4537('0x22'));_0x296b38[a0_0x4537('0x23')](0xc8,{'Content-Type':a0_0x4537('0x24'),'Content-Length':_0x6626f9[a0_0x4537('0x25')]});_0x296b38[a0_0x4537('0x26')](_0x6626f9);});app['get'](a0_0x4537('0x27'),function(_0x2dd8d7,_0x578d88){const _0x30fe69=require('base64-img');const _0x8855f6=require(a0_0x4537('0x28'));const _0x48fef8=require('image-convert');const _0x934cfd=process['env'][a0_0x4537('0x1c')]+a0_0x4537('0x29');const _0x5f37e8=_0x30fe69[a0_0x4537('0x1e')](_0x934cfd);const _0xe23c9d=_0x5f37e8['replace'](/^data:image\/(png|jpeg|jpg);base64,/,'');const _0x452917=Buffer[a0_0x4537('0x21')](_0xe23c9d,a0_0x4537('0x22'));_0x48fef8['fromBuffer']({'buffer':_0x5f37e8,'quality':0x32,'output_format':'jpg','size':'original'},function(_0x2a9c22,_0x54e02e,_0x56bc13){if(!_0x2a9c22){console[a0_0x4537('0x1f')](_0x56bc13);_0x578d88[a0_0x4537('0x26')](_0x54e02e);}else{_0x578d88[a0_0x4537('0x2a')]({'Error':_0x2a9c22['message']});}});});exports[a0_0x4537('0x9')]=app;
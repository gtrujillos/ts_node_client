var a18_0x59b4=['connection','remotePort','data','parse','******result:\x20','EventsService','getInstance','saveEvent','action','face_id','close','findIndex','remoteAddress','splice','__importDefault','__esModule','defineProperty','errorhandler','./app','./services/eventsService','MainService','init','default','use','listen','get','port','log','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','env','\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a','0.0.0.0','createServer'];(function(_0x1a0807,_0x21c050){var _0x1d3664=function(_0x4509f8){while(--_0x4509f8){_0x1a0807['push'](_0x1a0807['shift']());}};_0x1d3664(++_0x21c050);}(a18_0x59b4,0x92));var a18_0x5d99=function(_0x4976f3,_0x4ffc8d){_0x4976f3=_0x4976f3-0x0;var _0x1bf24d=a18_0x59b4[_0x4976f3];return _0x1bf24d;};'use strict';var __importDefault=this&&this[a18_0x5d99('0x0')]||function(_0xf98463){return _0xf98463&&_0xf98463[a18_0x5d99('0x1')]?_0xf98463:{'default':_0xf98463};};Object[a18_0x5d99('0x2')](exports,'__esModule',{'value':!![]});const errorhandler_1=__importDefault(require(a18_0x5d99('0x3')));const mainService_1=require('./services/mainService');const app_1=__importDefault(require(a18_0x5d99('0x4')));const eventsService_1=require(a18_0x5d99('0x5'));const mainService=new mainService_1[(a18_0x5d99('0x6'))]();mainService[a18_0x5d99('0x7')]();app_1[a18_0x5d99('0x8')][a18_0x5d99('0x9')](errorhandler_1[a18_0x5d99('0x8')]());const server=app_1['default'][a18_0x5d99('0xa')](app_1[a18_0x5d99('0x8')][a18_0x5d99('0xb')](a18_0x5d99('0xc')),()=>{console[a18_0x5d99('0xd')](a18_0x5d99('0xe'),app_1[a18_0x5d99('0x8')]['get'](a18_0x5d99('0xc')),app_1[a18_0x5d99('0x8')][a18_0x5d99('0xb')](a18_0x5d99('0xf')));console[a18_0x5d99('0xd')](a18_0x5d99('0x10'));});const net=require('net');const port=0x2af8;const host=a18_0x5d99('0x11');const fs=require('fs');const socketServer=net[a18_0x5d99('0x12')]();socketServer[a18_0x5d99('0xa')](port,host,()=>{console[a18_0x5d99('0xd')]('TCP\x20Server\x20is\x20running\x20on\x20port\x20'+port+'.');});const sockets=[];socketServer['on'](a18_0x5d99('0x13'),function(_0x1158a8){console['log']('CONNECTED:\x20'+_0x1158a8['remoteAddress']+':'+_0x1158a8[a18_0x5d99('0x14')]);sockets['push'](_0x1158a8);_0x1158a8['on']('data',function(_0x53ec42){console[a18_0x5d99('0xd')](a18_0x5d99('0x15'),String(_0x53ec42));try{const _0x379731=JSON[a18_0x5d99('0x16')](String(_0x53ec42));console[a18_0x5d99('0xd')](a18_0x5d99('0x17'));console[a18_0x5d99('0xd')](_0x379731);const _0x1a5f51=eventsService_1[a18_0x5d99('0x18')][a18_0x5d99('0x19')]();_0x1a5f51[a18_0x5d99('0x1a')](_0x379731);if(_0x379731[a18_0x5d99('0x1b')]==a18_0x5d99('0x1c')){}else if(_0x379731[a18_0x5d99('0x1b')]=='fatigue'){}}catch(_0x56128e){console[a18_0x5d99('0xd')]('connection\x20json',_0x56128e);}});_0x1158a8['on'](a18_0x5d99('0x1d'),function(_0x4f909c){const _0x468941=sockets[a18_0x5d99('0x1e')](function(_0x21b06d){return _0x21b06d['remoteAddress']===_0x1158a8[a18_0x5d99('0x1f')]&&_0x21b06d[a18_0x5d99('0x14')]===_0x1158a8[a18_0x5d99('0x14')];});if(_0x468941!==-0x1)sockets[a18_0x5d99('0x20')](_0x468941,0x1);console[a18_0x5d99('0xd')]('CLOSED:\x20'+_0x1158a8[a18_0x5d99('0x1f')]+'\x20'+_0x1158a8[a18_0x5d99('0x14')]);});});exports[a18_0x5d99('0x8')]=server;
var a18_0x2f14=['push','data','parse','******result:\x20','EventsService','getInstance','action','connection\x20json','close','remotePort','splice','CLOSED:\x20','__importDefault','__esModule','defineProperty','./services/mainService','./app','MainService','init','use','default','listen','get','port','log','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','env','\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a','net','0.0.0.0','TCP\x20Server\x20is\x20running\x20on\x20port\x20','connection','CONNECTED:\x20','remoteAddress'];(function(_0x4176e8,_0x224e90){var _0x2e4c78=function(_0x1e01ba){while(--_0x1e01ba){_0x4176e8['push'](_0x4176e8['shift']());}};_0x2e4c78(++_0x224e90);}(a18_0x2f14,0x160));var a18_0x3c12=function(_0x28ea23,_0x4b2992){_0x28ea23=_0x28ea23-0x0;var _0x10adcb=a18_0x2f14[_0x28ea23];return _0x10adcb;};'use strict';var __importDefault=this&&this[a18_0x3c12('0x0')]||function(_0x3b7946){return _0x3b7946&&_0x3b7946[a18_0x3c12('0x1')]?_0x3b7946:{'default':_0x3b7946};};Object[a18_0x3c12('0x2')](exports,a18_0x3c12('0x1'),{'value':!![]});const errorhandler_1=__importDefault(require('errorhandler'));const mainService_1=require(a18_0x3c12('0x3'));const app_1=__importDefault(require(a18_0x3c12('0x4')));const eventsService_1=require('./services/eventsService');const mainService=new mainService_1[(a18_0x3c12('0x5'))]();mainService[a18_0x3c12('0x6')]();app_1['default'][a18_0x3c12('0x7')](errorhandler_1[a18_0x3c12('0x8')]());const server=app_1[a18_0x3c12('0x8')][a18_0x3c12('0x9')](app_1[a18_0x3c12('0x8')][a18_0x3c12('0xa')](a18_0x3c12('0xb')),()=>{console[a18_0x3c12('0xc')](a18_0x3c12('0xd'),app_1['default']['get'](a18_0x3c12('0xb')),app_1[a18_0x3c12('0x8')][a18_0x3c12('0xa')](a18_0x3c12('0xe')));console[a18_0x3c12('0xc')](a18_0x3c12('0xf'));});const net=require(a18_0x3c12('0x10'));const port=0x2af8;const host=a18_0x3c12('0x11');const fs=require('fs');const socketServer=net['createServer']();socketServer[a18_0x3c12('0x9')](port,host,()=>{console[a18_0x3c12('0xc')](a18_0x3c12('0x12')+port+'.');});const sockets=[];socketServer['on'](a18_0x3c12('0x13'),function(_0x2fb050){console[a18_0x3c12('0xc')](a18_0x3c12('0x14')+_0x2fb050[a18_0x3c12('0x15')]+':'+_0x2fb050['remotePort']);sockets[a18_0x3c12('0x16')](_0x2fb050);_0x2fb050['on'](a18_0x3c12('0x17'),function(_0x1eee56){console[a18_0x3c12('0xc')](a18_0x3c12('0x17'),String(_0x1eee56));try{const _0xfa6f2d=JSON[a18_0x3c12('0x18')](String(_0x1eee56));console['log'](a18_0x3c12('0x19'));console[a18_0x3c12('0xc')](_0xfa6f2d);const _0x128a45=eventsService_1[a18_0x3c12('0x1a')][a18_0x3c12('0x1b')]();_0x128a45['saveEvent'](_0xfa6f2d);if(_0xfa6f2d[a18_0x3c12('0x1c')]=='face_id'){}else if(_0xfa6f2d[a18_0x3c12('0x1c')]=='fatigue'){}}catch(_0xf7dc0){console[a18_0x3c12('0xc')](a18_0x3c12('0x1d'),_0xf7dc0);}});_0x2fb050['on'](a18_0x3c12('0x1e'),function(_0x103fd1){const _0x447513=sockets['findIndex'](function(_0x10df97){return _0x10df97[a18_0x3c12('0x15')]===_0x2fb050['remoteAddress']&&_0x10df97[a18_0x3c12('0x1f')]===_0x2fb050['remotePort'];});if(_0x447513!==-0x1)sockets[a18_0x3c12('0x20')](_0x447513,0x1);console['log'](a18_0x3c12('0x21')+_0x2fb050[a18_0x3c12('0x15')]+'\x20'+_0x2fb050[a18_0x3c12('0x1f')]);});});exports[a18_0x3c12('0x8')]=server;
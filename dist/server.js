var a15_0x74ec=['MainService','default','listen','port','log','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','get','env','net','0.0.0.0','createServer','TCP\x20Server\x20is\x20running\x20on\x20port\x20','connection','remoteAddress','push','data','******result:\x20','forEach','remotePort','\x20said\x20*********:\x0a\x20','close','findIndex','splice','CLOSED:\x20','__importDefault','__esModule','errorhandler','./services/mainService','./app'];(function(_0xecee74,_0x15aae9){var _0x455aad=function(_0x225797){while(--_0x225797){_0xecee74['push'](_0xecee74['shift']());}};_0x455aad(++_0x15aae9);}(a15_0x74ec,0x1cb));var a15_0x32cc=function(_0x3a8668,_0x182b25){_0x3a8668=_0x3a8668-0x0;var _0x54ee3b=a15_0x74ec[_0x3a8668];return _0x54ee3b;};'use strict';var __importDefault=this&&this[a15_0x32cc('0x0')]||function(_0x27e4b9){return _0x27e4b9&&_0x27e4b9[a15_0x32cc('0x1')]?_0x27e4b9:{'default':_0x27e4b9};};Object['defineProperty'](exports,a15_0x32cc('0x1'),{'value':!![]});const errorhandler_1=__importDefault(require(a15_0x32cc('0x2')));const mainService_1=require(a15_0x32cc('0x3'));const app_1=__importDefault(require(a15_0x32cc('0x4')));const mainService=new mainService_1[(a15_0x32cc('0x5'))]();mainService['init']();app_1[a15_0x32cc('0x6')]['use'](errorhandler_1[a15_0x32cc('0x6')]());const server=app_1['default'][a15_0x32cc('0x7')](app_1[a15_0x32cc('0x6')]['get'](a15_0x32cc('0x8')),()=>{console[a15_0x32cc('0x9')](a15_0x32cc('0xa'),app_1[a15_0x32cc('0x6')][a15_0x32cc('0xb')](a15_0x32cc('0x8')),app_1[a15_0x32cc('0x6')][a15_0x32cc('0xb')](a15_0x32cc('0xc')));console[a15_0x32cc('0x9')]('\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a');});const net=require(a15_0x32cc('0xd'));const port=0x2af8;const host=a15_0x32cc('0xe');const fs=require('fs');const socketServer=net[a15_0x32cc('0xf')]();socketServer['listen'](port,host,()=>{console['log'](a15_0x32cc('0x10')+port+'.');});const sockets=[];socketServer['on'](a15_0x32cc('0x11'),function(_0x133cc7){console[a15_0x32cc('0x9')]('CONNECTED:\x20'+_0x133cc7[a15_0x32cc('0x12')]+':'+_0x133cc7['remotePort']);sockets[a15_0x32cc('0x13')](_0x133cc7);_0x133cc7['on'](a15_0x32cc('0x14'),function(_0x51e160){const _0x65d2ab=String(_0x51e160);console[a15_0x32cc('0x9')](a15_0x32cc('0x15'));console[a15_0x32cc('0x9')](_0x65d2ab);sockets[a15_0x32cc('0x16')](function(_0x133cc7,_0x44fcc0,_0x55bcca){_0x133cc7['write'](_0x133cc7[a15_0x32cc('0x12')]+':'+_0x133cc7[a15_0x32cc('0x17')]+a15_0x32cc('0x18')+_0x51e160+'\x0a');});});_0x133cc7['on'](a15_0x32cc('0x19'),function(_0x52b3d1){const _0x3f90f8=sockets[a15_0x32cc('0x1a')](function(_0x281725){return _0x281725[a15_0x32cc('0x12')]===_0x133cc7['remoteAddress']&&_0x281725[a15_0x32cc('0x17')]===_0x133cc7['remotePort'];});if(_0x3f90f8!==-0x1)sockets[a15_0x32cc('0x1b')](_0x3f90f8,0x1);console[a15_0x32cc('0x9')](a15_0x32cc('0x1c')+_0x133cc7['remoteAddress']+'\x20'+_0x133cc7[a15_0x32cc('0x17')]);});});exports[a15_0x32cc('0x6')]=server;
var a15_0x15db=['use','listen','get','log','port','\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a','net','0.0.0.0','createServer','CONNECTED:\x20','remoteAddress','remotePort','push','data','******result:\x20','forEach','\x20said\x20*********:\x0a\x20','close','findIndex','splice','CLOSED:\x20','__importDefault','__esModule','defineProperty','errorhandler','./services/mainService','MainService','default'];(function(_0x1aa8f5,_0x2e2763){var _0x2fbdd0=function(_0x37c418){while(--_0x37c418){_0x1aa8f5['push'](_0x1aa8f5['shift']());}};_0x2fbdd0(++_0x2e2763);}(a15_0x15db,0xbd));var a15_0xb928=function(_0x32f0c8,_0xceeb1e){_0x32f0c8=_0x32f0c8-0x0;var _0x12f7ef=a15_0x15db[_0x32f0c8];return _0x12f7ef;};'use strict';var __importDefault=this&&this[a15_0xb928('0x0')]||function(_0x5df792){return _0x5df792&&_0x5df792[a15_0xb928('0x1')]?_0x5df792:{'default':_0x5df792};};Object[a15_0xb928('0x2')](exports,a15_0xb928('0x1'),{'value':!![]});const errorhandler_1=__importDefault(require(a15_0xb928('0x3')));const mainService_1=require(a15_0xb928('0x4'));const app_1=__importDefault(require('./app'));const mainService=new mainService_1[(a15_0xb928('0x5'))](app_1[a15_0xb928('0x6')]);mainService['init']();app_1['default'][a15_0xb928('0x7')](errorhandler_1['default']());const server=app_1[a15_0xb928('0x6')][a15_0xb928('0x8')](app_1[a15_0xb928('0x6')][a15_0xb928('0x9')]('port'),()=>{console[a15_0xb928('0xa')]('\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode',app_1[a15_0xb928('0x6')][a15_0xb928('0x9')](a15_0xb928('0xb')),app_1[a15_0xb928('0x6')][a15_0xb928('0x9')]('env'));console[a15_0xb928('0xa')](a15_0xb928('0xc'));});const net=require(a15_0xb928('0xd'));const port=0x4d;const host=a15_0xb928('0xe');const fs=require('fs');const socketServer=net[a15_0xb928('0xf')]();socketServer[a15_0xb928('0x8')](port,host,()=>{console[a15_0xb928('0xa')]('TCP\x20Server\x20is\x20running\x20on\x20port\x20'+port+'.');});const sockets=[];socketServer['on']('connection',function(_0x5c4d8f){console['log'](a15_0xb928('0x10')+_0x5c4d8f[a15_0xb928('0x11')]+':'+_0x5c4d8f[a15_0xb928('0x12')]);sockets[a15_0xb928('0x13')](_0x5c4d8f);_0x5c4d8f['on'](a15_0xb928('0x14'),function(_0x561b65){const _0x2ce12a=String(_0x561b65);console[a15_0xb928('0xa')](a15_0xb928('0x15'));console[a15_0xb928('0xa')](_0x2ce12a);sockets[a15_0xb928('0x16')](function(_0x5c4d8f,_0xef16fc,_0x30ea27){_0x5c4d8f['write'](_0x5c4d8f[a15_0xb928('0x11')]+':'+_0x5c4d8f['remotePort']+a15_0xb928('0x17')+_0x561b65+'\x0a');});});_0x5c4d8f['on'](a15_0xb928('0x18'),function(_0x46ba71){const _0x4963f0=sockets[a15_0xb928('0x19')](function(_0x28af35){return _0x28af35['remoteAddress']===_0x5c4d8f['remoteAddress']&&_0x28af35[a15_0xb928('0x12')]===_0x5c4d8f[a15_0xb928('0x12')];});if(_0x4963f0!==-0x1)sockets[a15_0xb928('0x1a')](_0x4963f0,0x1);console['log'](a15_0xb928('0x1b')+_0x5c4d8f[a15_0xb928('0x11')]+'\x20'+_0x5c4d8f[a15_0xb928('0x12')]);});});exports[a15_0xb928('0x6')]=server;
var a19_0x299f=['defineProperty','__esModule','../infrastructure/stationSettings','request','init','log','exploreDir','doorSensorUser','StationContext','settings','Basic\x20','base64','length','substr','SensorsService'];(function(_0x5bc487,_0x56d260){var _0x540a0a=function(_0x5c0ae3){while(--_0x5c0ae3){_0x5bc487['push'](_0x5bc487['shift']());}};_0x540a0a(++_0x56d260);}(a19_0x299f,0x87));var a19_0x6523=function(_0x19e8de,_0x5c86c3){_0x19e8de=_0x19e8de-0x0;var _0x53e584=a19_0x299f[_0x19e8de];return _0x53e584;};'use strict';Object[a19_0x6523('0x0')](exports,a19_0x6523('0x1'),{'value':!![]});const stationSettings_1=require(a19_0x6523('0x2'));const fs=require('fs');const request=require(a19_0x6523('0x3'));class SensorsService{constructor(){this['doorStatus']=0x0;}[a19_0x6523('0x4')](){console[a19_0x6523('0x5')]('init\x20SensorsService');this['exploreDir'](0x0);}[a19_0x6523('0x6')](_0x4517f2){const _0x15cc56=stationSettings_1['StationContext']['settings'][a19_0x6523('0x7')],_0x54c687=stationSettings_1[a19_0x6523('0x8')][a19_0x6523('0x9')]['doorSensorPass'],_0x4add35=stationSettings_1[a19_0x6523('0x8')]['settings']['doorSensorURL'],_0x58bfd4=a19_0x6523('0xa')+new Buffer(_0x15cc56+':'+_0x54c687)['toString'](a19_0x6523('0xb'));request({'url':_0x4add35,'headers':{'Authorization':_0x58bfd4}},(_0x3027aa,_0xea5d85,_0xaf4c06)=>{if(_0xaf4c06!=null&&_0xaf4c06[a19_0x6523('0xc')]>0x4){const _0x1b6e4c=_0xaf4c06[a19_0x6523('0xd')](0x4,0x1);if(Number(_0x1b6e4c)!==NaN){this['doorStatus']=Number(_0x1b6e4c);}}});setTimeout(()=>{this[a19_0x6523('0x6')](++_0x4517f2);},0x1f4);}}exports[a19_0x6523('0xe')]=SensorsService;
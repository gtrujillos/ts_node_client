var a25_0x222e=['env','playListServiceURL','baseURL','api/player_playlist.php?player_id={0}','kodi','checkDependencies','registerClient','checkFolders','loadMediaList','updateSettings','getStatus','bind','checkSchedule','playlist','getItems','stringify','deviceUuid','networkInterfaces','httpClientService','http://restapi.lulo.run/player_devices/register','then','log','register\x20response:\x20','catch','writeFileSync','player','getCurrentlyPlayingVideo','label','reportStatus','reportStatus\x20playingItem:\x20','http://restapi.lulo.run/player_devices/report_status','ensureDir','loadMediaList:\x20','hasPlayListChanged','emptyDirSync','push','Total\x20to\x20download:\x20','length','reloadMediaList','existsSync','removeSync','m3uFile','toString','download','this.currentFile:\x20','\x20of\x20','path','split','slice','join','youtube_single','.mp4','**********+','checkVideo','downloadYouTube','downloader','m3uFileUpdate','refreshPlayer','videoFile:\x20','media','track','@type','Video','mediainfo\x20check:','includes','indexOf','splice','downloading:\x20','start','Error:\x20','start:\x20','error','error:\x20','end','Downloaded:\x20','mediaType:\x20','stopped','destroyed','retry','downloadHTTPFile','Attempting\x20to\x20download\x20','\x20to\x20','Max\x20redirects\x20reached','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','downloadFile\x20callback\x20result\x20undefined:\x20','globalAgent','maxSockets','host','pathname','get','\x20Progress:\x20unknown\x09','statusCode','headers','content-length','Have\x20already\x20downloaded\x20','size','And\x20the\x20file\x20size\x20matches\x20(','Redownloading','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(',')\x20vs\x20New(','createWriteStream','pipe','data','err:\x20','finish','Downloaded\x20','location','Redirect\x20','Redirect\x20limit\x20encountered\x20for\x20','File\x20Not\x20Found\x20','Problem\x20downloading\x20','\x20STATUS:\x20','abort','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','duration','createImageVideo','downloadRequestFile','progress','Error\x20downloading\x20file','image','video','1/2','-loop','-pattern_type','-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','youtubeURL:\x20','outFileName:\x20','--format=18','--no-check-certificate','info','Download\x20started','filename:\x20','_filename','\x20already\x20downloaded.','finished\x20youtube\x20downloading!','finishProcess','Finishing','this.playListFile:\x20','emptyDir','copy','Refreshing..','Playlist\x20incomplete,\x20retry.','No\x20playlist\x20changes.','#EXTINF:0,luloPlayList','Parse','start_date','DateUtils','lastIndexOf','/home/osmc/luloclient/media/files/','trim','PlayMedia(//home/osmc/luloclient/media/files/lulo_playlist.m3u)','Rebooting','sudo\x20/sbin/reboot\x20-f','rss','header_active','turnOffTV','kodiCommandClient','CECStandby()','turnOnTV','CECActivateSource()','setRss','xmlContent:\x20','xml2js','parseString','err:\x20%j','result:\x20%j','none','rssfeeds','set','feed','Builder','buildObject','xml:\x20%j','RefreshRSS()','jsonrpcClient','Settings.SetSettingValue','lookandfeel.enablerssfeeds','setRss:','videoplayer.usedisplayasclock','enableClock:\x20','kodi-send\x20--action=\x22','2.0','/jsonrpc','SyncPlaylistsService','__awaiter','next','throw','done','apply','defineProperty','__esModule','../infrastructure/HttpClientService','node-mediainfo','url','http','request','request-progress','spawn','child_process','is-image','string-template','youtube-dl','config.json','package.json','url-exists','node-kodi','mt-files-downloader','mediaFolder','media/','tempFolder','temp/','filesFolder','files/','playListFile','playlist.txt','lulo_playlist.m3u','currentFile','playlistChanged','downloadFiles','failDownloadFiles','newPlayList','kodiHost','http://192.168.0.109','kodiUser','lulo','kodiPassword','.lulo123.','forceReload','config','parse','readFileSync','context','playerId'];(function(_0x44b077,_0x559698){var _0x39aacd=function(_0xded5ac){while(--_0xded5ac){_0x44b077['push'](_0x44b077['shift']());}};_0x39aacd(++_0x559698);}(a25_0x222e,0xc5));var a25_0x7a3b=function(_0x290eaa,_0x366b21){_0x290eaa=_0x290eaa-0x0;var _0x570f39=a25_0x222e[_0x290eaa];return _0x570f39;};'use strict';var __awaiter=this&&this[a25_0x7a3b('0x0')]||function(_0x338a72,_0x20c9eb,_0x194794,_0x1f0968){function _0x121c3e(_0x5bd340){return _0x5bd340 instanceof _0x194794?_0x5bd340:new _0x194794(function(_0xc93f2b){_0xc93f2b(_0x5bd340);});}return new(_0x194794||(_0x194794=Promise))(function(_0x52d57a,_0x968d4b){function _0x526449(_0x2728ed){try{_0x37acba(_0x1f0968[a25_0x7a3b('0x1')](_0x2728ed));}catch(_0x1473c8){_0x968d4b(_0x1473c8);}}function _0x181193(_0x4acbd6){try{_0x37acba(_0x1f0968[a25_0x7a3b('0x2')](_0x4acbd6));}catch(_0x167372){_0x968d4b(_0x167372);}}function _0x37acba(_0x1e9877){_0x1e9877[a25_0x7a3b('0x3')]?_0x52d57a(_0x1e9877['value']):_0x121c3e(_0x1e9877['value'])['then'](_0x526449,_0x181193);}_0x37acba((_0x1f0968=_0x1f0968[a25_0x7a3b('0x4')](_0x338a72,_0x20c9eb||[]))[a25_0x7a3b('0x1')]());});};Object[a25_0x7a3b('0x5')](exports,a25_0x7a3b('0x6'),{'value':!![]});const HttpClientService_1=require(a25_0x7a3b('0x7'));const playerService_1=require('./playerService');const dateUtils_1=require('../infrastructure/utils/dateUtils');const mediainfo=require(a25_0x7a3b('0x8'));const fs=require('fs');const url=require(a25_0x7a3b('0x9'));const http=require(a25_0x7a3b('0xa'));const fsExtra=require('fs-extra');const request=require(a25_0x7a3b('0xb'));const progress=require(a25_0x7a3b('0xc'));const spawn=require('child_process')[a25_0x7a3b('0xd')];const exec=require(a25_0x7a3b('0xe'))['exec'];const isImage=require(a25_0x7a3b('0xf'));const format=require(a25_0x7a3b('0x10'));const os=require('os');const youtubedl=require(a25_0x7a3b('0x11'));const uuidv4=require('uuid/v4');const configFile=a25_0x7a3b('0x12');const contextFile=a25_0x7a3b('0x13');const urlExists=require(a25_0x7a3b('0x14'));const kodi_rpc=require(a25_0x7a3b('0x15'));const Downloader=require(a25_0x7a3b('0x16'));class SyncPlaylistsService{constructor(){this[a25_0x7a3b('0x17')]=a25_0x7a3b('0x18');this[a25_0x7a3b('0x19')]=this['mediaFolder']+a25_0x7a3b('0x1a');this[a25_0x7a3b('0x1b')]=this['mediaFolder']+a25_0x7a3b('0x1c');this[a25_0x7a3b('0x1d')]=this[a25_0x7a3b('0x17')]+a25_0x7a3b('0x1e');this['m3uFile']=this[a25_0x7a3b('0x1b')]+a25_0x7a3b('0x1f');this[a25_0x7a3b('0x20')]=0x0;this[a25_0x7a3b('0x21')]=![];this[a25_0x7a3b('0x22')]=[];this[a25_0x7a3b('0x23')]=[];this[a25_0x7a3b('0x24')]={};this[a25_0x7a3b('0x25')]=a25_0x7a3b('0x26');this[a25_0x7a3b('0x27')]=a25_0x7a3b('0x28');this[a25_0x7a3b('0x29')]=a25_0x7a3b('0x2a');this[a25_0x7a3b('0x2b')]=![];this['httpClientService']=new HttpClientService_1['HttpClientService']();this['playerService']=new playerService_1['PlayerService']();}['init'](){this[a25_0x7a3b('0x2c')]=JSON[a25_0x7a3b('0x2d')](fs[a25_0x7a3b('0x2e')](configFile));this[a25_0x7a3b('0x2f')]=JSON[a25_0x7a3b('0x2d')](fs['readFileSync'](contextFile));this[a25_0x7a3b('0x30')]=this[a25_0x7a3b('0x2c')][a25_0x7a3b('0x30')];this['baseURL']=process[a25_0x7a3b('0x31')]['WEB_SERVICE_URL']+'deploy/';this[a25_0x7a3b('0x32')]=this[a25_0x7a3b('0x33')]+a25_0x7a3b('0x34');this['playerServiceURL']=this[a25_0x7a3b('0x33')]+'api/player.php?player_id={0}';this[a25_0x7a3b('0x35')]=new kodi_rpc({'url':this[a25_0x7a3b('0x25')],'user':this[a25_0x7a3b('0x27')],'password':this[a25_0x7a3b('0x29')]});this[a25_0x7a3b('0x36')]();this[a25_0x7a3b('0x37')]();this[a25_0x7a3b('0x38')]();this[a25_0x7a3b('0x39')]();this[a25_0x7a3b('0x3a')]();setInterval(function(){this[a25_0x7a3b('0x3b')]();}[a25_0x7a3b('0x3c')](this),0x2710);setInterval(function(){this[a25_0x7a3b('0x37')]();}[a25_0x7a3b('0x3c')](this),0x493e0);setInterval(function(){this[a25_0x7a3b('0x3d')]();}['bind'](this),0x2710);}[a25_0x7a3b('0x36')](){}[a25_0x7a3b('0x37')](){this['kodi'][a25_0x7a3b('0x3e')][a25_0x7a3b('0x3f')](0x1)['then'](function(_0x11f482){const _0x1b7cf4=JSON[a25_0x7a3b('0x40')](_0x11f482);const _0x25a35b={'player_id':this['playerId'],'device_uuid':this[a25_0x7a3b('0x2c')][a25_0x7a3b('0x41')],'network_info':JSON[a25_0x7a3b('0x40')](os[a25_0x7a3b('0x42')]()),'firmware_info':JSON[a25_0x7a3b('0x40')](this[a25_0x7a3b('0x2f')]['version']),'playlist':_0x1b7cf4,'playing_item':'','status':0x0};this[a25_0x7a3b('0x43')]['post'](a25_0x7a3b('0x44'),_0x25a35b,![])[a25_0x7a3b('0x45')](function(_0x444ddb){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x47')+Date());})[a25_0x7a3b('0x48')](function(_0x15e380){});console[a25_0x7a3b('0x46')](_0x25a35b);}[a25_0x7a3b('0x3c')](this));const _0x8363d3=this[a25_0x7a3b('0x2c')][a25_0x7a3b('0x41')];if(!_0x8363d3||_0x8363d3==''){this[a25_0x7a3b('0x2c')]['deviceUuid']=uuidv4();this[a25_0x7a3b('0x2c')]={'deviceUuid':this[a25_0x7a3b('0x2c')]['deviceUuid'],'playerId':this['config'][a25_0x7a3b('0x30')]};fs[a25_0x7a3b('0x49')](configFile,JSON[a25_0x7a3b('0x40')](this[a25_0x7a3b('0x2c')]));}}[a25_0x7a3b('0x3b')](){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x3b'));this[a25_0x7a3b('0x35')][a25_0x7a3b('0x4a')][a25_0x7a3b('0x4b')]()[a25_0x7a3b('0x45')](function(_0x3c6aa5){const _0x427de9=_0x3c6aa5['item'][a25_0x7a3b('0x4c')];this['reportStatus'](_0x427de9);}[a25_0x7a3b('0x3c')](this))[a25_0x7a3b('0x48')](function(_0x30f9da){console[a25_0x7a3b('0x46')](_0x30f9da);this[a25_0x7a3b('0x4d')](JSON[a25_0x7a3b('0x40')](_0x30f9da));}['bind'](this));}[a25_0x7a3b('0x4d')](_0x975fff){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x4e')+_0x975fff);const _0x1c73be={'player_id':this[a25_0x7a3b('0x30')],'device_uuid':this[a25_0x7a3b('0x2c')][a25_0x7a3b('0x41')],'status':_0x975fff!=''&&_0x975fff!=null?0x1:0x0,'playing_item':_0x975fff};this[a25_0x7a3b('0x43')]['post'](a25_0x7a3b('0x4f'),_0x1c73be,![])['then'](function(_0x1978fd){console[a25_0x7a3b('0x46')]('reportStatusResponse');})[a25_0x7a3b('0x48')](function(_0x166200){});}[a25_0x7a3b('0x38')](){fsExtra[a25_0x7a3b('0x50')](this[a25_0x7a3b('0x17')],_0x1a8d55=>{});fsExtra[a25_0x7a3b('0x50')](this['tempFolder'],_0x4d3ca5=>{});fsExtra[a25_0x7a3b('0x50')](this['filesFolder'],_0x5dd42b=>{});}[a25_0x7a3b('0x39')](){const _0x3c6f2b=format(this['playListServiceURL'],this['playerId']);console['log'](_0x3c6f2b);request({'url':_0x3c6f2b,'json':!![]},function(_0xcf09de,_0x561a38,_0x4cb57a){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x51'));this['newPlayList']=_0x4cb57a;this['playlistChanged']=this[a25_0x7a3b('0x52')]();fsExtra[a25_0x7a3b('0x53')](this[a25_0x7a3b('0x19')]);this[a25_0x7a3b('0x22')]=[];this['failDownloadFiles']=[];this[a25_0x7a3b('0x20')]=0x0;for(const _0x44f485 in _0x4cb57a){this[a25_0x7a3b('0x22')][a25_0x7a3b('0x54')](_0x4cb57a[_0x44f485]);}console[a25_0x7a3b('0x46')](a25_0x7a3b('0x55')+this['downloadFiles'][a25_0x7a3b('0x56')]);if(this[a25_0x7a3b('0x22')][a25_0x7a3b('0x56')]>0x0){this['download']();}}[a25_0x7a3b('0x3c')](this));}[a25_0x7a3b('0x57')](){this[a25_0x7a3b('0x2b')]=!![];if(fsExtra['existsSync'](this[a25_0x7a3b('0x19')])){fsExtra[a25_0x7a3b('0x53')](this[a25_0x7a3b('0x19')]);}if(fsExtra[a25_0x7a3b('0x58')](this[a25_0x7a3b('0x1b')])){fsExtra['emptyDirSync'](this[a25_0x7a3b('0x1b')]);}if(!fsExtra[a25_0x7a3b('0x58')](this['playListFile'])){fsExtra[a25_0x7a3b('0x59')](this[a25_0x7a3b('0x1d')]);}if(!fsExtra[a25_0x7a3b('0x58')](this[a25_0x7a3b('0x5a')])){fsExtra[a25_0x7a3b('0x59')](this['m3uFile']);}this[a25_0x7a3b('0x39')]();}[a25_0x7a3b('0x52')](){const _0x5cd889=JSON[a25_0x7a3b('0x40')](this['newPlayList']);try{if(!fsExtra[a25_0x7a3b('0x58')](this[a25_0x7a3b('0x1d')])){return!![];}else{const _0x37dc86=fsExtra[a25_0x7a3b('0x2e')](this['playListFile'])[a25_0x7a3b('0x5b')]();if(_0x37dc86!=_0x5cd889){return!![];}}}catch(_0x4cb674){console['log'](_0x4cb674);}return![];}[a25_0x7a3b('0x5c')](){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x5d')+this['currentFile']+a25_0x7a3b('0x5e')+this['downloadFiles'][a25_0x7a3b('0x56')]);if(this[a25_0x7a3b('0x20')]>=this[a25_0x7a3b('0x22')]['length']){this['finishProcess']();return;}const _0x4f0467=String(this[a25_0x7a3b('0x22')][this[a25_0x7a3b('0x20')]][a25_0x7a3b('0x5f')]);const _0x5b06c6=this[a25_0x7a3b('0x22')][this[a25_0x7a3b('0x20')]]['media_type'];let _0x14e285=_0x4f0467['substring'](_0x4f0467['lastIndexOf']('/')+0x1);const _0xaec5bc=_0x14e285[a25_0x7a3b('0x60')]('.')[a25_0x7a3b('0x61')](0x0,-0x1)[a25_0x7a3b('0x62')]('.');let _0x5724bc=this[a25_0x7a3b('0x33')]+_0x4f0467;const _0x3316ba=_0x5724bc[a25_0x7a3b('0x60')]('.')['slice'](0x0,-0x1)[a25_0x7a3b('0x62')]('.');if(_0x5b06c6==a25_0x7a3b('0x63')){_0x14e285=_0x14e285+a25_0x7a3b('0x64');}else if(_0x5b06c6=='image'){_0x14e285=_0xaec5bc+'.mp4';_0x5724bc=_0x3316ba+a25_0x7a3b('0x64');}console['log'](a25_0x7a3b('0x65'));console[a25_0x7a3b('0x46')](_0x4f0467);console[a25_0x7a3b('0x46')](_0x5b06c6);console['log'](_0x14e285);console[a25_0x7a3b('0x46')](_0x5724bc);console[a25_0x7a3b('0x46')](_0xaec5bc);console[a25_0x7a3b('0x46')](_0x3316ba);console[a25_0x7a3b('0x46')]('**********+');if(fsExtra[a25_0x7a3b('0x58')](this[a25_0x7a3b('0x19')]+_0x14e285)){this[a25_0x7a3b('0x66')](this[a25_0x7a3b('0x19')]+_0x14e285)[a25_0x7a3b('0x45')](function(_0x478faa){if(_0x478faa){this[a25_0x7a3b('0x20')]++;}else{this['playlistChanged']=!![];}this[a25_0x7a3b('0x5c')]();}['bind'](this));}else if(fsExtra['existsSync'](this[a25_0x7a3b('0x1b')]+_0x14e285)){this['checkVideo'](this[a25_0x7a3b('0x1b')]+_0x14e285)[a25_0x7a3b('0x45')](function(_0x6ed5){if(_0x6ed5){fsExtra['copySync'](this[a25_0x7a3b('0x1b')]+_0x14e285,this[a25_0x7a3b('0x19')]+_0x14e285);this['currentFile']++;}else{this[a25_0x7a3b('0x21')]=!![];}this[a25_0x7a3b('0x5c')]();}['bind'](this));}else{console[a25_0x7a3b('0x46')]('Downloading:\x20'+_0x5724bc);this[a25_0x7a3b('0x21')]=!![];if(_0x5b06c6==a25_0x7a3b('0x63')){this[a25_0x7a3b('0x67')](_0x4f0467);}else{this[a25_0x7a3b('0x68')](_0x5724bc,_0x14e285,_0x5b06c6);}}}[a25_0x7a3b('0x3d')](){const _0x467488=this[a25_0x7a3b('0x69')]();console['log'](a25_0x7a3b('0x69'),_0x467488);if(_0x467488){this[a25_0x7a3b('0x6a')]();}}[a25_0x7a3b('0x66')](_0x4fbbbb){return __awaiter(this,void 0x0,void 0x0,function*(){console['log'](a25_0x7a3b('0x6b')+_0x4fbbbb);const _0x378586=yield mediainfo(_0x4fbbbb)[a25_0x7a3b('0x48')](_0x42dc72=>{console[a25_0x7a3b('0x46')](_0x42dc72);fsExtra[a25_0x7a3b('0x59')](_0x4fbbbb);return![];});const _0x1db7f2=_0x378586[a25_0x7a3b('0x6c')][a25_0x7a3b('0x6d')][a25_0x7a3b('0x56')]>0x1&&_0x378586[a25_0x7a3b('0x6c')][a25_0x7a3b('0x6d')][0x1][a25_0x7a3b('0x6e')]==a25_0x7a3b('0x6f');if(!_0x1db7f2){fsExtra[a25_0x7a3b('0x59')](_0x4fbbbb);}console[a25_0x7a3b('0x46')](a25_0x7a3b('0x70')+_0x1db7f2);return _0x1db7f2;});}[a25_0x7a3b('0x68')](_0x56aa05,_0x20bd90,_0x32eaaf){const _0x5cd0ad=new Downloader();console[a25_0x7a3b('0x46')](_0x56aa05);console['log'](_0x20bd90);console[a25_0x7a3b('0x46')](_0x32eaaf);const _0xd80562=_0x5cd0ad['download'](_0x56aa05,this[a25_0x7a3b('0x19')]+_0x20bd90);urlExists(_0x56aa05,function(_0x309aeb,_0x1510bd){if(_0x1510bd){if(this[a25_0x7a3b('0x23')][a25_0x7a3b('0x71')](this[a25_0x7a3b('0x20')])){const _0x2fbea8=this[a25_0x7a3b('0x23')][a25_0x7a3b('0x72')](this['currentFile']);if(_0x2fbea8>-0x1){this[a25_0x7a3b('0x23')][a25_0x7a3b('0x73')](_0x2fbea8,0x1);}}console['log'](a25_0x7a3b('0x74')+_0x56aa05);_0xd80562[a25_0x7a3b('0x75')]();}else{if(!this['failDownloadFiles'][a25_0x7a3b('0x71')](this[a25_0x7a3b('0x20')])){this['failDownloadFiles'][a25_0x7a3b('0x54')](this['currentFile']);}console[a25_0x7a3b('0x46')](a25_0x7a3b('0x76')+_0x56aa05);this[a25_0x7a3b('0x20')]++;this[a25_0x7a3b('0x5c')]();}}[a25_0x7a3b('0x3c')](this));_0xd80562['on'](a25_0x7a3b('0x75'),function(_0xd80562){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x77')+_0x56aa05);});_0xd80562['on'](a25_0x7a3b('0x78'),function(_0xd80562){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x79'));this[a25_0x7a3b('0x5c')]();}['bind'](this));_0xd80562['on'](a25_0x7a3b('0x7a'),function(_0xd80562){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x7a'));console[a25_0x7a3b('0x46')](a25_0x7a3b('0x7b')+_0x20bd90);console['log'](a25_0x7a3b('0x7c')+_0x32eaaf);this[a25_0x7a3b('0x66')](this[a25_0x7a3b('0x19')]+_0x20bd90)[a25_0x7a3b('0x45')](function(_0x3bc8cc){if(_0x3bc8cc){this[a25_0x7a3b('0x20')]++;}this[a25_0x7a3b('0x5c')]();}['bind'](this));}['bind'](this));_0xd80562['on']('stopped',function(_0xd80562){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x7d'));});_0xd80562['on'](a25_0x7a3b('0x7e'),function(_0xd80562){console['log'](a25_0x7a3b('0x7e'));});_0xd80562['on'](a25_0x7a3b('0x7f'),function(_0xd80562){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x7f'));});}[a25_0x7a3b('0x80')](_0x3cdfa9,_0x33e7b0,_0x375c0c,_0x46bfcf){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x80'));console[a25_0x7a3b('0x46')](_0x3cdfa9);const _0x326fce=!![];let _0x5ac6a7=0x0;const _0x3224fb='';console[a25_0x7a3b('0x46')](a25_0x7a3b('0x81')+_0x3cdfa9+a25_0x7a3b('0x82')+_0x33e7b0);if(_0x5ac6a7){if(_0x5ac6a7>0x5){_0x46bfcf(a25_0x7a3b('0x83'),_0x3cdfa9,_0x375c0c,null);return;}}else{_0x5ac6a7=0x0;}const _0x5e434b=this[a25_0x7a3b('0x19')]+_0x33e7b0;let _0x1bf9e2;if(_0x46bfcf===undefined){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x84')+_0x3cdfa9+a25_0x7a3b('0x82')+_0x5e434b);_0x46bfcf=function(_0x2f4ce6,_0x1265ac){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x85'),_0x2f4ce6,_0x1265ac);};}http[a25_0x7a3b('0x86')][a25_0x7a3b('0x87')]=0x64;const _0x1e3a72={'host':url[a25_0x7a3b('0x2d')](_0x3cdfa9)[a25_0x7a3b('0x88')],'port':0x50,'path':url[a25_0x7a3b('0x2d')](_0x3cdfa9)[a25_0x7a3b('0x89')],'agent':![]};const _0x45f175=http[a25_0x7a3b('0x8a')](_0x1e3a72,function(_0x6afdff){let _0x5426c6=0x0;let _0x4e01dd=0x0;function _0x4531f7(){if(_0x5426c6===undefined){console[a25_0x7a3b('0x46')](_0x33e7b0+a25_0x7a3b('0x8b')+_0x4e01dd+'/'+'?');}const _0xc53281=_0x4e01dd/_0x5426c6*0x64;console[a25_0x7a3b('0x46')](_0x33e7b0+'\x20Progress:\x20'+_0xc53281+'%\x09'+_0x4e01dd+'/'+_0x5426c6);}console[a25_0x7a3b('0x46')](_0x33e7b0+'\x20'+_0x6afdff[a25_0x7a3b('0x8c')]);switch(_0x6afdff[a25_0x7a3b('0x8c')]){case 0xc8:_0x5426c6=_0x6afdff[a25_0x7a3b('0x8d')][a25_0x7a3b('0x8e')]||_0x3224fb;fs['stat'](_0x5e434b,function(_0x43a420,_0xf8ab6e){if(!_0x43a420){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x8f')+_0x5e434b);if(_0xf8ab6e[a25_0x7a3b('0x90')]==_0x5426c6){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x91')+_0x5426c6+')');console[a25_0x7a3b('0x46')](a25_0x7a3b('0x92'));}else{console[a25_0x7a3b('0x46')](a25_0x7a3b('0x93')+_0xf8ab6e['size']+a25_0x7a3b('0x94')+_0x5426c6+')');}}_0x1bf9e2=fs[a25_0x7a3b('0x95')](_0x5e434b);_0x6afdff[a25_0x7a3b('0x96')](_0x1bf9e2);_0x6afdff['on'](a25_0x7a3b('0x97'),function(_0x2c77eb){_0x4e01dd+=_0x2c77eb[a25_0x7a3b('0x56')];_0x4531f7();});_0x45f175['on'](a25_0x7a3b('0x78'),function(_0x43a420){console['log'](a25_0x7a3b('0x98'));console[a25_0x7a3b('0x46')](_0x43a420);});_0x1bf9e2['on'](a25_0x7a3b('0x99'),function(){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x9a')+_0x3cdfa9+a25_0x7a3b('0x82')+_0x33e7b0);_0x46bfcf(null,_0x33e7b0,_0x375c0c,_0x33e7b0);}[a25_0x7a3b('0x3c')](this));});break;case 0x12e:const _0x822642=_0x6afdff[a25_0x7a3b('0x8d')][a25_0x7a3b('0x9b')];console[a25_0x7a3b('0x46')](a25_0x7a3b('0x9c')+_0x3cdfa9+a25_0x7a3b('0x82')+_0x822642);if(_0x5ac6a7<0x5){this[a25_0x7a3b('0x80')](_0x822642,_0x33e7b0,_0x46bfcf,_0x5ac6a7++);}else{console[a25_0x7a3b('0x78')](a25_0x7a3b('0x9d')+_0x3cdfa9+'.');_0x46bfcf('302',null,null,null);}return;case 0x194:console[a25_0x7a3b('0x46')](a25_0x7a3b('0x9e')+_0x3cdfa9);default:console[a25_0x7a3b('0x46')](a25_0x7a3b('0x9f')+_0x3cdfa9+a25_0x7a3b('0xa0')+_0x6afdff[a25_0x7a3b('0x8c')]);_0x45f175[a25_0x7a3b('0xa1')]();_0x46bfcf(_0x6afdff[a25_0x7a3b('0x8c')],null,null,null);return;}})['on'](a25_0x7a3b('0x78'),function(_0x49378f){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xa2')+_0x3cdfa9+'\x20'+_0x49378f[a25_0x7a3b('0xa3')]);_0x46bfcf(_0x49378f,null,null,null);});}['downloadHTTPFileCallback'](_0x2fcad1,_0x1d5c3a,_0x4159cd,_0x3b5d38){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xa4'));console['log'](_0x2fcad1);console[a25_0x7a3b('0x46')](_0x1d5c3a);console['log'](_0x4159cd);console[a25_0x7a3b('0x46')](_0x3b5d38);if(_0x4159cd=='image'){const _0x5a6202=this[a25_0x7a3b('0x22')][this[a25_0x7a3b('0x20')]][a25_0x7a3b('0xa5')]!=null?this[a25_0x7a3b('0x22')][this['currentFile']][a25_0x7a3b('0xa5')]:0x1e;this[a25_0x7a3b('0xa6')](_0x3b5d38,_0x5a6202);}else if(_0x4159cd=='video'){if(_0x2fcad1==null&&_0x1d5c3a!=''){this[a25_0x7a3b('0x20')]++;}this[a25_0x7a3b('0x5c')]();}console[a25_0x7a3b('0x46')](this[a25_0x7a3b('0x20')]);}[a25_0x7a3b('0xa7')](_0x2c3188,_0x10dfc0,_0xee83dd){progress(request(_0x2c3188),{})['on'](a25_0x7a3b('0xa8'),function(_0x27e9b8){console[a25_0x7a3b('0x46')](_0x27e9b8);})['on'](a25_0x7a3b('0x78'),function(_0xaea5ef){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xa9'));this[a25_0x7a3b('0x5c')]();})['on'](a25_0x7a3b('0x7a'),function(){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x7b')+_0x10dfc0);console[a25_0x7a3b('0x46')](a25_0x7a3b('0x7c')+_0xee83dd);if(_0xee83dd==a25_0x7a3b('0xaa')){const _0x16de9c=this[a25_0x7a3b('0x22')][this[a25_0x7a3b('0x20')]][a25_0x7a3b('0xa5')]!=null?this['downloadFiles'][this[a25_0x7a3b('0x20')]]['duration']:0x1e;this[a25_0x7a3b('0xa6')](_0x10dfc0,_0x16de9c);}else if(_0xee83dd==a25_0x7a3b('0xab')){this[a25_0x7a3b('0x20')]++;this[a25_0x7a3b('0x5c')]();}}[a25_0x7a3b('0x3c')](this))[a25_0x7a3b('0x96')](fs[a25_0x7a3b('0x95')](this[a25_0x7a3b('0x19')]+_0x10dfc0));}[a25_0x7a3b('0xa6')](_0x582dab,_0x4a6225=0x1e){const _0x18982f=this[a25_0x7a3b('0x19')]+_0x582dab;console['log'](_0x18982f);console[a25_0x7a3b('0x46')](_0x582dab);const _0x540dc9=_0x582dab[a25_0x7a3b('0x60')]('.')[a25_0x7a3b('0x61')](0x0,-0x1)[a25_0x7a3b('0x62')]('.');const _0x40a5d0='ffmpeg';const _0x41cdce=['-y','-r',a25_0x7a3b('0xac'),a25_0x7a3b('0xad'),'1',a25_0x7a3b('0xae'),'glob','-i',_0x18982f,'-t',String(_0x4a6225),a25_0x7a3b('0xaf'),a25_0x7a3b('0xb0'),a25_0x7a3b('0xb1'),a25_0x7a3b('0xb2'),'-r','25',a25_0x7a3b('0xb3'),a25_0x7a3b('0xb4'),this[a25_0x7a3b('0x19')]+_0x540dc9+a25_0x7a3b('0x64')];const _0x77e7b8=spawn(_0x40a5d0,_0x41cdce);_0x77e7b8[a25_0x7a3b('0xb5')]['on'](a25_0x7a3b('0x97'),function(_0x1a79af){console['log'](a25_0x7a3b('0xb6')+_0x18982f);});_0x77e7b8[a25_0x7a3b('0xb7')]['on'](a25_0x7a3b('0x97'),function(_0x86350a){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xb8')+_0x86350a);}[a25_0x7a3b('0x3c')](this));_0x77e7b8['on'](a25_0x7a3b('0xb9'),function(){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xba'));this[a25_0x7a3b('0x20')]++;this['download']();}[a25_0x7a3b('0x3c')](this));}['downloadYouTube'](_0x21d8b9){const _0x35909c=this[a25_0x7a3b('0x19')]+'/'+_0x21d8b9+'.mp4';const _0x509e4d='http://www.youtube.com/watch?v='+_0x21d8b9;console[a25_0x7a3b('0x46')](a25_0x7a3b('0xbb')+_0x509e4d);console[a25_0x7a3b('0x46')](a25_0x7a3b('0xbc')+_0x35909c);const _0x40c1b1=youtubedl(_0x509e4d,[a25_0x7a3b('0xbd'),a25_0x7a3b('0xbe')],{'cwd':__dirname});_0x40c1b1['on'](a25_0x7a3b('0xbf'),function(_0x1c1b4d){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xc0'));console['log'](a25_0x7a3b('0xc1')+_0x1c1b4d[a25_0x7a3b('0xc2')]);console['log']('size:\x20'+_0x1c1b4d[a25_0x7a3b('0x90')]);});_0x40c1b1['on']('complete',function complete(_0x5524ec){'use strict';console[a25_0x7a3b('0x46')](a25_0x7a3b('0xc1')+_0x5524ec[a25_0x7a3b('0xc2')]+a25_0x7a3b('0xc3'));});_0x40c1b1['on'](a25_0x7a3b('0x7a'),function(){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xc4'));this[a25_0x7a3b('0x66')](_0x35909c)[a25_0x7a3b('0x45')](function(_0xa965e5){if(_0xa965e5){this[a25_0x7a3b('0x20')]++;}this['download']();}[a25_0x7a3b('0x3c')](this));}[a25_0x7a3b('0x3c')](this));_0x40c1b1[a25_0x7a3b('0x96')](fs[a25_0x7a3b('0x95')](_0x35909c));}[a25_0x7a3b('0xc5')](){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xc6'));if(this[a25_0x7a3b('0x21')]){if(this[a25_0x7a3b('0x23')][a25_0x7a3b('0x56')]==0x0){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xc7')+this['playListFile']);fs[a25_0x7a3b('0x49')](this['playListFile'],JSON[a25_0x7a3b('0x40')](this['newPlayList']));const _0x31acf8=this[a25_0x7a3b('0x69')]();fsExtra[a25_0x7a3b('0xc8')](this[a25_0x7a3b('0x1b')])[a25_0x7a3b('0x45')](()=>{fsExtra[a25_0x7a3b('0xc9')](this[a25_0x7a3b('0x19')],this[a25_0x7a3b('0x1b')])[a25_0x7a3b('0x45')](()=>{fsExtra[a25_0x7a3b('0xc8')](this['tempFolder'])[a25_0x7a3b('0x45')](()=>{console[a25_0x7a3b('0x46')](a25_0x7a3b('0xca'));this[a25_0x7a3b('0x6a')]();})[a25_0x7a3b('0x48')](_0x3da92f=>console[a25_0x7a3b('0x78')](_0x3da92f));})[a25_0x7a3b('0x48')](_0x216d9f=>console[a25_0x7a3b('0x78')](_0x216d9f));})[a25_0x7a3b('0x48')](_0x315e4a=>console[a25_0x7a3b('0x78')](_0x315e4a));}else{console[a25_0x7a3b('0x46')](a25_0x7a3b('0xcb'));this[a25_0x7a3b('0x20')]=0x0;setTimeout(function(){this[a25_0x7a3b('0x5c')]();}['bind'](this),0x1388);}}else{console['log'](a25_0x7a3b('0xcc'));}}[a25_0x7a3b('0x69')](){let _0x2a8c09='#EXTCPlayListM3U::M3U'+'\x0d\x0a'+a25_0x7a3b('0xcd')+'\x0d\x0a';const _0x33210f=new Date();for(const _0x160bde in this['downloadFiles']){const _0x57c9a5=this[a25_0x7a3b('0x22')][_0x160bde][a25_0x7a3b('0x5f')];const _0x469365=this[a25_0x7a3b('0x22')][_0x160bde]['media_type'];const _0x3ba8d6=dateUtils_1['DateUtils'][a25_0x7a3b('0xce')](this['downloadFiles'][_0x160bde][a25_0x7a3b('0xcf')]);const _0x382e58=dateUtils_1[a25_0x7a3b('0xd0')][a25_0x7a3b('0xce')](this[a25_0x7a3b('0x22')][_0x160bde]['end_date']);const _0x14bf55=_0x57c9a5['substring'](_0x57c9a5[a25_0x7a3b('0xd1')]('/')+0x1);let _0x5d9c06=_0x14bf55['split']('.')[a25_0x7a3b('0x61')](0x0,-0x1)[a25_0x7a3b('0x62')]('.');if(_0x469365==a25_0x7a3b('0x63')){_0x5d9c06=_0x57c9a5;}if((_0x3ba8d6==null||_0x3ba8d6<_0x33210f)&&(_0x382e58==null||_0x382e58>_0x33210f)){_0x2a8c09+=a25_0x7a3b('0xd2')+_0x5d9c06+'.mp4'+'\x0d\x0a';}}let _0xf0dfb4='';if(fsExtra[a25_0x7a3b('0x58')](this[a25_0x7a3b('0x5a')])){_0xf0dfb4=fsExtra[a25_0x7a3b('0x2e')](this['m3uFile']);_0xf0dfb4=_0xf0dfb4[a25_0x7a3b('0x5b')]()[a25_0x7a3b('0xd3')]();}_0x2a8c09=_0x2a8c09[a25_0x7a3b('0x5b')]()[a25_0x7a3b('0xd3')]();if(_0xf0dfb4!=_0x2a8c09){fsExtra[a25_0x7a3b('0x49')](this[a25_0x7a3b('0x5a')],_0x2a8c09);return!![];}return![];}[a25_0x7a3b('0x6a')](){console[a25_0x7a3b('0x46')](a25_0x7a3b('0x5a'),this[a25_0x7a3b('0x5a')]);this['kodiCommandClient'](a25_0x7a3b('0xd4'));}['reboot'](){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xd5'));exec(a25_0x7a3b('0xd6'),function(_0x4372cc){console[a25_0x7a3b('0x46')](_0x4372cc);});}[a25_0x7a3b('0x3a')](){const _0x2836d9=format(this['playerServiceURL'],this['playerId']);console[a25_0x7a3b('0x46')](_0x2836d9);request({'url':_0x2836d9,'json':!![]},function(_0x10ec2d,_0x1cc503,_0x48830f){if(_0x48830f[a25_0x7a3b('0x56')]>0x0){const _0x9d4bf8=_0x48830f[0x0];const _0x31e0bf=_0x9d4bf8[a25_0x7a3b('0xd7')];const _0x424186=_0x9d4bf8[a25_0x7a3b('0xd8')]==0x1;this['setRss'](_0x31e0bf);this['enableClock'](_0x424186);this[a25_0x7a3b('0x37')]();}console['log'](_0x48830f);}[a25_0x7a3b('0x3c')](this));}[a25_0x7a3b('0xd9')](){this[a25_0x7a3b('0xda')](a25_0x7a3b('0xdb'));}[a25_0x7a3b('0xdc')](){this[a25_0x7a3b('0xda')](a25_0x7a3b('0xdd'));}[a25_0x7a3b('0xde')](_0x112015){const _0x2bd858=_0x112015!=null&&_0x112015!='';const _0x176ccd='/home/osmc/.kodi/userdata/RssFeeds.xml';if(fsExtra[a25_0x7a3b('0x58')](_0x176ccd)){const _0x2f310c=fsExtra[a25_0x7a3b('0x2e')](_0x176ccd);console[a25_0x7a3b('0x46')](a25_0x7a3b('0xdf')+_0x2f310c);const _0x292fc2=require(a25_0x7a3b('0xe0'));const _0x1c58d3=_0x292fc2[a25_0x7a3b('0xe1')];_0x1c58d3(_0x2f310c,function(_0x370d19,_0x4715e2){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xe2'),_0x370d19);console[a25_0x7a3b('0x46')](a25_0x7a3b('0xe3'),_0x4715e2);if(!_0x112015||_0x112015==null||_0x112015==''){_0x112015=a25_0x7a3b('0xe4');}_0x4715e2[a25_0x7a3b('0xe5')][a25_0x7a3b('0xe6')][0x0][a25_0x7a3b('0xe7')][0x0]['_']=_0x112015;const _0x27e2c1=new _0x292fc2[(a25_0x7a3b('0xe8'))]();const _0x482c37=_0x27e2c1[a25_0x7a3b('0xe9')](_0x4715e2);console[a25_0x7a3b('0x46')](a25_0x7a3b('0xea'),_0x482c37);fsExtra[a25_0x7a3b('0x49')](_0x176ccd,_0x482c37);});this[a25_0x7a3b('0xda')](a25_0x7a3b('0xeb'));this[a25_0x7a3b('0xec')](a25_0x7a3b('0xed'),{'setting':a25_0x7a3b('0xee'),'value':_0x2bd858},function(_0x51207d){console[a25_0x7a3b('0x46')](a25_0x7a3b('0xef'));console[a25_0x7a3b('0x46')](_0x51207d);}[a25_0x7a3b('0x3c')](this));}}['enableClock'](_0x251ea3){this['jsonrpcClient'](a25_0x7a3b('0xed'),{'setting':a25_0x7a3b('0xf0'),'value':_0x251ea3},function(_0x1624f5){console['log'](a25_0x7a3b('0xf1'));console[a25_0x7a3b('0x46')](_0x1624f5);}[a25_0x7a3b('0x3c')](this));}[a25_0x7a3b('0xda')](_0x12255a){exec(a25_0x7a3b('0xf2')+_0x12255a+'\x22',function(_0x17c137){console[a25_0x7a3b('0x46')](_0x17c137);});}[a25_0x7a3b('0xec')](_0x4db162,_0x1a5c39,_0x443389){const _0x55e267={'jsonrpc':a25_0x7a3b('0xf3'),'method':_0x4db162,'params':_0x1a5c39,'id':0x1};const _0x11975e={'user':this[a25_0x7a3b('0x27')],'pass':this['kodiPassword']};console[a25_0x7a3b('0x46')]('jsonrpcClient\x20data',_0x55e267);console[a25_0x7a3b('0x46')]('jsonrpcClient\x20options',_0x11975e);this['httpClientService']['post'](this[a25_0x7a3b('0x25')]+a25_0x7a3b('0xf4'),_0x55e267,![],_0x11975e)[a25_0x7a3b('0x45')](function(_0x36b186){_0x443389(_0x36b186);})[a25_0x7a3b('0x48')](function(_0x4c7e1c){});}}exports[a25_0x7a3b('0xf5')]=SyncPlaylistsService;
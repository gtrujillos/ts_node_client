var a22_0xa7f8=['then','log','catch','reportStatus','reportStatusResponse:','ensureDir','tempFolder','loadMediaList','emptyDirSync','downloadFiles','push','length','download','No\x20playlist\x20changes','reloadMediaList','existsSync','removeSync','toString','error','this.currentFile:\x20','\x20of\x20','path','media_type','substring','lastIndexOf','split','join','image','.mp4','**********+','Downloading:\x20','youtube_single','downloader','includes','failDownloadFiles','indexOf','splice','downloading:\x20','start','Error:\x20','start:\x20','error:\x20','end','Downloaded:\x20','mediaType:\x20','stopped','destroyed','retry','downloadHTTPFile','\x20to\x20','Max\x20redirects\x20reached','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','downloadFile\x20callback\x20result\x20undefined:\x20','maxSockets','host','pathname','get','\x20Progress:\x20','statusCode','headers','content-length','stat','Have\x20already\x20downloaded\x20','size','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(',')\x20vs\x20New(','createWriteStream','pipe','data','err:\x20','finish','Downloaded\x20','location','Redirect\x20','302','File\x20Not\x20Found\x20','Problem\x20downloading\x20','\x20STATUS:\x20','abort','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','duration','createImageVideo','video','progress','Error\x20downloading\x20file','slice','1/2','-loop','glob','yuv420p','-vf','scale=1920:1080','stdout','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','downloadYouTube','http://www.youtube.com/watch?v=','--format=18','Download\x20started','filename:\x20','_filename','size:\x20','\x20already\x20downloaded.','finished\x20youtube\x20downloading!','finishProcess','Finishing','writeFileSync','#EXTCPlayListM3U::M3U','#EXTINF:0,luloPlayList','copySync','m3uFile','shutdown','now','Playlist\x20incomplete,\x20try.','SyncPlaylistsService','defineProperty','__esModule','../infrastructure/HttpClientService','url','http','request','request-progress','child_process','spawn','is-image','string-template','youtube-dl','uuid/v4','context.json','mediaFolder','media/','filesFolder','playListFile','playlist.txt','lulo_playlist.m3u','currentFile','newPlayList','HttpClientService','init','config','parse','readFileSync','context','playerId','baseURL','env','WEB_SERVICE_URL','deploy/','playListServiceURL','api/player_playlist.php?player_id={0}','checkFolders','bind','registerClient','deviceUuid','stringify','networkInterfaces','httpClientService','post','http://restapi.lulo.run/player_devices/register'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(a22_0xa7f8,0x78));var a22_0x366d=function(_0x2d8f05,_0x4b81bb){_0x2d8f05=_0x2d8f05-0x0;var _0x4d74cb=a22_0xa7f8[_0x2d8f05];return _0x4d74cb;};'use strict';Object[a22_0x366d('0x0')](exports,a22_0x366d('0x1'),{'value':!![]});const HttpClientService_1=require(a22_0x366d('0x2'));const fs=require('fs');const url=require(a22_0x366d('0x3'));const http=require(a22_0x366d('0x4'));const fsExtra=require('fs-extra');const request=require(a22_0x366d('0x5'));const progress=require(a22_0x366d('0x6'));const spawn=require(a22_0x366d('0x7'))[a22_0x366d('0x8')];const isImage=require(a22_0x366d('0x9'));const format=require(a22_0x366d('0xa'));const os=require('os');const youtubedl=require(a22_0x366d('0xb'));const uuidv4=require(a22_0x366d('0xc'));const configFile='config.json';const contextFile=a22_0x366d('0xd');const urlExists=require('url-exists');const Downloader=require('mt-files-downloader');class SyncPlaylistsService{constructor(){this[a22_0x366d('0xe')]=a22_0x366d('0xf');this['tempFolder']=this[a22_0x366d('0xe')]+'temp/';this[a22_0x366d('0x10')]=this[a22_0x366d('0xe')]+'files/';this[a22_0x366d('0x11')]=this[a22_0x366d('0xe')]+a22_0x366d('0x12');this['m3uFile']=this[a22_0x366d('0x10')]+a22_0x366d('0x13');this[a22_0x366d('0x14')]=0x0;this['downloadFiles']=[];this['failDownloadFiles']=[];this[a22_0x366d('0x15')]={};this['httpClientService']=new HttpClientService_1[(a22_0x366d('0x16'))]();}[a22_0x366d('0x17')](){this[a22_0x366d('0x18')]=JSON[a22_0x366d('0x19')](fs[a22_0x366d('0x1a')](configFile));this[a22_0x366d('0x1b')]=JSON[a22_0x366d('0x19')](fs['readFileSync'](contextFile));this['playerId']=this['config'][a22_0x366d('0x1c')];this[a22_0x366d('0x1d')]=process[a22_0x366d('0x1e')][a22_0x366d('0x1f')]+a22_0x366d('0x20');this[a22_0x366d('0x21')]=this[a22_0x366d('0x1d')]+a22_0x366d('0x22');this['registerClient']();this[a22_0x366d('0x23')]();this['loadMediaList']();setInterval(function(){this['reportStatus']();}[a22_0x366d('0x24')](this),0x1388);}[a22_0x366d('0x25')](){const _0xe66a17=this[a22_0x366d('0x18')][a22_0x366d('0x26')];if(!_0xe66a17||_0xe66a17==''){this[a22_0x366d('0x18')]['deviceUuid']=uuidv4();this[a22_0x366d('0x18')]={'deviceUuid':this[a22_0x366d('0x18')]['deviceUuid'],'playerId':this['config']['playerId']};fs['writeFileSync'](configFile,JSON[a22_0x366d('0x27')](this[a22_0x366d('0x18')]));}const _0x14a8a={'player_id':this['playerId'],'device_uuid':this[a22_0x366d('0x18')][a22_0x366d('0x26')],'network_info':JSON['stringify'](os[a22_0x366d('0x28')]()),'firmware_info':JSON[a22_0x366d('0x27')](this[a22_0x366d('0x1b')]),'status':0x1};this[a22_0x366d('0x29')][a22_0x366d('0x2a')](a22_0x366d('0x2b'),_0x14a8a,![])[a22_0x366d('0x2c')](function(_0x39e69d){console[a22_0x366d('0x2d')]('parsedBody');console[a22_0x366d('0x2d')](_0x39e69d);})[a22_0x366d('0x2e')](function(_0x2c76f4){});}[a22_0x366d('0x2f')](){const _0x5ad637={'player_id':this[a22_0x366d('0x1c')],'device_uuid':this['config'][a22_0x366d('0x26')],'status':0x1};this[a22_0x366d('0x29')][a22_0x366d('0x2a')]('http://restapi.lulo.run/player_devices/report_status',_0x5ad637,![])[a22_0x366d('0x2c')](function(_0x2a2059){console[a22_0x366d('0x2d')](a22_0x366d('0x30'));console[a22_0x366d('0x2d')](_0x2a2059);})['catch'](function(_0x492f0b){});}[a22_0x366d('0x23')](){fsExtra[a22_0x366d('0x31')](this[a22_0x366d('0xe')],_0x7139ef=>{});fsExtra[a22_0x366d('0x31')](this[a22_0x366d('0x32')],_0x3dce89=>{});fsExtra[a22_0x366d('0x31')](this[a22_0x366d('0x10')],_0x425836=>{});}[a22_0x366d('0x33')](){const _0x379d64=format(this[a22_0x366d('0x21')],this[a22_0x366d('0x1c')]);console['log'](_0x379d64);request({'url':_0x379d64,'json':!![]},function(_0x496e0e,_0x277811,_0x40712d){console[a22_0x366d('0x2d')](_0x40712d);this['newPlayList']=_0x40712d;if(this['hasPlayListChanged']()){fsExtra[a22_0x366d('0x34')](this[a22_0x366d('0x32')]);this[a22_0x366d('0x35')]=[];this['failDownloadFiles']=[];this[a22_0x366d('0x14')]=0x0;for(const _0x425c8f in _0x40712d){this['downloadFiles'][a22_0x366d('0x36')](_0x40712d[_0x425c8f]);}console[a22_0x366d('0x2d')]('Total:\x20'+this[a22_0x366d('0x35')][a22_0x366d('0x37')]);if(this['downloadFiles'][a22_0x366d('0x37')]>0x0){this[a22_0x366d('0x38')]();}}else{console[a22_0x366d('0x2d')](a22_0x366d('0x39'));}}[a22_0x366d('0x24')](this));}[a22_0x366d('0x3a')](){if(fsExtra[a22_0x366d('0x3b')](this['playListFile'])){fsExtra[a22_0x366d('0x3c')](this[a22_0x366d('0x11')]);}this[a22_0x366d('0x33')]();}['hasPlayListChanged'](){const _0x4f35a5=JSON[a22_0x366d('0x27')](this[a22_0x366d('0x15')]);try{if(!fs[a22_0x366d('0x3b')](this['playListFile'])){return!![];}else{const _0x415e93=fs[a22_0x366d('0x1a')](this[a22_0x366d('0x11')])[a22_0x366d('0x3d')]();if(_0x415e93!=_0x4f35a5){return!![];}}}catch(_0x34f486){console[a22_0x366d('0x3e')](_0x34f486);}return![];}[a22_0x366d('0x38')](){console[a22_0x366d('0x2d')](a22_0x366d('0x3f')+this[a22_0x366d('0x14')]+a22_0x366d('0x40')+this[a22_0x366d('0x35')]['length']);if(this['currentFile']>=this[a22_0x366d('0x35')]['length']){this['finishProcess']();return;}const _0x271c9f=String(this['downloadFiles'][this[a22_0x366d('0x14')]][a22_0x366d('0x41')]);const _0x20df7f=this['downloadFiles'][this[a22_0x366d('0x14')]][a22_0x366d('0x42')];let _0x16758c=_0x271c9f[a22_0x366d('0x43')](_0x271c9f[a22_0x366d('0x44')]('/')+0x1);const _0x244194=_0x16758c[a22_0x366d('0x45')]('.')['slice'](0x0,-0x1)[a22_0x366d('0x46')]('.');let _0x49f994=this[a22_0x366d('0x1d')]+_0x271c9f;const _0x562573=_0x49f994['split']('.')['slice'](0x0,-0x1)[a22_0x366d('0x46')]('.');if(_0x20df7f=='youtube_single'){_0x16758c=_0x16758c+'.mp4';}else if(_0x20df7f==a22_0x366d('0x47')){_0x16758c=_0x244194+a22_0x366d('0x48');_0x49f994=_0x562573+a22_0x366d('0x48');}console[a22_0x366d('0x2d')](a22_0x366d('0x49'));console['log'](_0x271c9f);console['log'](_0x20df7f);console[a22_0x366d('0x2d')](_0x16758c);console[a22_0x366d('0x2d')](_0x49f994);console[a22_0x366d('0x2d')](_0x244194);console['log'](_0x562573);console[a22_0x366d('0x2d')]('**********+');if(fsExtra[a22_0x366d('0x3b')](this[a22_0x366d('0x32')]+_0x16758c)){this[a22_0x366d('0x14')]++;this['download']();}else if(fsExtra[a22_0x366d('0x3b')](this[a22_0x366d('0x10')]+_0x16758c)){fsExtra['copySync'](this[a22_0x366d('0x10')]+_0x16758c,this['tempFolder']+_0x16758c);this[a22_0x366d('0x14')]++;this[a22_0x366d('0x38')]();}else{console[a22_0x366d('0x2d')](a22_0x366d('0x4a')+_0x49f994);if(_0x20df7f==a22_0x366d('0x4b')){this['downloadYouTube'](_0x271c9f);}else{this[a22_0x366d('0x4c')](_0x49f994,_0x16758c,_0x20df7f);}}}[a22_0x366d('0x4c')](_0x4ef5f4,_0x284533,_0x31df62){const _0x2c3fc7=new Downloader();console['log'](_0x4ef5f4);console[a22_0x366d('0x2d')](_0x284533);console['log'](_0x31df62);const _0x1d0c26=_0x2c3fc7[a22_0x366d('0x38')](_0x4ef5f4,this[a22_0x366d('0x32')]+_0x284533);urlExists(_0x4ef5f4,function(_0x17048c,_0x2211e3){if(_0x2211e3){if(this['failDownloadFiles'][a22_0x366d('0x4d')](this[a22_0x366d('0x14')])){const _0x5a6653=this[a22_0x366d('0x4e')][a22_0x366d('0x4f')](this[a22_0x366d('0x14')]);if(_0x5a6653>-0x1){this[a22_0x366d('0x4e')][a22_0x366d('0x50')](_0x5a6653,0x1);}}console['log'](a22_0x366d('0x51')+_0x4ef5f4);_0x1d0c26[a22_0x366d('0x52')]();}else{if(!this[a22_0x366d('0x4e')][a22_0x366d('0x4d')](this[a22_0x366d('0x14')])){this[a22_0x366d('0x4e')][a22_0x366d('0x36')](this[a22_0x366d('0x14')]);}console['log'](a22_0x366d('0x53')+_0x4ef5f4);this[a22_0x366d('0x14')]++;this[a22_0x366d('0x38')]();}}[a22_0x366d('0x24')](this));_0x1d0c26['on']('start',function(_0x1d0c26){console[a22_0x366d('0x2d')](a22_0x366d('0x54')+_0x4ef5f4);});_0x1d0c26['on'](a22_0x366d('0x3e'),function(_0x1d0c26){console['log'](a22_0x366d('0x55'));this[a22_0x366d('0x38')]();}[a22_0x366d('0x24')](this));_0x1d0c26['on'](a22_0x366d('0x56'),function(_0x1d0c26){console[a22_0x366d('0x2d')](a22_0x366d('0x56'));console[a22_0x366d('0x2d')](a22_0x366d('0x57')+_0x284533);console[a22_0x366d('0x2d')](a22_0x366d('0x58')+_0x31df62);this[a22_0x366d('0x14')]++;this[a22_0x366d('0x38')]();}[a22_0x366d('0x24')](this));_0x1d0c26['on'](a22_0x366d('0x59'),function(_0x1d0c26){console[a22_0x366d('0x2d')](a22_0x366d('0x59'));});_0x1d0c26['on'](a22_0x366d('0x5a'),function(_0x1d0c26){console[a22_0x366d('0x2d')](a22_0x366d('0x5a'));});_0x1d0c26['on'](a22_0x366d('0x5b'),function(_0x1d0c26){console[a22_0x366d('0x2d')](a22_0x366d('0x5b'));});}['downloadHTTPFile'](_0x1469ee,_0x2b04dc,_0x2bb514,_0x37dfba){console[a22_0x366d('0x2d')](a22_0x366d('0x5c'));console['log'](_0x1469ee);const _0x2c0192=!![];let _0x10d33a=0x0;const _0x415cce='';console[a22_0x366d('0x2d')]('Attempting\x20to\x20download\x20'+_0x1469ee+a22_0x366d('0x5d')+_0x2b04dc);if(_0x10d33a){if(_0x10d33a>0x5){_0x37dfba(a22_0x366d('0x5e'),_0x1469ee,_0x2bb514,null);return;}}else{_0x10d33a=0x0;}const _0x3bc38c=this[a22_0x366d('0x32')]+_0x2b04dc;let _0x226560;if(_0x37dfba===undefined){console[a22_0x366d('0x2d')](a22_0x366d('0x5f')+_0x1469ee+a22_0x366d('0x5d')+_0x3bc38c);_0x37dfba=function(_0x421e14,_0xbce4a2){console[a22_0x366d('0x2d')](a22_0x366d('0x60'),_0x421e14,_0xbce4a2);};}http['globalAgent'][a22_0x366d('0x61')]=0x64;const _0x26c5cb={'host':url['parse'](_0x1469ee)[a22_0x366d('0x62')],'port':0x50,'path':url['parse'](_0x1469ee)[a22_0x366d('0x63')],'agent':![]};const _0x4d42f5=http[a22_0x366d('0x64')](_0x26c5cb,function(_0x13bcb2){let _0x15968c=0x0;let _0x2e4d4e=0x0;function _0x672bd3(){if(_0x15968c===undefined){console[a22_0x366d('0x2d')](_0x2b04dc+'\x20Progress:\x20unknown\x09'+_0x2e4d4e+'/'+'?');}const _0xc2b9b5=_0x2e4d4e/_0x15968c*0x64;console['log'](_0x2b04dc+a22_0x366d('0x65')+_0xc2b9b5+'%\x09'+_0x2e4d4e+'/'+_0x15968c);}console[a22_0x366d('0x2d')](_0x2b04dc+'\x20'+_0x13bcb2['statusCode']);switch(_0x13bcb2[a22_0x366d('0x66')]){case 0xc8:_0x15968c=_0x13bcb2[a22_0x366d('0x67')][a22_0x366d('0x68')]||_0x415cce;fs[a22_0x366d('0x69')](_0x3bc38c,function(_0x574393,_0x11475d){if(!_0x574393){console[a22_0x366d('0x2d')](a22_0x366d('0x6a')+_0x3bc38c);if(_0x11475d[a22_0x366d('0x6b')]==_0x15968c){console[a22_0x366d('0x2d')]('And\x20the\x20file\x20size\x20matches\x20('+_0x15968c+')');console[a22_0x366d('0x2d')]('Redownloading');}else{console[a22_0x366d('0x2d')](a22_0x366d('0x6c')+_0x11475d['size']+a22_0x366d('0x6d')+_0x15968c+')');}}_0x226560=fs[a22_0x366d('0x6e')](_0x3bc38c);_0x13bcb2[a22_0x366d('0x6f')](_0x226560);_0x13bcb2['on'](a22_0x366d('0x70'),function(_0x4f561e){_0x2e4d4e+=_0x4f561e[a22_0x366d('0x37')];_0x672bd3();});_0x4d42f5['on'](a22_0x366d('0x3e'),function(_0x574393){console[a22_0x366d('0x2d')](a22_0x366d('0x71'));console[a22_0x366d('0x2d')](_0x574393);});_0x226560['on'](a22_0x366d('0x72'),function(){console[a22_0x366d('0x2d')](a22_0x366d('0x73')+_0x1469ee+a22_0x366d('0x5d')+_0x2b04dc);_0x37dfba(null,_0x2b04dc,_0x2bb514,_0x2b04dc);}[a22_0x366d('0x24')](this));});break;case 0x12e:const _0x3ee82c=_0x13bcb2[a22_0x366d('0x67')][a22_0x366d('0x74')];console[a22_0x366d('0x2d')](a22_0x366d('0x75')+_0x1469ee+a22_0x366d('0x5d')+_0x3ee82c);if(_0x10d33a<0x5){this['downloadHTTPFile'](_0x3ee82c,_0x2b04dc,_0x37dfba,_0x10d33a++);}else{console['error']('Redirect\x20limit\x20encountered\x20for\x20'+_0x1469ee+'.');_0x37dfba(a22_0x366d('0x76'),null,null,null);}return;case 0x194:console[a22_0x366d('0x2d')](a22_0x366d('0x77')+_0x1469ee);default:console['log'](a22_0x366d('0x78')+_0x1469ee+a22_0x366d('0x79')+_0x13bcb2['statusCode']);_0x4d42f5[a22_0x366d('0x7a')]();_0x37dfba(_0x13bcb2[a22_0x366d('0x66')],null,null,null);return;}})['on'](a22_0x366d('0x3e'),function(_0x14fc0a){console[a22_0x366d('0x2d')](a22_0x366d('0x7b')+_0x1469ee+'\x20'+_0x14fc0a[a22_0x366d('0x7c')]);_0x37dfba(_0x14fc0a,null,null,null);});}[a22_0x366d('0x7d')](_0x5ba25f,_0x429774,_0x448eda,_0x3975b5){console['log'](a22_0x366d('0x7d'));console[a22_0x366d('0x2d')](_0x5ba25f);console[a22_0x366d('0x2d')](_0x429774);console['log'](_0x448eda);console[a22_0x366d('0x2d')](_0x3975b5);if(_0x448eda==a22_0x366d('0x47')){const _0x1f4109=this[a22_0x366d('0x35')][this[a22_0x366d('0x14')]][a22_0x366d('0x7e')]!=null?this['downloadFiles'][this['currentFile']]['duration']:0x1e;this[a22_0x366d('0x7f')](_0x3975b5,_0x1f4109);}else if(_0x448eda==a22_0x366d('0x80')){if(_0x5ba25f==null&&_0x429774!=''){this[a22_0x366d('0x14')]++;}this[a22_0x366d('0x38')]();}console[a22_0x366d('0x2d')](this['currentFile']);}['downloadRequestFile'](_0xb0c62f,_0x34b5a6,_0x4b9195){progress(request(_0xb0c62f),{})['on'](a22_0x366d('0x81'),function(_0x3faefc){console['log'](_0x3faefc);})['on'](a22_0x366d('0x3e'),function(_0x295eab){console['log'](a22_0x366d('0x82'));this[a22_0x366d('0x38')]();})['on'](a22_0x366d('0x56'),function(){console[a22_0x366d('0x2d')](a22_0x366d('0x57')+_0x34b5a6);console[a22_0x366d('0x2d')](a22_0x366d('0x58')+_0x4b9195);if(_0x4b9195==a22_0x366d('0x47')){const _0x250ee6=this['downloadFiles'][this[a22_0x366d('0x14')]][a22_0x366d('0x7e')]!=null?this[a22_0x366d('0x35')][this['currentFile']][a22_0x366d('0x7e')]:0x1e;this['createImageVideo'](_0x34b5a6,_0x250ee6);}else if(_0x4b9195==a22_0x366d('0x80')){this[a22_0x366d('0x14')]++;this['download']();}}[a22_0x366d('0x24')](this))['pipe'](fs[a22_0x366d('0x6e')](this[a22_0x366d('0x32')]+_0x34b5a6));}['createImageVideo'](_0x297c2b,_0x59f657=0x1e){const _0x31fbcb=this[a22_0x366d('0x32')]+_0x297c2b;console[a22_0x366d('0x2d')](_0x31fbcb);console['log'](_0x297c2b);const _0x6bbee8=_0x297c2b[a22_0x366d('0x45')]('.')[a22_0x366d('0x83')](0x0,-0x1)[a22_0x366d('0x46')]('.');const _0x140aa7='ffmpeg';const _0x546f5c=['-y','-r',a22_0x366d('0x84'),a22_0x366d('0x85'),'1','-pattern_type',a22_0x366d('0x86'),'-i',_0x31fbcb,'-t',String(_0x59f657),'-c:v','libx264','-pix_fmt',a22_0x366d('0x87'),'-r','25',a22_0x366d('0x88'),a22_0x366d('0x89'),this[a22_0x366d('0x32')]+_0x6bbee8+a22_0x366d('0x48')];const _0x3b6933=spawn(_0x140aa7,_0x546f5c);_0x3b6933[a22_0x366d('0x8a')]['on'](a22_0x366d('0x70'),function(_0x464090){console[a22_0x366d('0x2d')](a22_0x366d('0x8b')+_0x31fbcb);});_0x3b6933[a22_0x366d('0x8c')]['on'](a22_0x366d('0x70'),function(_0x1d7ee3){console[a22_0x366d('0x2d')](a22_0x366d('0x8d')+_0x1d7ee3);}[a22_0x366d('0x24')](this));_0x3b6933['on'](a22_0x366d('0x8e'),function(){console['log'](a22_0x366d('0x8f'));this[a22_0x366d('0x14')]++;this[a22_0x366d('0x38')]();}['bind'](this));}[a22_0x366d('0x90')](_0x55818a){const _0x5dea5e=youtubedl(a22_0x366d('0x91')+_0x55818a,[a22_0x366d('0x92')],{'cwd':__dirname});_0x5dea5e['on']('info',function(_0x3e73c2){console[a22_0x366d('0x2d')](a22_0x366d('0x93'));console[a22_0x366d('0x2d')](a22_0x366d('0x94')+_0x3e73c2[a22_0x366d('0x95')]);console['log'](a22_0x366d('0x96')+_0x3e73c2[a22_0x366d('0x6b')]);});_0x5dea5e['on']('complete',function complete(_0x4aad37){'use strict';console[a22_0x366d('0x2d')](a22_0x366d('0x94')+_0x4aad37[a22_0x366d('0x95')]+a22_0x366d('0x97'));});_0x5dea5e['on'](a22_0x366d('0x56'),function(){console['log'](a22_0x366d('0x98'));this[a22_0x366d('0x14')]++;this[a22_0x366d('0x38')]();}[a22_0x366d('0x24')](this));_0x5dea5e[a22_0x366d('0x6f')](fs[a22_0x366d('0x6e')](this[a22_0x366d('0x32')]+'/'+_0x55818a+a22_0x366d('0x48')));}[a22_0x366d('0x99')](){console[a22_0x366d('0x2d')](a22_0x366d('0x9a'));console['log'](this[a22_0x366d('0x4e')]);console[a22_0x366d('0x2d')](this[a22_0x366d('0x35')]);if(this[a22_0x366d('0x4e')]['length']==0x0){fs[a22_0x366d('0x9b')](this['playListFile'],JSON[a22_0x366d('0x27')](this[a22_0x366d('0x15')]));let _0x1db44e=a22_0x366d('0x9c')+'\x0d\x0a'+a22_0x366d('0x9d')+'\x0d\x0a';for(const _0x477ab6 in this['downloadFiles']){const _0x3432c9=this[a22_0x366d('0x35')][_0x477ab6][a22_0x366d('0x41')];const _0x5e8101=this[a22_0x366d('0x35')][_0x477ab6][a22_0x366d('0x42')];const _0x50930b=_0x3432c9[a22_0x366d('0x43')](_0x3432c9['lastIndexOf']('/')+0x1);let _0x333884=_0x50930b[a22_0x366d('0x45')]('.')[a22_0x366d('0x83')](0x0,-0x1)[a22_0x366d('0x46')]('.');if(_0x5e8101=='youtube_single'){_0x333884=_0x3432c9;}_0x1db44e+='/home/osmc/luloclient/media/files/'+_0x333884+a22_0x366d('0x48')+'\x0d\x0a';}fsExtra[a22_0x366d('0x34')](this[a22_0x366d('0x10')]);fsExtra[a22_0x366d('0x9e')](this[a22_0x366d('0x32')],this[a22_0x366d('0x10')]);fs[a22_0x366d('0x9b')](this[a22_0x366d('0x9f')],_0x1db44e);fsExtra[a22_0x366d('0x34')](this['tempFolder']);console['log']('Finished');const _0x89daf1=spawn(a22_0x366d('0xa0'),['-r',a22_0x366d('0xa1')]);}else{console[a22_0x366d('0x2d')](a22_0x366d('0xa2'));this[a22_0x366d('0x14')]=0x0;setTimeout(function(){this[a22_0x366d('0x38')]();}[a22_0x366d('0x24')](this),0x1388);}}}exports[a22_0x366d('0xa3')]=SyncPlaylistsService;
var a22_0x3d2a=['\x20STATUS:\x20','abort','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','duration','createImageVideo','video','downloadRequestFile','progress','Error\x20downloading\x20file','mediaType:\x20','ffmpeg','1/2','-loop','glob','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','data','Converting\x20','stderr','stderr:\x20','close','downloadYouTube','info','Download\x20started','filename:\x20','size:\x20','complete','_filename','finished\x20youtube\x20downloading!','createWriteStream','finishProcess','Finishing','#EXTCPlayListM3U::M3U','/home/osmc/luloclient/media/files/','Finished','kodi-send','--action','Playlist\x20incomplete,\x20retry.','__awaiter','next','throw','value','apply','defineProperty','__esModule','node-mediainfo','http','request','child_process','is-image','youtube-dl','uuid/v4','config.json','context.json','url-exists','mt-files-downloader','media/','mediaFolder','temp/','filesFolder','playListFile','playlist.txt','m3uFile','lulo_playlist.m3u','currentFile','newPlayList','httpClientService','HttpClientService','init','config','parse','readFileSync','context','playerId','baseURL','env','WEB_SERVICE_URL','deploy/','checkFolders','loadMediaList','reportStatus','bind','checkDependencies','registerClient','deviceUuid','writeFileSync','stringify','networkInterfaces','post','http://restapi.lulo.run/player_devices/register','then','log','register\x20response:\x20','http://restapi.lulo.run/player_devices/report_status','catch','ensureDir','emptyDirSync','tempFolder','downloadFiles','failDownloadFiles','length','download','reloadMediaList','existsSync','removeSync','hasPlayListChanged','toString','error','\x20of\x20','path','media_type','substring','lastIndexOf','split','slice','join','youtube_single','.mp4','image','**********+','checkVideo','copySync','downloader','videoFile:\x20','media','track','@type','Video','mediainfo\x20check:','includes','splice','downloading:\x20','start','push','Error:\x20','end','Downloaded:\x20','stopped','destroyed','retry','downloadHTTPFile','\x20to\x20','Max\x20redirects\x20reached','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','globalAgent','maxSockets','pathname','\x20Progress:\x20unknown\x09','\x20Progress:\x20','statusCode','headers','stat','size','And\x20the\x20file\x20size\x20matches\x20(','Redownloading',')\x20vs\x20New(','pipe','err:\x20','finish','Downloaded\x20','location','Redirect\x20limit\x20encountered\x20for\x20','File\x20Not\x20Found\x20','Problem\x20downloading\x20'];(function(_0x68ee3,_0x27d2d7){var _0x4422b1=function(_0x5d4cec){while(--_0x5d4cec){_0x68ee3['push'](_0x68ee3['shift']());}};_0x4422b1(++_0x27d2d7);}(a22_0x3d2a,0x180));var a22_0xd086=function(_0x3f8338,_0x3ecfee){_0x3f8338=_0x3f8338-0x0;var _0x295d6d=a22_0x3d2a[_0x3f8338];return _0x295d6d;};'use strict';var __awaiter=this&&this[a22_0xd086('0x0')]||function(_0x1ac482,_0x3acbed,_0x221814,_0x524d29){return new(_0x221814||(_0x221814=Promise))(function(_0x5320a2,_0x2a0091){function _0xeee850(_0x376a5b){try{_0x3d4a00(_0x524d29[a22_0xd086('0x1')](_0x376a5b));}catch(_0x47ded7){_0x2a0091(_0x47ded7);}}function _0x57d8fb(_0x56b3e6){try{_0x3d4a00(_0x524d29[a22_0xd086('0x2')](_0x56b3e6));}catch(_0x4e3a3f){_0x2a0091(_0x4e3a3f);}}function _0x3d4a00(_0x307b14){_0x307b14['done']?_0x5320a2(_0x307b14[a22_0xd086('0x3')]):new _0x221814(function(_0x5320a2){_0x5320a2(_0x307b14[a22_0xd086('0x3')]);})['then'](_0xeee850,_0x57d8fb);}_0x3d4a00((_0x524d29=_0x524d29[a22_0xd086('0x4')](_0x1ac482,_0x3acbed||[]))[a22_0xd086('0x1')]());});};Object[a22_0xd086('0x5')](exports,a22_0xd086('0x6'),{'value':!![]});const HttpClientService_1=require('../infrastructure/HttpClientService');const mediainfo=require(a22_0xd086('0x7'));const fs=require('fs');const url=require('url');const http=require(a22_0xd086('0x8'));const fsExtra=require('fs-extra');const request=require(a22_0xd086('0x9'));const progress=require('request-progress');const spawn=require(a22_0xd086('0xa'))['spawn'];const isImage=require(a22_0xd086('0xb'));const format=require('string-template');const os=require('os');const youtubedl=require(a22_0xd086('0xc'));const uuidv4=require(a22_0xd086('0xd'));const configFile=a22_0xd086('0xe');const contextFile=a22_0xd086('0xf');const urlExists=require(a22_0xd086('0x10'));const Downloader=require(a22_0xd086('0x11'));class SyncPlaylistsService{constructor(){this['mediaFolder']=a22_0xd086('0x12');this['tempFolder']=this[a22_0xd086('0x13')]+a22_0xd086('0x14');this[a22_0xd086('0x15')]=this['mediaFolder']+'files/';this[a22_0xd086('0x16')]=this[a22_0xd086('0x13')]+a22_0xd086('0x17');this[a22_0xd086('0x18')]=this['filesFolder']+a22_0xd086('0x19');this[a22_0xd086('0x1a')]=0x0;this['downloadFiles']=[];this['failDownloadFiles']=[];this[a22_0xd086('0x1b')]={};this[a22_0xd086('0x1c')]=new HttpClientService_1[(a22_0xd086('0x1d'))]();}[a22_0xd086('0x1e')](){this[a22_0xd086('0x1f')]=JSON[a22_0xd086('0x20')](fs[a22_0xd086('0x21')](configFile));this[a22_0xd086('0x22')]=JSON[a22_0xd086('0x20')](fs[a22_0xd086('0x21')](contextFile));this['playerId']=this[a22_0xd086('0x1f')][a22_0xd086('0x23')];this[a22_0xd086('0x24')]=process[a22_0xd086('0x25')][a22_0xd086('0x26')]+a22_0xd086('0x27');this['playListServiceURL']=this[a22_0xd086('0x24')]+'api/player_playlist.php?player_id={0}';this['registerClient']();this[a22_0xd086('0x28')]();this[a22_0xd086('0x29')]();setInterval(function(){this[a22_0xd086('0x2a')]();}[a22_0xd086('0x2b')](this),0xea60);}[a22_0xd086('0x2c')](){}[a22_0xd086('0x2d')](){const _0xaf24a2=this[a22_0xd086('0x1f')][a22_0xd086('0x2e')];if(!_0xaf24a2||_0xaf24a2==''){this[a22_0xd086('0x1f')][a22_0xd086('0x2e')]=uuidv4();this[a22_0xd086('0x1f')]={'deviceUuid':this[a22_0xd086('0x1f')][a22_0xd086('0x2e')],'playerId':this[a22_0xd086('0x1f')][a22_0xd086('0x23')]};fs[a22_0xd086('0x2f')](configFile,JSON['stringify'](this[a22_0xd086('0x1f')]));}const _0x2d034f={'player_id':this[a22_0xd086('0x23')],'device_uuid':this['config']['deviceUuid'],'network_info':JSON[a22_0xd086('0x30')](os[a22_0xd086('0x31')]()),'firmware_info':JSON[a22_0xd086('0x30')](this[a22_0xd086('0x22')]),'status':0x1};this[a22_0xd086('0x1c')][a22_0xd086('0x32')](a22_0xd086('0x33'),_0x2d034f,![])[a22_0xd086('0x34')](function(_0xb53034){console[a22_0xd086('0x35')](a22_0xd086('0x36')+Date());})['catch'](function(_0x3668b8){});}[a22_0xd086('0x2a')](){const _0x19856b={'player_id':this[a22_0xd086('0x23')],'device_uuid':this['config'][a22_0xd086('0x2e')],'status':0x1};this[a22_0xd086('0x1c')][a22_0xd086('0x32')](a22_0xd086('0x37'),_0x19856b,![])['then'](function(_0x309ace){console['log']('reportStatusResponse:\x20'+Date());})[a22_0xd086('0x38')](function(_0x47898a){});}[a22_0xd086('0x28')](){fsExtra[a22_0xd086('0x39')](this[a22_0xd086('0x13')],_0x439bd6=>{});fsExtra[a22_0xd086('0x39')](this['tempFolder'],_0x30a305=>{});fsExtra[a22_0xd086('0x39')](this[a22_0xd086('0x15')],_0x48e8c0=>{});}[a22_0xd086('0x29')](){const _0x4db993=format(this['playListServiceURL'],this[a22_0xd086('0x23')]);console[a22_0xd086('0x35')](_0x4db993);request({'url':_0x4db993,'json':!![]},function(_0xab2e63,_0x275ad9,_0x4823e2){this[a22_0xd086('0x1b')]=_0x4823e2;fsExtra[a22_0xd086('0x3a')](this[a22_0xd086('0x3b')]);this[a22_0xd086('0x3c')]=[];this[a22_0xd086('0x3d')]=[];this[a22_0xd086('0x1a')]=0x0;for(const _0x4bd108 in _0x4823e2){this[a22_0xd086('0x3c')]['push'](_0x4823e2[_0x4bd108]);}console[a22_0xd086('0x35')]('Total:\x20'+this['downloadFiles'][a22_0xd086('0x3e')]);if(this['downloadFiles'][a22_0xd086('0x3e')]>0x0){this[a22_0xd086('0x3f')]();}}[a22_0xd086('0x2b')](this));}[a22_0xd086('0x40')](){if(fsExtra[a22_0xd086('0x41')](this[a22_0xd086('0x16')])){fsExtra[a22_0xd086('0x42')](this[a22_0xd086('0x16')]);}this[a22_0xd086('0x29')]();}[a22_0xd086('0x43')](){const _0x41b5ed=JSON['stringify'](this[a22_0xd086('0x1b')]);try{if(!fs[a22_0xd086('0x41')](this[a22_0xd086('0x16')])){return!![];}else{const _0x4aae76=fs[a22_0xd086('0x21')](this['playListFile'])[a22_0xd086('0x44')]();if(_0x4aae76!=_0x41b5ed){return!![];}}}catch(_0x47ceac){console[a22_0xd086('0x45')](_0x47ceac);}return![];}[a22_0xd086('0x3f')](){console[a22_0xd086('0x35')]('this.currentFile:\x20'+this[a22_0xd086('0x1a')]+a22_0xd086('0x46')+this[a22_0xd086('0x3c')]['length']);if(this[a22_0xd086('0x1a')]>=this['downloadFiles'][a22_0xd086('0x3e')]){this['finishProcess']();return;}const _0x22b550=String(this[a22_0xd086('0x3c')][this[a22_0xd086('0x1a')]][a22_0xd086('0x47')]);const _0x5163d4=this['downloadFiles'][this[a22_0xd086('0x1a')]][a22_0xd086('0x48')];let _0x30004e=_0x22b550[a22_0xd086('0x49')](_0x22b550[a22_0xd086('0x4a')]('/')+0x1);const _0x5bc777=_0x30004e[a22_0xd086('0x4b')]('.')[a22_0xd086('0x4c')](0x0,-0x1)[a22_0xd086('0x4d')]('.');let _0x40531d=this[a22_0xd086('0x24')]+_0x22b550;const _0x27ec7b=_0x40531d[a22_0xd086('0x4b')]('.')['slice'](0x0,-0x1)[a22_0xd086('0x4d')]('.');if(_0x5163d4==a22_0xd086('0x4e')){_0x30004e=_0x30004e+a22_0xd086('0x4f');}else if(_0x5163d4==a22_0xd086('0x50')){_0x30004e=_0x5bc777+a22_0xd086('0x4f');_0x40531d=_0x27ec7b+a22_0xd086('0x4f');}console[a22_0xd086('0x35')](a22_0xd086('0x51'));console[a22_0xd086('0x35')](_0x22b550);console[a22_0xd086('0x35')](_0x5163d4);console['log'](_0x30004e);console[a22_0xd086('0x35')](_0x40531d);console['log'](_0x5bc777);console['log'](_0x27ec7b);console['log'](a22_0xd086('0x51'));if(fsExtra[a22_0xd086('0x41')](this[a22_0xd086('0x3b')]+_0x30004e)){this[a22_0xd086('0x52')](this['tempFolder']+_0x30004e)[a22_0xd086('0x34')](function(_0x3d10b3){if(_0x3d10b3){this[a22_0xd086('0x1a')]++;}this['download']();}['bind'](this));}else if(fsExtra[a22_0xd086('0x41')](this[a22_0xd086('0x15')]+_0x30004e)){this[a22_0xd086('0x52')](this[a22_0xd086('0x15')]+_0x30004e)[a22_0xd086('0x34')](function(_0x298874){if(_0x298874){fsExtra[a22_0xd086('0x53')](this[a22_0xd086('0x15')]+_0x30004e,this[a22_0xd086('0x3b')]+_0x30004e);this[a22_0xd086('0x1a')]++;}this['download']();}['bind'](this));}else{console[a22_0xd086('0x35')]('Downloading:\x20'+_0x40531d);if(_0x5163d4==a22_0xd086('0x4e')){this['downloadYouTube'](_0x22b550);}else{this[a22_0xd086('0x54')](_0x40531d,_0x30004e,_0x5163d4);}}}[a22_0xd086('0x52')](_0x32d4db){return __awaiter(this,void 0x0,void 0x0,function*(){console[a22_0xd086('0x35')](a22_0xd086('0x55')+_0x32d4db);const _0x381b68=yield mediainfo(_0x32d4db)['catch'](_0x1ef179=>console[a22_0xd086('0x35')](_0x1ef179));const _0x33ef50=_0x381b68[a22_0xd086('0x56')][a22_0xd086('0x57')][a22_0xd086('0x3e')]>0x1&&_0x381b68[a22_0xd086('0x56')][a22_0xd086('0x57')][0x1][a22_0xd086('0x58')]==a22_0xd086('0x59');if(!_0x33ef50){fsExtra['removeSync'](_0x32d4db);}console['log'](a22_0xd086('0x5a')+_0x33ef50);return _0x33ef50;});}[a22_0xd086('0x54')](_0x1b367e,_0x333171,_0x1b91bb){const _0xd5f29=new Downloader();console[a22_0xd086('0x35')](_0x1b367e);console[a22_0xd086('0x35')](_0x333171);console[a22_0xd086('0x35')](_0x1b91bb);const _0x735d84=_0xd5f29[a22_0xd086('0x3f')](_0x1b367e,this[a22_0xd086('0x3b')]+_0x333171);urlExists(_0x1b367e,function(_0x13d074,_0x221425){if(_0x221425){if(this[a22_0xd086('0x3d')][a22_0xd086('0x5b')](this[a22_0xd086('0x1a')])){const _0xbd123=this[a22_0xd086('0x3d')]['indexOf'](this['currentFile']);if(_0xbd123>-0x1){this[a22_0xd086('0x3d')][a22_0xd086('0x5c')](_0xbd123,0x1);}}console['log'](a22_0xd086('0x5d')+_0x1b367e);_0x735d84[a22_0xd086('0x5e')]();}else{if(!this[a22_0xd086('0x3d')][a22_0xd086('0x5b')](this[a22_0xd086('0x1a')])){this[a22_0xd086('0x3d')][a22_0xd086('0x5f')](this[a22_0xd086('0x1a')]);}console[a22_0xd086('0x35')](a22_0xd086('0x60')+_0x1b367e);this['currentFile']++;this['download']();}}[a22_0xd086('0x2b')](this));_0x735d84['on'](a22_0xd086('0x5e'),function(_0x735d84){console[a22_0xd086('0x35')]('start:\x20'+_0x1b367e);});_0x735d84['on'](a22_0xd086('0x45'),function(_0x735d84){console[a22_0xd086('0x35')]('error:\x20');this[a22_0xd086('0x3f')]();}[a22_0xd086('0x2b')](this));_0x735d84['on'](a22_0xd086('0x61'),function(_0x735d84){console[a22_0xd086('0x35')]('end');console['log'](a22_0xd086('0x62')+_0x333171);console['log']('mediaType:\x20'+_0x1b91bb);this[a22_0xd086('0x52')](this[a22_0xd086('0x3b')]+_0x333171)['then'](function(_0x2e8242){if(_0x2e8242){this[a22_0xd086('0x1a')]++;}this[a22_0xd086('0x3f')]();}[a22_0xd086('0x2b')](this));}['bind'](this));_0x735d84['on'](a22_0xd086('0x63'),function(_0x735d84){console[a22_0xd086('0x35')]('stopped');});_0x735d84['on'](a22_0xd086('0x64'),function(_0x735d84){console[a22_0xd086('0x35')](a22_0xd086('0x64'));});_0x735d84['on'](a22_0xd086('0x65'),function(_0x735d84){console['log'](a22_0xd086('0x65'));});}[a22_0xd086('0x66')](_0x3fcdfb,_0x6692e2,_0x428cba,_0xde39fd){console[a22_0xd086('0x35')](a22_0xd086('0x66'));console['log'](_0x3fcdfb);const _0x182612=!![];let _0x18a18f=0x0;const _0x37ec7c='';console[a22_0xd086('0x35')]('Attempting\x20to\x20download\x20'+_0x3fcdfb+a22_0xd086('0x67')+_0x6692e2);if(_0x18a18f){if(_0x18a18f>0x5){_0xde39fd(a22_0xd086('0x68'),_0x3fcdfb,_0x428cba,null);return;}}else{_0x18a18f=0x0;}const _0x1e1aed=this[a22_0xd086('0x3b')]+_0x6692e2;let _0xe5ede1;if(_0xde39fd===undefined){console[a22_0xd086('0x35')](a22_0xd086('0x69')+_0x3fcdfb+a22_0xd086('0x67')+_0x1e1aed);_0xde39fd=function(_0x22406b,_0x1ca861){console['log']('downloadFile\x20callback\x20result\x20undefined:\x20',_0x22406b,_0x1ca861);};}http[a22_0xd086('0x6a')][a22_0xd086('0x6b')]=0x64;const _0x3dc0a0={'host':url[a22_0xd086('0x20')](_0x3fcdfb)['host'],'port':0x50,'path':url[a22_0xd086('0x20')](_0x3fcdfb)[a22_0xd086('0x6c')],'agent':![]};const _0x2ecfec=http['get'](_0x3dc0a0,function(_0x283cea){let _0x405961=0x0;let _0x581fb6=0x0;function _0x3b4956(){if(_0x405961===undefined){console['log'](_0x6692e2+a22_0xd086('0x6d')+_0x581fb6+'/'+'?');}const _0x4c9708=_0x581fb6/_0x405961*0x64;console['log'](_0x6692e2+a22_0xd086('0x6e')+_0x4c9708+'%\x09'+_0x581fb6+'/'+_0x405961);}console[a22_0xd086('0x35')](_0x6692e2+'\x20'+_0x283cea[a22_0xd086('0x6f')]);switch(_0x283cea[a22_0xd086('0x6f')]){case 0xc8:_0x405961=_0x283cea[a22_0xd086('0x70')]['content-length']||_0x37ec7c;fs[a22_0xd086('0x71')](_0x1e1aed,function(_0x40a811,_0x339ff6){if(!_0x40a811){console['log']('Have\x20already\x20downloaded\x20'+_0x1e1aed);if(_0x339ff6[a22_0xd086('0x72')]==_0x405961){console[a22_0xd086('0x35')](a22_0xd086('0x73')+_0x405961+')');console[a22_0xd086('0x35')](a22_0xd086('0x74'));}else{console[a22_0xd086('0x35')]('But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old('+_0x339ff6['size']+a22_0xd086('0x75')+_0x405961+')');}}_0xe5ede1=fs['createWriteStream'](_0x1e1aed);_0x283cea[a22_0xd086('0x76')](_0xe5ede1);_0x283cea['on']('data',function(_0x465418){_0x581fb6+=_0x465418[a22_0xd086('0x3e')];_0x3b4956();});_0x2ecfec['on'](a22_0xd086('0x45'),function(_0x40a811){console[a22_0xd086('0x35')](a22_0xd086('0x77'));console[a22_0xd086('0x35')](_0x40a811);});_0xe5ede1['on'](a22_0xd086('0x78'),function(){console[a22_0xd086('0x35')](a22_0xd086('0x79')+_0x3fcdfb+'\x20to\x20'+_0x6692e2);_0xde39fd(null,_0x6692e2,_0x428cba,_0x6692e2);}[a22_0xd086('0x2b')](this));});break;case 0x12e:const _0x4e6ac1=_0x283cea[a22_0xd086('0x70')][a22_0xd086('0x7a')];console[a22_0xd086('0x35')]('Redirect\x20'+_0x3fcdfb+a22_0xd086('0x67')+_0x4e6ac1);if(_0x18a18f<0x5){this['downloadHTTPFile'](_0x4e6ac1,_0x6692e2,_0xde39fd,_0x18a18f++);}else{console[a22_0xd086('0x45')](a22_0xd086('0x7b')+_0x3fcdfb+'.');_0xde39fd('302',null,null,null);}return;case 0x194:console['log'](a22_0xd086('0x7c')+_0x3fcdfb);default:console['log'](a22_0xd086('0x7d')+_0x3fcdfb+a22_0xd086('0x7e')+_0x283cea[a22_0xd086('0x6f')]);_0x2ecfec[a22_0xd086('0x7f')]();_0xde39fd(_0x283cea['statusCode'],null,null,null);return;}})['on'](a22_0xd086('0x45'),function(_0x390dd){console[a22_0xd086('0x35')](a22_0xd086('0x80')+_0x3fcdfb+'\x20'+_0x390dd[a22_0xd086('0x81')]);_0xde39fd(_0x390dd,null,null,null);});}[a22_0xd086('0x82')](_0x6a124d,_0x365289,_0x1c1a3e,_0x29aa11){console[a22_0xd086('0x35')](a22_0xd086('0x82'));console[a22_0xd086('0x35')](_0x6a124d);console['log'](_0x365289);console[a22_0xd086('0x35')](_0x1c1a3e);console[a22_0xd086('0x35')](_0x29aa11);if(_0x1c1a3e=='image'){const _0x54a7d4=this['downloadFiles'][this[a22_0xd086('0x1a')]]['duration']!=null?this[a22_0xd086('0x3c')][this[a22_0xd086('0x1a')]][a22_0xd086('0x83')]:0x1e;this[a22_0xd086('0x84')](_0x29aa11,_0x54a7d4);}else if(_0x1c1a3e==a22_0xd086('0x85')){if(_0x6a124d==null&&_0x365289!=''){this['currentFile']++;}this['download']();}console[a22_0xd086('0x35')](this[a22_0xd086('0x1a')]);}[a22_0xd086('0x86')](_0x43137c,_0x543b29,_0x14ba38){progress(request(_0x43137c),{})['on'](a22_0xd086('0x87'),function(_0x18e444){console['log'](_0x18e444);})['on'](a22_0xd086('0x45'),function(_0x1510b8){console[a22_0xd086('0x35')](a22_0xd086('0x88'));this['download']();})['on'](a22_0xd086('0x61'),function(){console[a22_0xd086('0x35')](a22_0xd086('0x62')+_0x543b29);console[a22_0xd086('0x35')](a22_0xd086('0x89')+_0x14ba38);if(_0x14ba38==a22_0xd086('0x50')){const _0x5c1fda=this[a22_0xd086('0x3c')][this[a22_0xd086('0x1a')]][a22_0xd086('0x83')]!=null?this[a22_0xd086('0x3c')][this['currentFile']][a22_0xd086('0x83')]:0x1e;this[a22_0xd086('0x84')](_0x543b29,_0x5c1fda);}else if(_0x14ba38=='video'){this[a22_0xd086('0x1a')]++;this['download']();}}['bind'](this))[a22_0xd086('0x76')](fs['createWriteStream'](this[a22_0xd086('0x3b')]+_0x543b29));}[a22_0xd086('0x84')](_0x1c2dfa,_0x2092e8=0x1e){const _0x5a421b=this[a22_0xd086('0x3b')]+_0x1c2dfa;console[a22_0xd086('0x35')](_0x5a421b);console[a22_0xd086('0x35')](_0x1c2dfa);const _0x34326f=_0x1c2dfa[a22_0xd086('0x4b')]('.')[a22_0xd086('0x4c')](0x0,-0x1)[a22_0xd086('0x4d')]('.');const _0x41dfc9=a22_0xd086('0x8a');const _0x372075=['-y','-r',a22_0xd086('0x8b'),a22_0xd086('0x8c'),'1','-pattern_type',a22_0xd086('0x8d'),'-i',_0x5a421b,'-t',String(_0x2092e8),'-c:v',a22_0xd086('0x8e'),a22_0xd086('0x8f'),a22_0xd086('0x90'),'-r','25',a22_0xd086('0x91'),a22_0xd086('0x92'),this[a22_0xd086('0x3b')]+_0x34326f+'.mp4'];const _0x7e5456=spawn(_0x41dfc9,_0x372075);_0x7e5456[a22_0xd086('0x93')]['on'](a22_0xd086('0x94'),function(_0x55f7f6){console[a22_0xd086('0x35')](a22_0xd086('0x95')+_0x5a421b);});_0x7e5456[a22_0xd086('0x96')]['on'](a22_0xd086('0x94'),function(_0x716a0f){console[a22_0xd086('0x35')](a22_0xd086('0x97')+_0x716a0f);}['bind'](this));_0x7e5456['on'](a22_0xd086('0x98'),function(){console[a22_0xd086('0x35')]('finished\x20mp4\x20convert');this['currentFile']++;this[a22_0xd086('0x3f')]();}[a22_0xd086('0x2b')](this));}[a22_0xd086('0x99')](_0xa0f898){const _0x1db44a=this['tempFolder']+'/'+_0xa0f898+a22_0xd086('0x4f');const _0x20c3ce=youtubedl('http://www.youtube.com/watch?v='+_0xa0f898,['--format=18'],{'cwd':__dirname});_0x20c3ce['on'](a22_0xd086('0x9a'),function(_0x44db26){console[a22_0xd086('0x35')](a22_0xd086('0x9b'));console[a22_0xd086('0x35')](a22_0xd086('0x9c')+_0x44db26['_filename']);console[a22_0xd086('0x35')](a22_0xd086('0x9d')+_0x44db26[a22_0xd086('0x72')]);});_0x20c3ce['on'](a22_0xd086('0x9e'),function complete(_0x32e7df){'use strict';console[a22_0xd086('0x35')]('filename:\x20'+_0x32e7df[a22_0xd086('0x9f')]+'\x20already\x20downloaded.');});_0x20c3ce['on']('end',function(){console[a22_0xd086('0x35')](a22_0xd086('0xa0'));this[a22_0xd086('0x52')](_0x1db44a)['then'](function(_0x13bec9){if(_0x13bec9){this[a22_0xd086('0x1a')]++;}this[a22_0xd086('0x3f')]();}[a22_0xd086('0x2b')](this));}[a22_0xd086('0x2b')](this));_0x20c3ce[a22_0xd086('0x76')](fs[a22_0xd086('0xa1')](_0x1db44a));}[a22_0xd086('0xa2')](){console[a22_0xd086('0x35')](a22_0xd086('0xa3'));if(this[a22_0xd086('0x3d')][a22_0xd086('0x3e')]==0x0){fs[a22_0xd086('0x2f')](this[a22_0xd086('0x16')],JSON['stringify'](this[a22_0xd086('0x1b')]));let _0x1c2cf1=a22_0xd086('0xa4')+'\x0d\x0a'+'#EXTINF:0,luloPlayList'+'\x0d\x0a';for(const _0xd7011c in this[a22_0xd086('0x3c')]){const _0x3e57a3=this['downloadFiles'][_0xd7011c]['path'];const _0x117672=this[a22_0xd086('0x3c')][_0xd7011c]['media_type'];const _0x3fa72c=_0x3e57a3[a22_0xd086('0x49')](_0x3e57a3['lastIndexOf']('/')+0x1);let _0x547c36=_0x3fa72c['split']('.')['slice'](0x0,-0x1)[a22_0xd086('0x4d')]('.');if(_0x117672==a22_0xd086('0x4e')){_0x547c36=_0x3e57a3;}_0x1c2cf1+=a22_0xd086('0xa5')+_0x547c36+a22_0xd086('0x4f')+'\x0d\x0a';}fsExtra[a22_0xd086('0x3a')](this[a22_0xd086('0x15')]);fsExtra[a22_0xd086('0x53')](this[a22_0xd086('0x3b')],this['filesFolder']);fs['writeFileSync'](this[a22_0xd086('0x18')],_0x1c2cf1);fsExtra[a22_0xd086('0x3a')](this[a22_0xd086('0x3b')]);console['log'](a22_0xd086('0xa6'));try{console[a22_0xd086('0x35')](this[a22_0xd086('0x18')]);const _0x431dcd=spawn(a22_0xd086('0xa7'),[a22_0xd086('0xa8'),this[a22_0xd086('0x18')]]);}catch(_0x57e8fa){console[a22_0xd086('0x35')](_0x57e8fa);}}else{console[a22_0xd086('0x35')](a22_0xd086('0xa9'));this[a22_0xd086('0x1a')]=0x0;setTimeout(function(){this[a22_0xd086('0x3f')]();}['bind'](this),0x1388);}}}exports['SyncPlaylistsService']=SyncPlaylistsService;
var a26_0x4118=['string-template','youtube-dl','uuid/v4','config.json','package.json','mt-files-downloader','mediaFolder','tempFolder','filesFolder','files/','playListFile','playlist.txt','m3uFile','lulo_playlist.m3u','currentFile','playlistChanged','downloadFiles','newPlayList','kodiHost','http://localhost','kodiUser','kodiPassword','forceReload','httpClientService','playerService','PlayerService','config','parse','readFileSync','playerId','baseURL','WEB_SERVICE_URL','deploy/','playListServiceURL','api/player_playlist.php?player_id={0}','api/player.php?player_id={0}','checkDependencies','loadMediaList','updateSettings','getStatus','registerClient','bind','kodi','playlist','getItems','stringify','deviceUuid','networkInterfaces','context','post','http://restapi.lulo.run/player_devices/register','register\x20response:\x20','catch','writeFileSync','log','player','getCurrentlyPlayingVideo','item','label','reportStatus','reportStatus\x20playingItem:\x20','http://restapi.lulo.run/player_devices/report_status','checkFolders','ensureDir','hasPlayListChanged','failDownloadFiles','push','length','download','existsSync','emptyDirSync','removeSync','this.currentFile:\x20','\x20of\x20','path','media_type','substring','lastIndexOf','split','slice','join','youtube_single','.mp4','image','**********+','checkVideo','copySync','Downloading:\x20','downloadYouTube','videoFile:\x20','media','track','@type','Video','splice','start','includes','Error:\x20','start:\x20','error','error:\x20','end','Downloaded:\x20','mediaType:\x20','stopped','destroyed','retry','downloadHTTPFile','Attempting\x20to\x20download\x20','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','\x20to\x20','downloadFile\x20callback\x20result\x20undefined:\x20','globalAgent','maxSockets','host','pathname','\x20Progress:\x20unknown\x09','\x20Progress:\x20','statusCode','headers','content-length','stat','Have\x20already\x20downloaded\x20','Redownloading','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(','size',')\x20vs\x20New(','createWriteStream','data','err:\x20','finish','Downloaded\x20','location','Redirect\x20','Redirect\x20limit\x20encountered\x20for\x20','302','File\x20Not\x20Found\x20','Problem\x20downloading\x20','\x20STATUS:\x20','abort','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','duration','createImageVideo','video','progress','Error\x20downloading\x20file','pipe','-loop','-pattern_type','-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','stderr:\x20','finished\x20mp4\x20convert','http://www.youtube.com/watch?v=','youtubeURL:\x20','outFileName:\x20','--format=18','--no-check-certificate','info','Download\x20started','filename:\x20','_filename','complete','\x20already\x20downloaded.','finished\x20youtube\x20downloading!','Finishing','this.playListFile:\x20','#EXTCPlayListM3U::M3U','#EXTINF:0,luloPlayList','m3uContent:\x20','copySync:\x20','writeFileSync:\x20','Rebooting..','reboot','Playlist\x20incomplete,\x20retry.','No\x20playlist\x20changes.','refreshPlayer','jsonrpcClient','Playlist.Clear','Playlist.Cleared','Playlist.Add','//home/osmc/luloclient/media/files/lulo_playlist.m3u','Playlist.Added','Player.Open','Playlist.Opened','kodiCommandClient','RestartApp()','Rebooting','playerServiceURL','rss','header_active','setRss','enableClock','turnOffTV','CECStandby()','turnOnTV','CECActivateSource()','parseString','result:\x20%j','none','rssfeeds','set','feed','xml:\x20%j','Settings.SetSettingValue','lookandfeel.enablerssfeeds','setRss:','videoplayer.usedisplayasclock','enableClock:\x20','kodi-send\x20--action=\x22','jsonrpcClient\x20data','jsonrpcClient\x20options','/jsonrpc','SyncPlaylistsService','next','throw','done','value','then','apply','defineProperty','__esModule','../infrastructure/HttpClientService','./playerService','node-mediainfo','url','http','request','child_process','spawn','is-image'];(function(_0x2ec932,_0x5d3a3b){var _0x139a62=function(_0x553f79){while(--_0x553f79){_0x2ec932['push'](_0x2ec932['shift']());}};_0x139a62(++_0x5d3a3b);}(a26_0x4118,0x1cb));var a26_0x435d=function(_0xd4a944,_0x5adc35){_0xd4a944=_0xd4a944-0x0;var _0x4d1c39=a26_0x4118[_0xd4a944];return _0x4d1c39;};'use strict';var __awaiter=this&&this['__awaiter']||function(_0x57c422,_0x3d0bf5,_0x544f39,_0x3dfb49){function _0x5401bf(_0x59805f){return _0x59805f instanceof _0x544f39?_0x59805f:new _0x544f39(function(_0x1b45ec){_0x1b45ec(_0x59805f);});}return new(_0x544f39||(_0x544f39=Promise))(function(_0xb093d3,_0x1d62b6){function _0x5ad807(_0x1c3406){try{_0x32f8b5(_0x3dfb49[a26_0x435d('0x0')](_0x1c3406));}catch(_0x5d9bec){_0x1d62b6(_0x5d9bec);}}function _0x35f4a1(_0x183098){try{_0x32f8b5(_0x3dfb49[a26_0x435d('0x1')](_0x183098));}catch(_0xe05496){_0x1d62b6(_0xe05496);}}function _0x32f8b5(_0x205c37){_0x205c37[a26_0x435d('0x2')]?_0xb093d3(_0x205c37[a26_0x435d('0x3')]):_0x5401bf(_0x205c37[a26_0x435d('0x3')])[a26_0x435d('0x4')](_0x5ad807,_0x35f4a1);}_0x32f8b5((_0x3dfb49=_0x3dfb49[a26_0x435d('0x5')](_0x57c422,_0x3d0bf5||[]))[a26_0x435d('0x0')]());});};Object[a26_0x435d('0x6')](exports,a26_0x435d('0x7'),{'value':!![]});const HttpClientService_1=require(a26_0x435d('0x8'));const playerService_1=require(a26_0x435d('0x9'));const mediainfo=require(a26_0x435d('0xa'));const fs=require('fs');const url=require(a26_0x435d('0xb'));const http=require(a26_0x435d('0xc'));const fsExtra=require('fs-extra');const request=require(a26_0x435d('0xd'));const progress=require('request-progress');const spawn=require(a26_0x435d('0xe'))[a26_0x435d('0xf')];const exec=require(a26_0x435d('0xe'))['exec'];const isImage=require(a26_0x435d('0x10'));const format=require(a26_0x435d('0x11'));const os=require('os');const youtubedl=require(a26_0x435d('0x12'));const uuidv4=require(a26_0x435d('0x13'));const configFile=a26_0x435d('0x14');const contextFile=a26_0x435d('0x15');const urlExists=require('url-exists');const kodi_rpc=require('node-kodi');const Downloader=require(a26_0x435d('0x16'));class SyncPlaylistsService{constructor(){this[a26_0x435d('0x17')]='media/';this[a26_0x435d('0x18')]=this[a26_0x435d('0x17')]+'temp/';this[a26_0x435d('0x19')]=this[a26_0x435d('0x17')]+a26_0x435d('0x1a');this[a26_0x435d('0x1b')]=this['mediaFolder']+a26_0x435d('0x1c');this[a26_0x435d('0x1d')]=this['filesFolder']+a26_0x435d('0x1e');this[a26_0x435d('0x1f')]=0x0;this[a26_0x435d('0x20')]=![];this[a26_0x435d('0x21')]=[];this['failDownloadFiles']=[];this[a26_0x435d('0x22')]={};this[a26_0x435d('0x23')]=a26_0x435d('0x24');this[a26_0x435d('0x25')]='lulo';this[a26_0x435d('0x26')]='.lulo123.';this[a26_0x435d('0x27')]=![];this[a26_0x435d('0x28')]=new HttpClientService_1['HttpClientService']();this[a26_0x435d('0x29')]=new playerService_1[(a26_0x435d('0x2a'))]();}['init'](){this[a26_0x435d('0x2b')]=JSON[a26_0x435d('0x2c')](fs[a26_0x435d('0x2d')](configFile));this['context']=JSON['parse'](fs['readFileSync'](contextFile));this[a26_0x435d('0x2e')]=this[a26_0x435d('0x2b')][a26_0x435d('0x2e')];this[a26_0x435d('0x2f')]=process['env'][a26_0x435d('0x30')]+a26_0x435d('0x31');this[a26_0x435d('0x32')]=this[a26_0x435d('0x2f')]+a26_0x435d('0x33');this['playerServiceURL']=this['baseURL']+a26_0x435d('0x34');this['kodi']=new kodi_rpc({'url':this['kodiHost'],'user':this[a26_0x435d('0x25')],'password':this[a26_0x435d('0x26')]});this[a26_0x435d('0x35')]();this['registerClient']();this['checkFolders']();this[a26_0x435d('0x36')]();this[a26_0x435d('0x37')]();setInterval(function(){this[a26_0x435d('0x38')]();}['bind'](this),0x2710);setInterval(function(){this[a26_0x435d('0x39')]();}[a26_0x435d('0x3a')](this),0x493e0);}[a26_0x435d('0x35')](){}[a26_0x435d('0x39')](){this[a26_0x435d('0x3b')][a26_0x435d('0x3c')][a26_0x435d('0x3d')](0x1)[a26_0x435d('0x4')](function(_0x288bde){const _0x236863=JSON[a26_0x435d('0x3e')](_0x288bde);const _0x537c94={'player_id':this['playerId'],'device_uuid':this[a26_0x435d('0x2b')][a26_0x435d('0x3f')],'network_info':JSON[a26_0x435d('0x3e')](os[a26_0x435d('0x40')]()),'firmware_info':JSON['stringify'](this[a26_0x435d('0x41')]['version']),'playlist':_0x236863,'playing_item':'','status':0x0};this[a26_0x435d('0x28')][a26_0x435d('0x42')](a26_0x435d('0x43'),_0x537c94,![])[a26_0x435d('0x4')](function(_0x3d7d48){console['log'](a26_0x435d('0x44')+Date());})[a26_0x435d('0x45')](function(_0x4677e1){});console['log'](_0x537c94);}['bind'](this));const _0x4e1878=this[a26_0x435d('0x2b')][a26_0x435d('0x3f')];if(!_0x4e1878||_0x4e1878==''){this[a26_0x435d('0x2b')][a26_0x435d('0x3f')]=uuidv4();this[a26_0x435d('0x2b')]={'deviceUuid':this[a26_0x435d('0x2b')][a26_0x435d('0x3f')],'playerId':this[a26_0x435d('0x2b')][a26_0x435d('0x2e')]};fs[a26_0x435d('0x46')](configFile,JSON[a26_0x435d('0x3e')](this[a26_0x435d('0x2b')]));}}[a26_0x435d('0x38')](){console[a26_0x435d('0x47')]('getStatus');this[a26_0x435d('0x3b')][a26_0x435d('0x48')][a26_0x435d('0x49')]()[a26_0x435d('0x4')](function(_0x1c4fac){const _0x7ab6aa=_0x1c4fac[a26_0x435d('0x4a')][a26_0x435d('0x4b')];this[a26_0x435d('0x4c')](_0x7ab6aa);}[a26_0x435d('0x3a')](this))[a26_0x435d('0x45')](function(_0x1c6f4c){console[a26_0x435d('0x47')](_0x1c6f4c);this[a26_0x435d('0x4c')](JSON[a26_0x435d('0x3e')](_0x1c6f4c));}[a26_0x435d('0x3a')](this));}['reportStatus'](_0xd3cbe3){console[a26_0x435d('0x47')](a26_0x435d('0x4d')+_0xd3cbe3);const _0x4fcbbc={'player_id':this['playerId'],'device_uuid':this[a26_0x435d('0x2b')][a26_0x435d('0x3f')],'status':_0xd3cbe3!=''&&_0xd3cbe3!=null?0x1:0x0,'playing_item':_0xd3cbe3};this['httpClientService'][a26_0x435d('0x42')](a26_0x435d('0x4e'),_0x4fcbbc,![])[a26_0x435d('0x4')](function(_0x3e6795){console['log']('reportStatusResponse');})[a26_0x435d('0x45')](function(_0x5e89fb){});}[a26_0x435d('0x4f')](){fsExtra[a26_0x435d('0x50')](this[a26_0x435d('0x17')],_0x590c0f=>{});fsExtra['ensureDir'](this[a26_0x435d('0x18')],_0x2dde68=>{});fsExtra[a26_0x435d('0x50')](this[a26_0x435d('0x19')],_0x134869=>{});}[a26_0x435d('0x36')](){const _0x24e99d=format(this['playListServiceURL'],this[a26_0x435d('0x2e')]);console[a26_0x435d('0x47')](_0x24e99d);request({'url':_0x24e99d,'json':!![]},function(_0x5ecfd9,_0x49554c,_0x4904a1){console[a26_0x435d('0x47')]('loadMediaList:\x20');this['newPlayList']=_0x4904a1;this['playlistChanged']=this[a26_0x435d('0x51')]();fsExtra['emptyDirSync'](this['tempFolder']);this[a26_0x435d('0x21')]=[];this[a26_0x435d('0x52')]=[];this[a26_0x435d('0x1f')]=0x0;for(const _0x4e45be in _0x4904a1){this[a26_0x435d('0x21')][a26_0x435d('0x53')](_0x4904a1[_0x4e45be]);}console[a26_0x435d('0x47')]('Total:\x20'+this[a26_0x435d('0x21')][a26_0x435d('0x54')]);if(this[a26_0x435d('0x21')][a26_0x435d('0x54')]>0x0){this[a26_0x435d('0x55')]();}}[a26_0x435d('0x3a')](this));}['reloadMediaList'](){this[a26_0x435d('0x27')]=!![];if(fsExtra[a26_0x435d('0x56')](this[a26_0x435d('0x18')])){fsExtra[a26_0x435d('0x57')](this[a26_0x435d('0x18')]);}if(fsExtra[a26_0x435d('0x56')](this['filesFolder'])){fsExtra[a26_0x435d('0x57')](this['filesFolder']);}if(!fsExtra[a26_0x435d('0x56')](this[a26_0x435d('0x1b')])){fsExtra[a26_0x435d('0x58')](this[a26_0x435d('0x1b')]);}if(!fsExtra[a26_0x435d('0x56')](this[a26_0x435d('0x1d')])){fsExtra['removeSync'](this[a26_0x435d('0x1d')]);}this[a26_0x435d('0x36')]();}[a26_0x435d('0x51')](){const _0x9ea969=JSON[a26_0x435d('0x3e')](this[a26_0x435d('0x22')]);try{if(!fsExtra[a26_0x435d('0x56')](this['playListFile'])){return!![];}else{const _0x1a29d0=fsExtra['readFileSync'](this['playListFile'])['toString']();if(_0x1a29d0!=_0x9ea969){return!![];}}}catch(_0x17ae36){console[a26_0x435d('0x47')](_0x17ae36);}return![];}[a26_0x435d('0x55')](){console[a26_0x435d('0x47')](a26_0x435d('0x59')+this[a26_0x435d('0x1f')]+a26_0x435d('0x5a')+this[a26_0x435d('0x21')][a26_0x435d('0x54')]);if(this[a26_0x435d('0x1f')]>=this[a26_0x435d('0x21')]['length']){this['finishProcess']();return;}const _0x5da103=String(this[a26_0x435d('0x21')][this[a26_0x435d('0x1f')]][a26_0x435d('0x5b')]);const _0x51eef7=this['downloadFiles'][this[a26_0x435d('0x1f')]][a26_0x435d('0x5c')];let _0x532971=_0x5da103[a26_0x435d('0x5d')](_0x5da103[a26_0x435d('0x5e')]('/')+0x1);const _0x435443=_0x532971[a26_0x435d('0x5f')]('.')['slice'](0x0,-0x1)['join']('.');let _0x27c84c=this[a26_0x435d('0x2f')]+_0x5da103;const _0x2884e4=_0x27c84c[a26_0x435d('0x5f')]('.')[a26_0x435d('0x60')](0x0,-0x1)[a26_0x435d('0x61')]('.');if(_0x51eef7==a26_0x435d('0x62')){_0x532971=_0x532971+a26_0x435d('0x63');}else if(_0x51eef7==a26_0x435d('0x64')){_0x532971=_0x435443+a26_0x435d('0x63');_0x27c84c=_0x2884e4+a26_0x435d('0x63');}console[a26_0x435d('0x47')](a26_0x435d('0x65'));console[a26_0x435d('0x47')](_0x5da103);console[a26_0x435d('0x47')](_0x51eef7);console[a26_0x435d('0x47')](_0x532971);console[a26_0x435d('0x47')](_0x27c84c);console[a26_0x435d('0x47')](_0x435443);console[a26_0x435d('0x47')](_0x2884e4);console[a26_0x435d('0x47')](a26_0x435d('0x65'));if(fsExtra[a26_0x435d('0x56')](this['tempFolder']+_0x532971)){this[a26_0x435d('0x66')](this[a26_0x435d('0x18')]+_0x532971)[a26_0x435d('0x4')](function(_0xb2b193){if(_0xb2b193){this[a26_0x435d('0x1f')]++;}else{this[a26_0x435d('0x20')]=!![];}this['download']();}['bind'](this));}else if(fsExtra['existsSync'](this['filesFolder']+_0x532971)){this[a26_0x435d('0x66')](this[a26_0x435d('0x19')]+_0x532971)['then'](function(_0x1066c6){if(_0x1066c6){fsExtra[a26_0x435d('0x67')](this[a26_0x435d('0x19')]+_0x532971,this[a26_0x435d('0x18')]+_0x532971);this[a26_0x435d('0x1f')]++;}else{this[a26_0x435d('0x20')]=!![];}this[a26_0x435d('0x55')]();}[a26_0x435d('0x3a')](this));}else{console[a26_0x435d('0x47')](a26_0x435d('0x68')+_0x27c84c);this[a26_0x435d('0x20')]=!![];if(_0x51eef7==a26_0x435d('0x62')){this[a26_0x435d('0x69')](_0x5da103);}else{this['downloader'](_0x27c84c,_0x532971,_0x51eef7);}}}[a26_0x435d('0x66')](_0x23edac){return __awaiter(this,void 0x0,void 0x0,function*(){console[a26_0x435d('0x47')](a26_0x435d('0x6a')+_0x23edac);const _0x24d21a=yield mediainfo(_0x23edac)[a26_0x435d('0x45')](_0x52a6d3=>{console[a26_0x435d('0x47')](_0x52a6d3);fsExtra['removeSync'](_0x23edac);return![];});const _0x5d0ce2=_0x24d21a[a26_0x435d('0x6b')][a26_0x435d('0x6c')][a26_0x435d('0x54')]>0x1&&_0x24d21a[a26_0x435d('0x6b')][a26_0x435d('0x6c')][0x1][a26_0x435d('0x6d')]==a26_0x435d('0x6e');if(!_0x5d0ce2){fsExtra['removeSync'](_0x23edac);}console['log']('mediainfo\x20check:'+_0x5d0ce2);return _0x5d0ce2;});}['downloader'](_0x4c6fe2,_0x3afdc6,_0x5964ab){const _0x381169=new Downloader();console[a26_0x435d('0x47')](_0x4c6fe2);console[a26_0x435d('0x47')](_0x3afdc6);console[a26_0x435d('0x47')](_0x5964ab);const _0x22076f=_0x381169[a26_0x435d('0x55')](_0x4c6fe2,this['tempFolder']+_0x3afdc6);urlExists(_0x4c6fe2,function(_0x3cdf70,_0x3636d0){if(_0x3636d0){if(this[a26_0x435d('0x52')]['includes'](this[a26_0x435d('0x1f')])){const _0x18d449=this['failDownloadFiles']['indexOf'](this[a26_0x435d('0x1f')]);if(_0x18d449>-0x1){this[a26_0x435d('0x52')][a26_0x435d('0x6f')](_0x18d449,0x1);}}console[a26_0x435d('0x47')]('downloading:\x20'+_0x4c6fe2);_0x22076f[a26_0x435d('0x70')]();}else{if(!this[a26_0x435d('0x52')][a26_0x435d('0x71')](this['currentFile'])){this[a26_0x435d('0x52')][a26_0x435d('0x53')](this['currentFile']);}console[a26_0x435d('0x47')](a26_0x435d('0x72')+_0x4c6fe2);this[a26_0x435d('0x1f')]++;this['download']();}}[a26_0x435d('0x3a')](this));_0x22076f['on']('start',function(_0x22076f){console[a26_0x435d('0x47')](a26_0x435d('0x73')+_0x4c6fe2);});_0x22076f['on'](a26_0x435d('0x74'),function(_0x22076f){console[a26_0x435d('0x47')](a26_0x435d('0x75'));this['download']();}[a26_0x435d('0x3a')](this));_0x22076f['on'](a26_0x435d('0x76'),function(_0x22076f){console[a26_0x435d('0x47')](a26_0x435d('0x76'));console[a26_0x435d('0x47')](a26_0x435d('0x77')+_0x3afdc6);console['log'](a26_0x435d('0x78')+_0x5964ab);this[a26_0x435d('0x66')](this['tempFolder']+_0x3afdc6)[a26_0x435d('0x4')](function(_0x4a17a0){if(_0x4a17a0){this[a26_0x435d('0x1f')]++;}this[a26_0x435d('0x55')]();}[a26_0x435d('0x3a')](this));}[a26_0x435d('0x3a')](this));_0x22076f['on'](a26_0x435d('0x79'),function(_0x22076f){console[a26_0x435d('0x47')](a26_0x435d('0x79'));});_0x22076f['on'](a26_0x435d('0x7a'),function(_0x22076f){console[a26_0x435d('0x47')]('destroyed');});_0x22076f['on'](a26_0x435d('0x7b'),function(_0x22076f){console[a26_0x435d('0x47')]('retry');});}[a26_0x435d('0x7c')](_0x209956,_0xd78c64,_0x2eaf17,_0x29912e){console[a26_0x435d('0x47')](a26_0x435d('0x7c'));console[a26_0x435d('0x47')](_0x209956);const _0x3b361f=!![];let _0x1cb1ba=0x0;const _0x15eeb3='';console[a26_0x435d('0x47')](a26_0x435d('0x7d')+_0x209956+'\x20to\x20'+_0xd78c64);if(_0x1cb1ba){if(_0x1cb1ba>0x5){_0x29912e('Max\x20redirects\x20reached',_0x209956,_0x2eaf17,null);return;}}else{_0x1cb1ba=0x0;}const _0x392512=this[a26_0x435d('0x18')]+_0xd78c64;let _0x585cac;if(_0x29912e===undefined){console[a26_0x435d('0x47')](a26_0x435d('0x7e')+_0x209956+a26_0x435d('0x7f')+_0x392512);_0x29912e=function(_0x1f3c50,_0x573c95){console[a26_0x435d('0x47')](a26_0x435d('0x80'),_0x1f3c50,_0x573c95);};}http[a26_0x435d('0x81')][a26_0x435d('0x82')]=0x64;const _0xd31e32={'host':url[a26_0x435d('0x2c')](_0x209956)[a26_0x435d('0x83')],'port':0x50,'path':url[a26_0x435d('0x2c')](_0x209956)[a26_0x435d('0x84')],'agent':![]};const _0x23c146=http['get'](_0xd31e32,function(_0x2dda15){let _0x53959e=0x0;let _0x3d316c=0x0;function _0x44b1aa(){if(_0x53959e===undefined){console[a26_0x435d('0x47')](_0xd78c64+a26_0x435d('0x85')+_0x3d316c+'/'+'?');}const _0x3824ec=_0x3d316c/_0x53959e*0x64;console[a26_0x435d('0x47')](_0xd78c64+a26_0x435d('0x86')+_0x3824ec+'%\x09'+_0x3d316c+'/'+_0x53959e);}console[a26_0x435d('0x47')](_0xd78c64+'\x20'+_0x2dda15[a26_0x435d('0x87')]);switch(_0x2dda15[a26_0x435d('0x87')]){case 0xc8:_0x53959e=_0x2dda15[a26_0x435d('0x88')][a26_0x435d('0x89')]||_0x15eeb3;fs[a26_0x435d('0x8a')](_0x392512,function(_0x3f8e01,_0x2ffd8c){if(!_0x3f8e01){console['log'](a26_0x435d('0x8b')+_0x392512);if(_0x2ffd8c['size']==_0x53959e){console['log']('And\x20the\x20file\x20size\x20matches\x20('+_0x53959e+')');console[a26_0x435d('0x47')](a26_0x435d('0x8c'));}else{console[a26_0x435d('0x47')](a26_0x435d('0x8d')+_0x2ffd8c[a26_0x435d('0x8e')]+a26_0x435d('0x8f')+_0x53959e+')');}}_0x585cac=fs[a26_0x435d('0x90')](_0x392512);_0x2dda15['pipe'](_0x585cac);_0x2dda15['on'](a26_0x435d('0x91'),function(_0x554939){_0x3d316c+=_0x554939[a26_0x435d('0x54')];_0x44b1aa();});_0x23c146['on'](a26_0x435d('0x74'),function(_0x3f8e01){console[a26_0x435d('0x47')](a26_0x435d('0x92'));console[a26_0x435d('0x47')](_0x3f8e01);});_0x585cac['on'](a26_0x435d('0x93'),function(){console[a26_0x435d('0x47')](a26_0x435d('0x94')+_0x209956+'\x20to\x20'+_0xd78c64);_0x29912e(null,_0xd78c64,_0x2eaf17,_0xd78c64);}[a26_0x435d('0x3a')](this));});break;case 0x12e:const _0x43fe79=_0x2dda15[a26_0x435d('0x88')][a26_0x435d('0x95')];console[a26_0x435d('0x47')](a26_0x435d('0x96')+_0x209956+a26_0x435d('0x7f')+_0x43fe79);if(_0x1cb1ba<0x5){this[a26_0x435d('0x7c')](_0x43fe79,_0xd78c64,_0x29912e,_0x1cb1ba++);}else{console['error'](a26_0x435d('0x97')+_0x209956+'.');_0x29912e(a26_0x435d('0x98'),null,null,null);}return;case 0x194:console['log'](a26_0x435d('0x99')+_0x209956);default:console[a26_0x435d('0x47')](a26_0x435d('0x9a')+_0x209956+a26_0x435d('0x9b')+_0x2dda15[a26_0x435d('0x87')]);_0x23c146[a26_0x435d('0x9c')]();_0x29912e(_0x2dda15[a26_0x435d('0x87')],null,null,null);return;}})['on']('error',function(_0x402974){console[a26_0x435d('0x47')](a26_0x435d('0x9d')+_0x209956+'\x20'+_0x402974[a26_0x435d('0x9e')]);_0x29912e(_0x402974,null,null,null);});}[a26_0x435d('0x9f')](_0x66e173,_0x5b1a69,_0x3bd60c,_0x1fd1e1){console[a26_0x435d('0x47')](a26_0x435d('0x9f'));console[a26_0x435d('0x47')](_0x66e173);console[a26_0x435d('0x47')](_0x5b1a69);console['log'](_0x3bd60c);console[a26_0x435d('0x47')](_0x1fd1e1);if(_0x3bd60c==a26_0x435d('0x64')){const _0x25555f=this[a26_0x435d('0x21')][this[a26_0x435d('0x1f')]][a26_0x435d('0xa0')]!=null?this[a26_0x435d('0x21')][this[a26_0x435d('0x1f')]][a26_0x435d('0xa0')]:0x1e;this[a26_0x435d('0xa1')](_0x1fd1e1,_0x25555f);}else if(_0x3bd60c==a26_0x435d('0xa2')){if(_0x66e173==null&&_0x5b1a69!=''){this[a26_0x435d('0x1f')]++;}this[a26_0x435d('0x55')]();}console[a26_0x435d('0x47')](this[a26_0x435d('0x1f')]);}['downloadRequestFile'](_0x54d1b9,_0x4bcd50,_0xb37354){progress(request(_0x54d1b9),{})['on'](a26_0x435d('0xa3'),function(_0x3ad8ff){console[a26_0x435d('0x47')](_0x3ad8ff);})['on'](a26_0x435d('0x74'),function(_0x3978c1){console[a26_0x435d('0x47')](a26_0x435d('0xa4'));this[a26_0x435d('0x55')]();})['on']('end',function(){console[a26_0x435d('0x47')]('Downloaded:\x20'+_0x4bcd50);console[a26_0x435d('0x47')]('mediaType:\x20'+_0xb37354);if(_0xb37354=='image'){const _0x41ff1b=this[a26_0x435d('0x21')][this[a26_0x435d('0x1f')]]['duration']!=null?this[a26_0x435d('0x21')][this[a26_0x435d('0x1f')]][a26_0x435d('0xa0')]:0x1e;this['createImageVideo'](_0x4bcd50,_0x41ff1b);}else if(_0xb37354==a26_0x435d('0xa2')){this[a26_0x435d('0x1f')]++;this[a26_0x435d('0x55')]();}}[a26_0x435d('0x3a')](this))[a26_0x435d('0xa5')](fs[a26_0x435d('0x90')](this['tempFolder']+_0x4bcd50));}['createImageVideo'](_0x37a91b,_0x26db32=0x1e){const _0x5f5c5f=this[a26_0x435d('0x18')]+_0x37a91b;console['log'](_0x5f5c5f);console[a26_0x435d('0x47')](_0x37a91b);const _0x14e9fb=_0x37a91b[a26_0x435d('0x5f')]('.')[a26_0x435d('0x60')](0x0,-0x1)[a26_0x435d('0x61')]('.');const _0x2260b9='ffmpeg';const _0x4faed0=['-y','-r','1/2',a26_0x435d('0xa6'),'1',a26_0x435d('0xa7'),'glob','-i',_0x5f5c5f,'-t',String(_0x26db32),a26_0x435d('0xa8'),a26_0x435d('0xa9'),a26_0x435d('0xaa'),a26_0x435d('0xab'),'-r','25',a26_0x435d('0xac'),a26_0x435d('0xad'),this[a26_0x435d('0x18')]+_0x14e9fb+a26_0x435d('0x63')];const _0x1d04ab=spawn(_0x2260b9,_0x4faed0);_0x1d04ab[a26_0x435d('0xae')]['on'](a26_0x435d('0x91'),function(_0x55d53b){console[a26_0x435d('0x47')]('Converting\x20'+_0x5f5c5f);});_0x1d04ab['stderr']['on'](a26_0x435d('0x91'),function(_0x505485){console[a26_0x435d('0x47')](a26_0x435d('0xaf')+_0x505485);}[a26_0x435d('0x3a')](this));_0x1d04ab['on']('close',function(){console[a26_0x435d('0x47')](a26_0x435d('0xb0'));this[a26_0x435d('0x1f')]++;this[a26_0x435d('0x55')]();}[a26_0x435d('0x3a')](this));}[a26_0x435d('0x69')](_0x240e0c){const _0x1c076b=this[a26_0x435d('0x18')]+'/'+_0x240e0c+a26_0x435d('0x63');const _0x21ba39=a26_0x435d('0xb1')+_0x240e0c;console[a26_0x435d('0x47')](a26_0x435d('0xb2')+_0x21ba39);console['log'](a26_0x435d('0xb3')+_0x1c076b);const _0x52ce09=youtubedl(_0x21ba39,[a26_0x435d('0xb4'),a26_0x435d('0xb5')],{'cwd':__dirname});_0x52ce09['on'](a26_0x435d('0xb6'),function(_0x13f26d){console[a26_0x435d('0x47')](a26_0x435d('0xb7'));console['log'](a26_0x435d('0xb8')+_0x13f26d[a26_0x435d('0xb9')]);console['log']('size:\x20'+_0x13f26d[a26_0x435d('0x8e')]);});_0x52ce09['on'](a26_0x435d('0xba'),function complete(_0x1bd89c){'use strict';console[a26_0x435d('0x47')](a26_0x435d('0xb8')+_0x1bd89c[a26_0x435d('0xb9')]+a26_0x435d('0xbb'));});_0x52ce09['on'](a26_0x435d('0x76'),function(){console[a26_0x435d('0x47')](a26_0x435d('0xbc'));this[a26_0x435d('0x66')](_0x1c076b)[a26_0x435d('0x4')](function(_0x2628dc){if(_0x2628dc){this['currentFile']++;}this[a26_0x435d('0x55')]();}['bind'](this));}[a26_0x435d('0x3a')](this));_0x52ce09[a26_0x435d('0xa5')](fs[a26_0x435d('0x90')](_0x1c076b));}['finishProcess'](){console[a26_0x435d('0x47')](a26_0x435d('0xbd'));if(this[a26_0x435d('0x20')]){if(this[a26_0x435d('0x52')][a26_0x435d('0x54')]==0x0){console[a26_0x435d('0x47')](a26_0x435d('0xbe')+this[a26_0x435d('0x1b')]);fs['writeFileSync'](this[a26_0x435d('0x1b')],JSON[a26_0x435d('0x3e')](this[a26_0x435d('0x22')]));let _0x44e544=a26_0x435d('0xbf')+'\x0d\x0a'+a26_0x435d('0xc0')+'\x0d\x0a';for(const _0xb507dc in this[a26_0x435d('0x21')]){const _0x4ba1b6=this[a26_0x435d('0x21')][_0xb507dc][a26_0x435d('0x5b')];const _0x43ed8a=this[a26_0x435d('0x21')][_0xb507dc][a26_0x435d('0x5c')];const _0x3c5efd=_0x4ba1b6[a26_0x435d('0x5d')](_0x4ba1b6['lastIndexOf']('/')+0x1);let _0x1a59e8=_0x3c5efd['split']('.')['slice'](0x0,-0x1)[a26_0x435d('0x61')]('.');if(_0x43ed8a=='youtube_single'){_0x1a59e8=_0x4ba1b6;}_0x44e544+='/home/osmc/luloclient/media/files/'+_0x1a59e8+a26_0x435d('0x63')+'\x0d\x0a';console['log'](a26_0x435d('0xc1')+_0x44e544);}console[a26_0x435d('0x47')](a26_0x435d('0xc1')+_0x44e544);fsExtra[a26_0x435d('0x57')](this[a26_0x435d('0x19')]);console['log'](a26_0x435d('0xc2')+this[a26_0x435d('0x18')]);fsExtra['copySync'](this[a26_0x435d('0x18')],this[a26_0x435d('0x19')]);console[a26_0x435d('0x47')](a26_0x435d('0xc3')+this[a26_0x435d('0x1d')]);fsExtra['writeFileSync'](this[a26_0x435d('0x1d')],_0x44e544);console[a26_0x435d('0x47')]('emptyDirSync:\x20'+this[a26_0x435d('0x18')]);fsExtra[a26_0x435d('0x57')](this[a26_0x435d('0x18')]);console[a26_0x435d('0x47')](a26_0x435d('0xc4'));this[a26_0x435d('0xc5')]();}else{console['log'](a26_0x435d('0xc6'));this[a26_0x435d('0x1f')]=0x0;setTimeout(function(){this['download']();}[a26_0x435d('0x3a')](this),0x1388);}}else{console[a26_0x435d('0x47')](a26_0x435d('0xc7'));}}[a26_0x435d('0xc8')](){this[a26_0x435d('0xc9')](a26_0x435d('0xca'),{'playlistid':0x1},function(_0x136a8a){console[a26_0x435d('0x47')](a26_0x435d('0xcb'));console[a26_0x435d('0x47')](_0x136a8a);this[a26_0x435d('0xc9')](a26_0x435d('0xcc'),{'item':{'file':a26_0x435d('0xcd')},'playlistid':0x1},function(_0x136a8a){console['log'](a26_0x435d('0xce'));console[a26_0x435d('0x47')](_0x136a8a);this[a26_0x435d('0xc9')](a26_0x435d('0xcf'),{'item':{'playlistid':0x1,'position':0x0}},function(_0x136a8a){console[a26_0x435d('0x47')](a26_0x435d('0xd0'));console[a26_0x435d('0x47')](_0x136a8a);this[a26_0x435d('0xd1')](a26_0x435d('0xd2'));}[a26_0x435d('0x3a')](this));}[a26_0x435d('0x3a')](this));}[a26_0x435d('0x3a')](this));}[a26_0x435d('0xc5')](){console[a26_0x435d('0x47')](a26_0x435d('0xd3'));exec('sudo\x20/sbin/reboot\x20-f',function(_0xffbc8d){console[a26_0x435d('0x47')](_0xffbc8d);});}['updateSettings'](){const _0x29c370=format(this[a26_0x435d('0xd4')],this[a26_0x435d('0x2e')]);console['log'](_0x29c370);request({'url':_0x29c370,'json':!![]},function(_0x114fb3,_0x70003e,_0xb72de6){if(_0xb72de6[a26_0x435d('0x54')]>0x0){const _0x27f7e5=_0xb72de6[0x0];const _0x5b56c4=_0x27f7e5[a26_0x435d('0xd5')];const _0x16afa5=_0x27f7e5[a26_0x435d('0xd6')]==0x1;this[a26_0x435d('0xd7')](_0x5b56c4);this[a26_0x435d('0xd8')](_0x16afa5);this[a26_0x435d('0x39')]();}console[a26_0x435d('0x47')](_0xb72de6);}[a26_0x435d('0x3a')](this));}[a26_0x435d('0xd9')](){this[a26_0x435d('0xd1')](a26_0x435d('0xda'));}[a26_0x435d('0xdb')](){this['kodiCommandClient'](a26_0x435d('0xdc'));}[a26_0x435d('0xd7')](_0x426b13){const _0x5ca6a4=_0x426b13!=null&&_0x426b13!='';const _0x355793='/home/osmc/.kodi/userdata/RssFeeds.xml';if(fsExtra[a26_0x435d('0x56')](_0x355793)){const _0x457632=fsExtra[a26_0x435d('0x2d')](_0x355793);console[a26_0x435d('0x47')]('xmlContent:\x20'+_0x457632);const _0x376960=require('xml2js');const _0x3c711d=_0x376960[a26_0x435d('0xdd')];_0x3c711d(_0x457632,function(_0x4896fc,_0x156a8d){console['log']('err:\x20%j',_0x4896fc);console[a26_0x435d('0x47')](a26_0x435d('0xde'),_0x156a8d);if(!_0x426b13||_0x426b13==null||_0x426b13==''){_0x426b13=a26_0x435d('0xdf');}_0x156a8d[a26_0x435d('0xe0')][a26_0x435d('0xe1')][0x0][a26_0x435d('0xe2')][0x0]['_']=_0x426b13;const _0xc95cd0=new _0x376960['Builder']();const _0x452aa6=_0xc95cd0['buildObject'](_0x156a8d);console[a26_0x435d('0x47')](a26_0x435d('0xe3'),_0x452aa6);fsExtra[a26_0x435d('0x46')](_0x355793,_0x452aa6);});this[a26_0x435d('0xd1')]('RefreshRSS()');this[a26_0x435d('0xc9')](a26_0x435d('0xe4'),{'setting':a26_0x435d('0xe5'),'value':_0x5ca6a4},function(_0xfbf682){console['log'](a26_0x435d('0xe6'));console[a26_0x435d('0x47')](_0xfbf682);}[a26_0x435d('0x3a')](this));}}[a26_0x435d('0xd8')](_0xc72b67){this[a26_0x435d('0xc9')](a26_0x435d('0xe4'),{'setting':a26_0x435d('0xe7'),'value':_0xc72b67},function(_0x3ae7ab){console['log'](a26_0x435d('0xe8'));console[a26_0x435d('0x47')](_0x3ae7ab);}['bind'](this));}[a26_0x435d('0xd1')](_0x105310){exec(a26_0x435d('0xe9')+_0x105310+'\x22',function(_0x2eeb84){console[a26_0x435d('0x47')](_0x2eeb84);});}[a26_0x435d('0xc9')](_0x98194c,_0x3ae25d,_0x249289){const _0x5728af={'jsonrpc':'2.0','method':_0x98194c,'params':_0x3ae25d,'id':0x1};const _0x3e6a53={'user':this['kodiUser'],'pass':this[a26_0x435d('0x26')]};console[a26_0x435d('0x47')](a26_0x435d('0xea'),_0x5728af);console[a26_0x435d('0x47')](a26_0x435d('0xeb'),_0x3e6a53);this[a26_0x435d('0x28')][a26_0x435d('0x42')](this['kodiHost']+a26_0x435d('0xec'),_0x5728af,![],_0x3e6a53)[a26_0x435d('0x4')](function(_0x204c8e){_0x249289(_0x204c8e);})[a26_0x435d('0x45')](function(_0x3668fe){});}}exports[a26_0x435d('0xed')]=SyncPlaylistsService;
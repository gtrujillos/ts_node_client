var a22_0x47c2=['-pix_fmt','yuv420p','-vf','stdout','Converting\x20','stderr','close','finished\x20mp4\x20convert','http://www.youtube.com/watch?v=','--format=18','info','Download\x20started','filename:\x20','_filename','size:\x20','complete','finished\x20youtube\x20downloading!','pipe','Finishing','path','lastIndexOf','/home/osmc/luloclient/media/files/','emptyDirSync','Rebooting..','shutdown','now','Playlist\x20incomplete,\x20retry.','No\x20playlist\x20changes.','SyncPlaylistsService','__awaiter','next','throw','done','value','then','apply','__esModule','../infrastructure/HttpClientService','node-mediainfo','url','http','child_process','spawn','is-image','string-template','youtube-dl','context.json','url-exists','mt-files-downloader','mediaFolder','temp/','filesFolder','files/','playListFile','m3uFile','playlistChanged','downloadFiles','failDownloadFiles','newPlayList','httpClientService','HttpClientService','init','config','readFileSync','context','parse','playerId','baseURL','env','WEB_SERVICE_URL','deploy/','playListServiceURL','kodi','checkDependencies','registerClient','checkFolders','loadMediaList','deviceUuid','writeFileSync','stringify','networkInterfaces','post','log','catch','reportStatus','getCurrentlyPlayingVideo','label','http://restapi.lulo.run/player_devices/report_status','reportStatusResponse:\x20','bind','ensureDir','tempFolder','currentFile','Total:\x20','length','download','hasPlayListChanged','existsSync','toString','error','this.currentFile:\x20','\x20of\x20','media_type','substring','split','slice','join','.mp4','**********+','copySync','Downloading:\x20','youtube_single','downloadYouTube','downloader','checkVideo','media','track','mediainfo\x20check:','includes','indexOf','splice','downloading:\x20','start','push','Error:\x20','start:\x20','end','Downloaded:\x20','stopped','destroyed','retry','downloadHTTPFile','Attempting\x20to\x20download\x20','\x20to\x20','Max\x20redirects\x20reached','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','downloadFile\x20callback\x20result\x20undefined:\x20','globalAgent','maxSockets','host','pathname','get','\x20Progress:\x20unknown\x09','\x20Progress:\x20','statusCode','headers','content-length','stat','Have\x20already\x20downloaded\x20','size','Redownloading','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(',')\x20vs\x20New(','createWriteStream','data','err:\x20','finish','Downloaded\x20','Redirect\x20limit\x20encountered\x20for\x20','302','File\x20Not\x20Found\x20','Problem\x20downloading\x20','\x20STATUS:\x20','abort','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','image','duration','downloadRequestFile','progress','Error\x20downloading\x20file','mediaType:\x20','createImageVideo','ffmpeg','1/2','-loop','-pattern_type','glob','-c:v','libx264'];(function(_0x5d9454,_0x2f4345){var _0x573c8f=function(_0x14979b){while(--_0x14979b){_0x5d9454['push'](_0x5d9454['shift']());}};_0x573c8f(++_0x2f4345);}(a22_0x47c2,0x187));var a22_0x2c44=function(_0xad3ec5,_0xa3d5a9){_0xad3ec5=_0xad3ec5-0x0;var _0x44488b=a22_0x47c2[_0xad3ec5];return _0x44488b;};'use strict';var __awaiter=this&&this[a22_0x2c44('0x0')]||function(_0x1f00e7,_0x47f6de,_0x324611,_0xe1594a){return new(_0x324611||(_0x324611=Promise))(function(_0x2d0edc,_0x35b66b){function _0x55c8e1(_0x218d67){try{_0x17354f(_0xe1594a[a22_0x2c44('0x1')](_0x218d67));}catch(_0x258697){_0x35b66b(_0x258697);}}function _0x1ed544(_0x1745fc){try{_0x17354f(_0xe1594a[a22_0x2c44('0x2')](_0x1745fc));}catch(_0x1baedd){_0x35b66b(_0x1baedd);}}function _0x17354f(_0x4fabda){_0x4fabda[a22_0x2c44('0x3')]?_0x2d0edc(_0x4fabda[a22_0x2c44('0x4')]):new _0x324611(function(_0x2d0edc){_0x2d0edc(_0x4fabda[a22_0x2c44('0x4')]);})[a22_0x2c44('0x5')](_0x55c8e1,_0x1ed544);}_0x17354f((_0xe1594a=_0xe1594a[a22_0x2c44('0x6')](_0x1f00e7,_0x47f6de||[]))[a22_0x2c44('0x1')]());});};Object['defineProperty'](exports,a22_0x2c44('0x7'),{'value':!![]});const HttpClientService_1=require(a22_0x2c44('0x8'));const mediainfo=require(a22_0x2c44('0x9'));const fs=require('fs');const url=require(a22_0x2c44('0xa'));const http=require(a22_0x2c44('0xb'));const fsExtra=require('fs-extra');const request=require('request');const progress=require('request-progress');const spawn=require(a22_0x2c44('0xc'))[a22_0x2c44('0xd')];const isImage=require(a22_0x2c44('0xe'));const format=require(a22_0x2c44('0xf'));const os=require('os');const youtubedl=require(a22_0x2c44('0x10'));const uuidv4=require('uuid/v4');const configFile='config.json';const contextFile=a22_0x2c44('0x11');const urlExists=require(a22_0x2c44('0x12'));const kodi_rpc=require('node-kodi');const Downloader=require(a22_0x2c44('0x13'));class SyncPlaylistsService{constructor(){this[a22_0x2c44('0x14')]='media/';this['tempFolder']=this[a22_0x2c44('0x14')]+a22_0x2c44('0x15');this[a22_0x2c44('0x16')]=this['mediaFolder']+a22_0x2c44('0x17');this[a22_0x2c44('0x18')]=this[a22_0x2c44('0x14')]+'playlist.txt';this[a22_0x2c44('0x19')]=this[a22_0x2c44('0x16')]+'lulo_playlist.m3u';this['currentFile']=0x0;this[a22_0x2c44('0x1a')]=![];this[a22_0x2c44('0x1b')]=[];this[a22_0x2c44('0x1c')]=[];this[a22_0x2c44('0x1d')]={};this[a22_0x2c44('0x1e')]=new HttpClientService_1[(a22_0x2c44('0x1f'))]();}[a22_0x2c44('0x20')](){this[a22_0x2c44('0x21')]=JSON['parse'](fs[a22_0x2c44('0x22')](configFile));this[a22_0x2c44('0x23')]=JSON[a22_0x2c44('0x24')](fs['readFileSync'](contextFile));this[a22_0x2c44('0x25')]=this['config']['playerId'];this[a22_0x2c44('0x26')]=process[a22_0x2c44('0x27')][a22_0x2c44('0x28')]+a22_0x2c44('0x29');this[a22_0x2c44('0x2a')]=this[a22_0x2c44('0x26')]+'api/player_playlist.php?player_id={0}';this[a22_0x2c44('0x2b')]=new kodi_rpc({'url':'http://192.168.0.114'});this[a22_0x2c44('0x2c')]();this[a22_0x2c44('0x2d')]();this[a22_0x2c44('0x2e')]();this[a22_0x2c44('0x2f')]();setInterval(function(){this['reportStatus']();}['bind'](this),0x1388);}[a22_0x2c44('0x2c')](){}['registerClient'](){const _0x22fa39=this[a22_0x2c44('0x21')][a22_0x2c44('0x30')];if(!_0x22fa39||_0x22fa39==''){this[a22_0x2c44('0x21')]['deviceUuid']=uuidv4();this[a22_0x2c44('0x21')]={'deviceUuid':this[a22_0x2c44('0x21')][a22_0x2c44('0x30')],'playerId':this[a22_0x2c44('0x21')][a22_0x2c44('0x25')]};fs[a22_0x2c44('0x31')](configFile,JSON['stringify'](this[a22_0x2c44('0x21')]));}const _0x53b2a1={'player_id':this[a22_0x2c44('0x25')],'device_uuid':this[a22_0x2c44('0x21')]['deviceUuid'],'network_info':JSON[a22_0x2c44('0x32')](os[a22_0x2c44('0x33')]()),'firmware_info':JSON['stringify'](this[a22_0x2c44('0x23')]),'status':0x1};this[a22_0x2c44('0x1e')][a22_0x2c44('0x34')]('http://restapi.lulo.run/player_devices/register',_0x53b2a1,![])[a22_0x2c44('0x5')](function(_0x449ace){console[a22_0x2c44('0x35')]('register\x20response:\x20'+Date());})[a22_0x2c44('0x36')](function(_0x136524){});}[a22_0x2c44('0x37')](){console[a22_0x2c44('0x35')]('reportStatus');this[a22_0x2c44('0x2b')]['player'][a22_0x2c44('0x38')]()['then'](function(_0x3be25b){const _0x23a5be=_0x3be25b['item'][a22_0x2c44('0x39')];const _0x4f3042={'player_id':this['playerId'],'device_uuid':this[a22_0x2c44('0x21')][a22_0x2c44('0x30')],'status':0x1,'playingItem':_0x23a5be};this[a22_0x2c44('0x1e')][a22_0x2c44('0x34')](a22_0x2c44('0x3a'),_0x4f3042,![])['then'](function(_0x75033a){console[a22_0x2c44('0x35')](a22_0x2c44('0x3b')+Date());})[a22_0x2c44('0x36')](function(_0x2b6307){});}[a22_0x2c44('0x3c')](this));}[a22_0x2c44('0x2e')](){fsExtra[a22_0x2c44('0x3d')](this[a22_0x2c44('0x14')],_0x3c37ab=>{});fsExtra['ensureDir'](this['tempFolder'],_0x1dadf4=>{});fsExtra['ensureDir'](this[a22_0x2c44('0x16')],_0x33c553=>{});}[a22_0x2c44('0x2f')](){const _0x4d09f4=format(this[a22_0x2c44('0x2a')],this[a22_0x2c44('0x25')]);console[a22_0x2c44('0x35')](_0x4d09f4);request({'url':_0x4d09f4,'json':!![]},function(_0x31dc6d,_0x441602,_0x48667b){this[a22_0x2c44('0x1d')]=_0x48667b;this[a22_0x2c44('0x1a')]=this['hasPlayListChanged']();fsExtra['emptyDirSync'](this[a22_0x2c44('0x3e')]);this[a22_0x2c44('0x1b')]=[];this[a22_0x2c44('0x1c')]=[];this[a22_0x2c44('0x3f')]=0x0;for(const _0x439786 in _0x48667b){this[a22_0x2c44('0x1b')]['push'](_0x48667b[_0x439786]);}console[a22_0x2c44('0x35')](a22_0x2c44('0x40')+this[a22_0x2c44('0x1b')]['length']);if(this[a22_0x2c44('0x1b')][a22_0x2c44('0x41')]>0x0){this[a22_0x2c44('0x42')]();}}['bind'](this));}['reloadMediaList'](){if(fsExtra['existsSync'](this['playListFile'])){fsExtra['removeSync'](this[a22_0x2c44('0x18')]);}this['loadMediaList']();}[a22_0x2c44('0x43')](){const _0x3c2550=JSON[a22_0x2c44('0x32')](this[a22_0x2c44('0x1d')]);try{if(!fs[a22_0x2c44('0x44')](this[a22_0x2c44('0x18')])){return!![];}else{const _0x29577f=fs[a22_0x2c44('0x22')](this[a22_0x2c44('0x18')])[a22_0x2c44('0x45')]();if(_0x29577f!=_0x3c2550){return!![];}}}catch(_0x34a3b2){console[a22_0x2c44('0x46')](_0x34a3b2);}return![];}[a22_0x2c44('0x42')](){console['log'](a22_0x2c44('0x47')+this[a22_0x2c44('0x3f')]+a22_0x2c44('0x48')+this[a22_0x2c44('0x1b')][a22_0x2c44('0x41')]);if(this['currentFile']>=this[a22_0x2c44('0x1b')][a22_0x2c44('0x41')]){this['finishProcess']();return;}const _0x5c3c37=String(this[a22_0x2c44('0x1b')][this['currentFile']]['path']);const _0x4d3be3=this[a22_0x2c44('0x1b')][this['currentFile']][a22_0x2c44('0x49')];let _0x3081fa=_0x5c3c37[a22_0x2c44('0x4a')](_0x5c3c37['lastIndexOf']('/')+0x1);const _0x4bfe93=_0x3081fa[a22_0x2c44('0x4b')]('.')[a22_0x2c44('0x4c')](0x0,-0x1)[a22_0x2c44('0x4d')]('.');let _0x3c9d2e=this[a22_0x2c44('0x26')]+_0x5c3c37;const _0x490b1f=_0x3c9d2e['split']('.')[a22_0x2c44('0x4c')](0x0,-0x1)['join']('.');if(_0x4d3be3=='youtube_single'){_0x3081fa=_0x3081fa+'.mp4';}else if(_0x4d3be3=='image'){_0x3081fa=_0x4bfe93+a22_0x2c44('0x4e');_0x3c9d2e=_0x490b1f+'.mp4';}console[a22_0x2c44('0x35')](a22_0x2c44('0x4f'));console[a22_0x2c44('0x35')](_0x5c3c37);console[a22_0x2c44('0x35')](_0x4d3be3);console[a22_0x2c44('0x35')](_0x3081fa);console['log'](_0x3c9d2e);console[a22_0x2c44('0x35')](_0x4bfe93);console[a22_0x2c44('0x35')](_0x490b1f);console[a22_0x2c44('0x35')](a22_0x2c44('0x4f'));if(fsExtra[a22_0x2c44('0x44')](this['tempFolder']+_0x3081fa)){this['checkVideo'](this[a22_0x2c44('0x3e')]+_0x3081fa)['then'](function(_0x1324df){if(_0x1324df){this[a22_0x2c44('0x3f')]++;}else{this[a22_0x2c44('0x1a')]=!![];}this[a22_0x2c44('0x42')]();}[a22_0x2c44('0x3c')](this));}else if(fsExtra[a22_0x2c44('0x44')](this[a22_0x2c44('0x16')]+_0x3081fa)){this['checkVideo'](this[a22_0x2c44('0x16')]+_0x3081fa)['then'](function(_0x503142){if(_0x503142){fsExtra[a22_0x2c44('0x50')](this[a22_0x2c44('0x16')]+_0x3081fa,this[a22_0x2c44('0x3e')]+_0x3081fa);this[a22_0x2c44('0x3f')]++;}else{this[a22_0x2c44('0x1a')]=!![];}this[a22_0x2c44('0x42')]();}[a22_0x2c44('0x3c')](this));}else{console[a22_0x2c44('0x35')](a22_0x2c44('0x51')+_0x3c9d2e);this[a22_0x2c44('0x1a')]=!![];if(_0x4d3be3==a22_0x2c44('0x52')){this[a22_0x2c44('0x53')](_0x5c3c37);}else{this[a22_0x2c44('0x54')](_0x3c9d2e,_0x3081fa,_0x4d3be3);}}}[a22_0x2c44('0x55')](_0x7b018a){return __awaiter(this,void 0x0,void 0x0,function*(){console[a22_0x2c44('0x35')]('videoFile:\x20'+_0x7b018a);const _0x1ae0af=yield mediainfo(_0x7b018a)[a22_0x2c44('0x36')](_0x8fd884=>console[a22_0x2c44('0x35')](_0x8fd884));const _0x181179=_0x1ae0af[a22_0x2c44('0x56')][a22_0x2c44('0x57')][a22_0x2c44('0x41')]>0x1&&_0x1ae0af[a22_0x2c44('0x56')][a22_0x2c44('0x57')][0x1]['@type']=='Video';if(!_0x181179){fsExtra['removeSync'](_0x7b018a);}console[a22_0x2c44('0x35')](a22_0x2c44('0x58')+_0x181179);return _0x181179;});}[a22_0x2c44('0x54')](_0xa7712b,_0x5c5cdb,_0x13a97d){const _0x3b1856=new Downloader();console[a22_0x2c44('0x35')](_0xa7712b);console[a22_0x2c44('0x35')](_0x5c5cdb);console[a22_0x2c44('0x35')](_0x13a97d);const _0x324332=_0x3b1856[a22_0x2c44('0x42')](_0xa7712b,this[a22_0x2c44('0x3e')]+_0x5c5cdb);urlExists(_0xa7712b,function(_0x519431,_0x63d4f9){if(_0x63d4f9){if(this[a22_0x2c44('0x1c')][a22_0x2c44('0x59')](this[a22_0x2c44('0x3f')])){const _0x12520a=this[a22_0x2c44('0x1c')][a22_0x2c44('0x5a')](this['currentFile']);if(_0x12520a>-0x1){this[a22_0x2c44('0x1c')][a22_0x2c44('0x5b')](_0x12520a,0x1);}}console[a22_0x2c44('0x35')](a22_0x2c44('0x5c')+_0xa7712b);_0x324332[a22_0x2c44('0x5d')]();}else{if(!this[a22_0x2c44('0x1c')]['includes'](this[a22_0x2c44('0x3f')])){this[a22_0x2c44('0x1c')][a22_0x2c44('0x5e')](this['currentFile']);}console[a22_0x2c44('0x35')](a22_0x2c44('0x5f')+_0xa7712b);this[a22_0x2c44('0x3f')]++;this[a22_0x2c44('0x42')]();}}[a22_0x2c44('0x3c')](this));_0x324332['on'](a22_0x2c44('0x5d'),function(_0x324332){console[a22_0x2c44('0x35')](a22_0x2c44('0x60')+_0xa7712b);});_0x324332['on'](a22_0x2c44('0x46'),function(_0x324332){console[a22_0x2c44('0x35')]('error:\x20');this[a22_0x2c44('0x42')]();}[a22_0x2c44('0x3c')](this));_0x324332['on']('end',function(_0x324332){console[a22_0x2c44('0x35')](a22_0x2c44('0x61'));console[a22_0x2c44('0x35')](a22_0x2c44('0x62')+_0x5c5cdb);console[a22_0x2c44('0x35')]('mediaType:\x20'+_0x13a97d);this['checkVideo'](this[a22_0x2c44('0x3e')]+_0x5c5cdb)[a22_0x2c44('0x5')](function(_0x56031f){if(_0x56031f){this['currentFile']++;}this[a22_0x2c44('0x42')]();}[a22_0x2c44('0x3c')](this));}['bind'](this));_0x324332['on'](a22_0x2c44('0x63'),function(_0x324332){console[a22_0x2c44('0x35')]('stopped');});_0x324332['on'](a22_0x2c44('0x64'),function(_0x324332){console['log'](a22_0x2c44('0x64'));});_0x324332['on'](a22_0x2c44('0x65'),function(_0x324332){console[a22_0x2c44('0x35')](a22_0x2c44('0x65'));});}[a22_0x2c44('0x66')](_0x4f2b6f,_0x53b65e,_0x2fdffe,_0x4c72eb){console[a22_0x2c44('0x35')](a22_0x2c44('0x66'));console[a22_0x2c44('0x35')](_0x4f2b6f);const _0xb73f69=!![];let _0x487386=0x0;const _0x5270a0='';console[a22_0x2c44('0x35')](a22_0x2c44('0x67')+_0x4f2b6f+a22_0x2c44('0x68')+_0x53b65e);if(_0x487386){if(_0x487386>0x5){_0x4c72eb(a22_0x2c44('0x69'),_0x4f2b6f,_0x2fdffe,null);return;}}else{_0x487386=0x0;}const _0x74cd86=this[a22_0x2c44('0x3e')]+_0x53b65e;let _0x2856fe;if(_0x4c72eb===undefined){console[a22_0x2c44('0x35')](a22_0x2c44('0x6a')+_0x4f2b6f+'\x20to\x20'+_0x74cd86);_0x4c72eb=function(_0xed4a50,_0x5eb21d){console[a22_0x2c44('0x35')](a22_0x2c44('0x6b'),_0xed4a50,_0x5eb21d);};}http[a22_0x2c44('0x6c')][a22_0x2c44('0x6d')]=0x64;const _0x59bccf={'host':url[a22_0x2c44('0x24')](_0x4f2b6f)[a22_0x2c44('0x6e')],'port':0x50,'path':url['parse'](_0x4f2b6f)[a22_0x2c44('0x6f')],'agent':![]};const _0x584c59=http[a22_0x2c44('0x70')](_0x59bccf,function(_0x504807){let _0x29122a=0x0;let _0x71c4f2=0x0;function _0x2bba7e(){if(_0x29122a===undefined){console[a22_0x2c44('0x35')](_0x53b65e+a22_0x2c44('0x71')+_0x71c4f2+'/'+'?');}const _0x3ab4c2=_0x71c4f2/_0x29122a*0x64;console['log'](_0x53b65e+a22_0x2c44('0x72')+_0x3ab4c2+'%\x09'+_0x71c4f2+'/'+_0x29122a);}console[a22_0x2c44('0x35')](_0x53b65e+'\x20'+_0x504807[a22_0x2c44('0x73')]);switch(_0x504807[a22_0x2c44('0x73')]){case 0xc8:_0x29122a=_0x504807[a22_0x2c44('0x74')][a22_0x2c44('0x75')]||_0x5270a0;fs[a22_0x2c44('0x76')](_0x74cd86,function(_0x26e29f,_0x4b1cd3){if(!_0x26e29f){console[a22_0x2c44('0x35')](a22_0x2c44('0x77')+_0x74cd86);if(_0x4b1cd3[a22_0x2c44('0x78')]==_0x29122a){console['log']('And\x20the\x20file\x20size\x20matches\x20('+_0x29122a+')');console['log'](a22_0x2c44('0x79'));}else{console[a22_0x2c44('0x35')](a22_0x2c44('0x7a')+_0x4b1cd3['size']+a22_0x2c44('0x7b')+_0x29122a+')');}}_0x2856fe=fs[a22_0x2c44('0x7c')](_0x74cd86);_0x504807['pipe'](_0x2856fe);_0x504807['on'](a22_0x2c44('0x7d'),function(_0x59fffa){_0x71c4f2+=_0x59fffa['length'];_0x2bba7e();});_0x584c59['on'](a22_0x2c44('0x46'),function(_0x26e29f){console['log'](a22_0x2c44('0x7e'));console[a22_0x2c44('0x35')](_0x26e29f);});_0x2856fe['on'](a22_0x2c44('0x7f'),function(){console[a22_0x2c44('0x35')](a22_0x2c44('0x80')+_0x4f2b6f+a22_0x2c44('0x68')+_0x53b65e);_0x4c72eb(null,_0x53b65e,_0x2fdffe,_0x53b65e);}[a22_0x2c44('0x3c')](this));});break;case 0x12e:const _0x76da19=_0x504807[a22_0x2c44('0x74')]['location'];console[a22_0x2c44('0x35')]('Redirect\x20'+_0x4f2b6f+a22_0x2c44('0x68')+_0x76da19);if(_0x487386<0x5){this[a22_0x2c44('0x66')](_0x76da19,_0x53b65e,_0x4c72eb,_0x487386++);}else{console[a22_0x2c44('0x46')](a22_0x2c44('0x81')+_0x4f2b6f+'.');_0x4c72eb(a22_0x2c44('0x82'),null,null,null);}return;case 0x194:console[a22_0x2c44('0x35')](a22_0x2c44('0x83')+_0x4f2b6f);default:console['log'](a22_0x2c44('0x84')+_0x4f2b6f+a22_0x2c44('0x85')+_0x504807[a22_0x2c44('0x73')]);_0x584c59[a22_0x2c44('0x86')]();_0x4c72eb(_0x504807[a22_0x2c44('0x73')],null,null,null);return;}})['on'](a22_0x2c44('0x46'),function(_0x2780fe){console['log'](a22_0x2c44('0x87')+_0x4f2b6f+'\x20'+_0x2780fe[a22_0x2c44('0x88')]);_0x4c72eb(_0x2780fe,null,null,null);});}['downloadHTTPFileCallback'](_0x49809a,_0x5db0f3,_0x526252,_0x4980ed){console[a22_0x2c44('0x35')](a22_0x2c44('0x89'));console[a22_0x2c44('0x35')](_0x49809a);console[a22_0x2c44('0x35')](_0x5db0f3);console[a22_0x2c44('0x35')](_0x526252);console[a22_0x2c44('0x35')](_0x4980ed);if(_0x526252==a22_0x2c44('0x8a')){const _0x30bf6a=this['downloadFiles'][this[a22_0x2c44('0x3f')]][a22_0x2c44('0x8b')]!=null?this['downloadFiles'][this[a22_0x2c44('0x3f')]][a22_0x2c44('0x8b')]:0x1e;this['createImageVideo'](_0x4980ed,_0x30bf6a);}else if(_0x526252=='video'){if(_0x49809a==null&&_0x5db0f3!=''){this['currentFile']++;}this[a22_0x2c44('0x42')]();}console[a22_0x2c44('0x35')](this[a22_0x2c44('0x3f')]);}[a22_0x2c44('0x8c')](_0x3c5c37,_0x10b78c,_0x40abbf){progress(request(_0x3c5c37),{})['on'](a22_0x2c44('0x8d'),function(_0x5e3fca){console['log'](_0x5e3fca);})['on'](a22_0x2c44('0x46'),function(_0xb0dce6){console[a22_0x2c44('0x35')](a22_0x2c44('0x8e'));this[a22_0x2c44('0x42')]();})['on']('end',function(){console[a22_0x2c44('0x35')]('Downloaded:\x20'+_0x10b78c);console[a22_0x2c44('0x35')](a22_0x2c44('0x8f')+_0x40abbf);if(_0x40abbf==a22_0x2c44('0x8a')){const _0x548c96=this[a22_0x2c44('0x1b')][this[a22_0x2c44('0x3f')]]['duration']!=null?this['downloadFiles'][this[a22_0x2c44('0x3f')]][a22_0x2c44('0x8b')]:0x1e;this[a22_0x2c44('0x90')](_0x10b78c,_0x548c96);}else if(_0x40abbf=='video'){this['currentFile']++;this[a22_0x2c44('0x42')]();}}['bind'](this))['pipe'](fs[a22_0x2c44('0x7c')](this[a22_0x2c44('0x3e')]+_0x10b78c));}[a22_0x2c44('0x90')](_0x2d3a80,_0x52d8ae=0x1e){const _0x3566d5=this['tempFolder']+_0x2d3a80;console[a22_0x2c44('0x35')](_0x3566d5);console[a22_0x2c44('0x35')](_0x2d3a80);const _0x10abb0=_0x2d3a80[a22_0x2c44('0x4b')]('.')[a22_0x2c44('0x4c')](0x0,-0x1)['join']('.');const _0x2db0c4=a22_0x2c44('0x91');const _0x387cdd=['-y','-r',a22_0x2c44('0x92'),a22_0x2c44('0x93'),'1',a22_0x2c44('0x94'),a22_0x2c44('0x95'),'-i',_0x3566d5,'-t',String(_0x52d8ae),a22_0x2c44('0x96'),a22_0x2c44('0x97'),a22_0x2c44('0x98'),a22_0x2c44('0x99'),'-r','25',a22_0x2c44('0x9a'),'scale=1920:1080',this[a22_0x2c44('0x3e')]+_0x10abb0+a22_0x2c44('0x4e')];const _0x108637=spawn(_0x2db0c4,_0x387cdd);_0x108637[a22_0x2c44('0x9b')]['on'](a22_0x2c44('0x7d'),function(_0x1d60f6){console[a22_0x2c44('0x35')](a22_0x2c44('0x9c')+_0x3566d5);});_0x108637[a22_0x2c44('0x9d')]['on'](a22_0x2c44('0x7d'),function(_0x43b880){console['log']('stderr:\x20'+_0x43b880);}[a22_0x2c44('0x3c')](this));_0x108637['on'](a22_0x2c44('0x9e'),function(){console['log'](a22_0x2c44('0x9f'));this[a22_0x2c44('0x3f')]++;this[a22_0x2c44('0x42')]();}[a22_0x2c44('0x3c')](this));}[a22_0x2c44('0x53')](_0x5a1006){const _0x47316f=this[a22_0x2c44('0x3e')]+'/'+_0x5a1006+a22_0x2c44('0x4e');const _0x588858=youtubedl(a22_0x2c44('0xa0')+_0x5a1006,[a22_0x2c44('0xa1')],{'cwd':__dirname});_0x588858['on'](a22_0x2c44('0xa2'),function(_0x232cb6){console[a22_0x2c44('0x35')](a22_0x2c44('0xa3'));console[a22_0x2c44('0x35')](a22_0x2c44('0xa4')+_0x232cb6[a22_0x2c44('0xa5')]);console[a22_0x2c44('0x35')](a22_0x2c44('0xa6')+_0x232cb6[a22_0x2c44('0x78')]);});_0x588858['on'](a22_0x2c44('0xa7'),function complete(_0x199269){'use strict';console[a22_0x2c44('0x35')](a22_0x2c44('0xa4')+_0x199269[a22_0x2c44('0xa5')]+'\x20already\x20downloaded.');});_0x588858['on'](a22_0x2c44('0x61'),function(){console[a22_0x2c44('0x35')](a22_0x2c44('0xa8'));this['checkVideo'](_0x47316f)[a22_0x2c44('0x5')](function(_0x49041a){if(_0x49041a){this[a22_0x2c44('0x3f')]++;}this[a22_0x2c44('0x42')]();}[a22_0x2c44('0x3c')](this));}[a22_0x2c44('0x3c')](this));_0x588858[a22_0x2c44('0xa9')](fs['createWriteStream'](_0x47316f));}['finishProcess'](){console[a22_0x2c44('0x35')](a22_0x2c44('0xaa'));if(this[a22_0x2c44('0x1a')]){if(this[a22_0x2c44('0x1c')]['length']==0x0){fs['writeFileSync'](this['playListFile'],JSON[a22_0x2c44('0x32')](this[a22_0x2c44('0x1d')]));let _0x3a4d8c='#EXTCPlayListM3U::M3U'+'\x0d\x0a'+'#EXTINF:0,luloPlayList'+'\x0d\x0a';for(const _0x54e34c in this[a22_0x2c44('0x1b')]){const _0x2cb2ad=this[a22_0x2c44('0x1b')][_0x54e34c][a22_0x2c44('0xab')];const _0x288e53=this[a22_0x2c44('0x1b')][_0x54e34c][a22_0x2c44('0x49')];const _0x55567e=_0x2cb2ad[a22_0x2c44('0x4a')](_0x2cb2ad[a22_0x2c44('0xac')]('/')+0x1);let _0x54b0cf=_0x55567e['split']('.')[a22_0x2c44('0x4c')](0x0,-0x1)[a22_0x2c44('0x4d')]('.');if(_0x288e53==a22_0x2c44('0x52')){_0x54b0cf=_0x2cb2ad;}_0x3a4d8c+=a22_0x2c44('0xad')+_0x54b0cf+a22_0x2c44('0x4e')+'\x0d\x0a';}fsExtra[a22_0x2c44('0xae')](this[a22_0x2c44('0x16')]);fsExtra[a22_0x2c44('0x50')](this[a22_0x2c44('0x3e')],this[a22_0x2c44('0x16')]);fsExtra[a22_0x2c44('0x31')](this['m3uFile'],_0x3a4d8c);fsExtra['emptyDirSync'](this[a22_0x2c44('0x3e')]);console[a22_0x2c44('0x35')](a22_0x2c44('0xaf'));const _0x49ad37=spawn(a22_0x2c44('0xb0'),['-r',a22_0x2c44('0xb1')]);}else{console[a22_0x2c44('0x35')](a22_0x2c44('0xb2'));this[a22_0x2c44('0x3f')]=0x0;setTimeout(function(){this['download']();}[a22_0x2c44('0x3c')](this),0x1388);}}else{console['log'](a22_0x2c44('0xb3'));}}}exports[a22_0x2c44('0xb4')]=SyncPlaylistsService;
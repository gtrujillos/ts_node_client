var a26_0x3179=['registerClient','checkFolders','loadMediaList','getStatus','bind','playlist','getItems','stringify','deviceUuid','version','post','http://restapi.lulo.run/player_devices/register','log','register\x20response:\x20','catch','writeFileSync','player','getCurrentlyPlayingVideo','label','reportStatus','reportStatus\x20playingItem:\x20','http://restapi.lulo.run/player_devices/report_status','reportStatusResponse','ensureDir','loadMediaList:\x20','playlistChanged','hasPlayListChanged','emptyDirSync','push','Total:\x20','length','download','reloadMediaList','existsSync','removeSync','this.currentFile:\x20','currentFile','\x20of\x20','finishProcess','path','substring','lastIndexOf','split','slice','join','.mp4','**********+','checkVideo','Downloading:\x20','youtube_single','downloader','videoFile:\x20','media','track','@type','mediainfo\x20check:','failDownloadFiles','includes','indexOf','splice','downloading:\x20','start','Error:\x20','start:\x20','error:\x20','end','Downloaded:\x20','stopped','destroyed','retry','downloadHTTPFile','Attempting\x20to\x20download\x20','\x20to\x20','Max\x20redirects\x20reached','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','downloadFile\x20callback\x20result\x20undefined:\x20','globalAgent','maxSockets','host','pathname','\x20Progress:\x20unknown\x09','statusCode','content-length','stat','Have\x20already\x20downloaded\x20','And\x20the\x20file\x20size\x20matches\x20(','Redownloading','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(','size',')\x20vs\x20New(','createWriteStream','pipe','data','error','err:\x20','finish','Downloaded\x20','location','Redirect\x20','Redirect\x20limit\x20encountered\x20for\x20','File\x20Not\x20Found\x20','abort','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','createImageVideo','video','progress','Error\x20downloading\x20file','mediaType:\x20','image','duration','1/2','-loop','-pattern_type','glob','-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','stderr','stderr:\x20','close','http://www.youtube.com/watch?v=','outFileName:\x20','--format=18','--no-check-certificate','info','_filename','size:\x20','complete','filename:\x20','\x20already\x20downloaded.','Finishing','this.playListFile:\x20','#EXTINF:0,luloPlayList','/home/osmc/luloclient/media/files/','m3uContent:\x20','copySync:\x20','copySync','writeFileSync:\x20','emptyDirSync:\x20','reboot','No\x20playlist\x20changes.','refreshPlayer','jsonrpcClient','Playlist.Clear','Playlist.Cleared','//home/osmc/luloclient/media/files/lulo_playlist.m3u','Playlist.Added','Player.Open','kodiCommandClient','RestartApp()','Rebooting','updateSettings','rss','header_active','setRss','turnOffTV','CECStandby()','turnOnTV','CECActivateSource()','/home/osmc/.kodi/userdata/RssFeeds.xml','xmlContent:\x20','xml2js','parseString','err:\x20%j','none','rssfeeds','feed','Builder','buildObject','xml:\x20%j','RefreshRSS()','Settings.SetSettingValue','setRss:','enableClock','enableClock:\x20','kodi-send\x20--action=\x22','2.0','jsonrpcClient\x20data','jsonrpcClient\x20options','/jsonrpc','__awaiter','next','throw','value','then','defineProperty','__esModule','../infrastructure/HttpClientService','./playerService','node-mediainfo','url','http','child_process','exec','is-image','string-template','youtube-dl','uuid/v4','config.json','node-kodi','mt-files-downloader','mediaFolder','media/','tempFolder','temp/','filesFolder','files/','playListFile','playlist.txt','m3uFile','lulo_playlist.m3u','downloadFiles','newPlayList','http://localhost','kodiUser','.lulo123.','forceReload','httpClientService','playerService','init','config','parse','readFileSync','context','playerId','env','playListServiceURL','baseURL','api/player_playlist.php?player_id={0}','playerServiceURL','api/player.php?player_id={0}','kodi','kodiHost','kodiPassword','checkDependencies'];(function(_0x3f4efd,_0x3c7e74){var _0x55a797=function(_0x25b23f){while(--_0x25b23f){_0x3f4efd['push'](_0x3f4efd['shift']());}};_0x55a797(++_0x3c7e74);}(a26_0x3179,0xba));var a26_0x1c2b=function(_0x3d4665,_0x68459b){_0x3d4665=_0x3d4665-0x0;var _0x19f8ac=a26_0x3179[_0x3d4665];return _0x19f8ac;};'use strict';var __awaiter=this&&this[a26_0x1c2b('0x0')]||function(_0x32c508,_0x4e0471,_0x3b9aad,_0xfd631b){function _0x541a81(_0x26426c){return _0x26426c instanceof _0x3b9aad?_0x26426c:new _0x3b9aad(function(_0x4cd405){_0x4cd405(_0x26426c);});}return new(_0x3b9aad||(_0x3b9aad=Promise))(function(_0x8bac,_0x3bdb34){function _0x364471(_0x3c636f){try{_0x524239(_0xfd631b[a26_0x1c2b('0x1')](_0x3c636f));}catch(_0x3d5788){_0x3bdb34(_0x3d5788);}}function _0x4ae8a4(_0x3b9656){try{_0x524239(_0xfd631b[a26_0x1c2b('0x2')](_0x3b9656));}catch(_0x33732e){_0x3bdb34(_0x33732e);}}function _0x524239(_0x3ed3b9){_0x3ed3b9['done']?_0x8bac(_0x3ed3b9[a26_0x1c2b('0x3')]):_0x541a81(_0x3ed3b9[a26_0x1c2b('0x3')])[a26_0x1c2b('0x4')](_0x364471,_0x4ae8a4);}_0x524239((_0xfd631b=_0xfd631b['apply'](_0x32c508,_0x4e0471||[]))[a26_0x1c2b('0x1')]());});};Object[a26_0x1c2b('0x5')](exports,a26_0x1c2b('0x6'),{'value':!![]});const HttpClientService_1=require(a26_0x1c2b('0x7'));const playerService_1=require(a26_0x1c2b('0x8'));const mediainfo=require(a26_0x1c2b('0x9'));const fs=require('fs');const url=require(a26_0x1c2b('0xa'));const http=require(a26_0x1c2b('0xb'));const fsExtra=require('fs-extra');const request=require('request');const progress=require('request-progress');const spawn=require(a26_0x1c2b('0xc'))['spawn'];const exec=require(a26_0x1c2b('0xc'))[a26_0x1c2b('0xd')];const isImage=require(a26_0x1c2b('0xe'));const format=require(a26_0x1c2b('0xf'));const os=require('os');const youtubedl=require(a26_0x1c2b('0x10'));const uuidv4=require(a26_0x1c2b('0x11'));const configFile=a26_0x1c2b('0x12');const contextFile='package.json';const urlExists=require('url-exists');const kodi_rpc=require(a26_0x1c2b('0x13'));const Downloader=require(a26_0x1c2b('0x14'));class SyncPlaylistsService{constructor(){this[a26_0x1c2b('0x15')]=a26_0x1c2b('0x16');this[a26_0x1c2b('0x17')]=this['mediaFolder']+a26_0x1c2b('0x18');this[a26_0x1c2b('0x19')]=this[a26_0x1c2b('0x15')]+a26_0x1c2b('0x1a');this[a26_0x1c2b('0x1b')]=this[a26_0x1c2b('0x15')]+a26_0x1c2b('0x1c');this[a26_0x1c2b('0x1d')]=this[a26_0x1c2b('0x19')]+a26_0x1c2b('0x1e');this['currentFile']=0x0;this['playlistChanged']=![];this[a26_0x1c2b('0x1f')]=[];this['failDownloadFiles']=[];this[a26_0x1c2b('0x20')]={};this['kodiHost']=a26_0x1c2b('0x21');this[a26_0x1c2b('0x22')]='lulo';this['kodiPassword']=a26_0x1c2b('0x23');this[a26_0x1c2b('0x24')]=![];this[a26_0x1c2b('0x25')]=new HttpClientService_1['HttpClientService']();this[a26_0x1c2b('0x26')]=new playerService_1['PlayerService']();}[a26_0x1c2b('0x27')](){this[a26_0x1c2b('0x28')]=JSON[a26_0x1c2b('0x29')](fs[a26_0x1c2b('0x2a')](configFile));this[a26_0x1c2b('0x2b')]=JSON['parse'](fs[a26_0x1c2b('0x2a')](contextFile));this[a26_0x1c2b('0x2c')]=this[a26_0x1c2b('0x28')]['playerId'];this['baseURL']=process[a26_0x1c2b('0x2d')]['WEB_SERVICE_URL']+'deploy/';this[a26_0x1c2b('0x2e')]=this[a26_0x1c2b('0x2f')]+a26_0x1c2b('0x30');this[a26_0x1c2b('0x31')]=this['baseURL']+a26_0x1c2b('0x32');this[a26_0x1c2b('0x33')]=new kodi_rpc({'url':this[a26_0x1c2b('0x34')],'user':this[a26_0x1c2b('0x22')],'password':this[a26_0x1c2b('0x35')]});this[a26_0x1c2b('0x36')]();this[a26_0x1c2b('0x37')]();this[a26_0x1c2b('0x38')]();this[a26_0x1c2b('0x39')]();this['updateSettings']();setInterval(function(){this[a26_0x1c2b('0x3a')]();}['bind'](this),0x2710);setInterval(function(){this[a26_0x1c2b('0x37')]();}[a26_0x1c2b('0x3b')](this),0x493e0);}[a26_0x1c2b('0x36')](){}[a26_0x1c2b('0x37')](){this[a26_0x1c2b('0x33')][a26_0x1c2b('0x3c')][a26_0x1c2b('0x3d')](0x1)['then'](function(_0x473b65){const _0x301e62=JSON[a26_0x1c2b('0x3e')](_0x473b65);const _0x419c82={'player_id':this[a26_0x1c2b('0x2c')],'device_uuid':this[a26_0x1c2b('0x28')][a26_0x1c2b('0x3f')],'network_info':JSON[a26_0x1c2b('0x3e')](os['networkInterfaces']()),'firmware_info':JSON['stringify'](this[a26_0x1c2b('0x2b')][a26_0x1c2b('0x40')]),'playlist':_0x301e62,'playing_item':'','status':0x0};this[a26_0x1c2b('0x25')][a26_0x1c2b('0x41')](a26_0x1c2b('0x42'),_0x419c82,![])['then'](function(_0xf2f62a){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x44')+Date());})[a26_0x1c2b('0x45')](function(_0x1c6ee9){});console[a26_0x1c2b('0x43')](_0x419c82);}[a26_0x1c2b('0x3b')](this));const _0x1dc484=this[a26_0x1c2b('0x28')][a26_0x1c2b('0x3f')];if(!_0x1dc484||_0x1dc484==''){this[a26_0x1c2b('0x28')][a26_0x1c2b('0x3f')]=uuidv4();this[a26_0x1c2b('0x28')]={'deviceUuid':this[a26_0x1c2b('0x28')][a26_0x1c2b('0x3f')],'playerId':this[a26_0x1c2b('0x28')][a26_0x1c2b('0x2c')]};fs[a26_0x1c2b('0x46')](configFile,JSON[a26_0x1c2b('0x3e')](this[a26_0x1c2b('0x28')]));}}[a26_0x1c2b('0x3a')](){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x3a'));this[a26_0x1c2b('0x33')][a26_0x1c2b('0x47')][a26_0x1c2b('0x48')]()['then'](function(_0x549f59){const _0x29403e=_0x549f59['item'][a26_0x1c2b('0x49')];this[a26_0x1c2b('0x4a')](_0x29403e);}[a26_0x1c2b('0x3b')](this))['catch'](function(_0x25570a){console[a26_0x1c2b('0x43')](_0x25570a);this[a26_0x1c2b('0x4a')](JSON['stringify'](_0x25570a));}['bind'](this));}[a26_0x1c2b('0x4a')](_0x47b9dd){console['log'](a26_0x1c2b('0x4b')+_0x47b9dd);const _0x3919aa={'player_id':this[a26_0x1c2b('0x2c')],'device_uuid':this['config'][a26_0x1c2b('0x3f')],'status':_0x47b9dd!=''&&_0x47b9dd!=null?0x1:0x0,'playing_item':_0x47b9dd};this[a26_0x1c2b('0x25')][a26_0x1c2b('0x41')](a26_0x1c2b('0x4c'),_0x3919aa,![])[a26_0x1c2b('0x4')](function(_0x53fe85){console['log'](a26_0x1c2b('0x4d'));})['catch'](function(_0x190865){});}[a26_0x1c2b('0x38')](){fsExtra['ensureDir'](this[a26_0x1c2b('0x15')],_0x15ddba=>{});fsExtra[a26_0x1c2b('0x4e')](this[a26_0x1c2b('0x17')],_0x55601c=>{});fsExtra['ensureDir'](this['filesFolder'],_0x2ca877=>{});}[a26_0x1c2b('0x39')](){const _0x1fd6e0=format(this[a26_0x1c2b('0x2e')],this['playerId']);console[a26_0x1c2b('0x43')](_0x1fd6e0);request({'url':_0x1fd6e0,'json':!![]},function(_0x3c9063,_0x39fee8,_0x2182f9){console['log'](a26_0x1c2b('0x4f'));this[a26_0x1c2b('0x20')]=_0x2182f9;this[a26_0x1c2b('0x50')]=this[a26_0x1c2b('0x51')]();fsExtra[a26_0x1c2b('0x52')](this[a26_0x1c2b('0x17')]);this[a26_0x1c2b('0x1f')]=[];this['failDownloadFiles']=[];this['currentFile']=0x0;for(const _0x41c5da in _0x2182f9){this['downloadFiles'][a26_0x1c2b('0x53')](_0x2182f9[_0x41c5da]);}console[a26_0x1c2b('0x43')](a26_0x1c2b('0x54')+this[a26_0x1c2b('0x1f')][a26_0x1c2b('0x55')]);if(this[a26_0x1c2b('0x1f')][a26_0x1c2b('0x55')]>0x0){this[a26_0x1c2b('0x56')]();}}['bind'](this));}[a26_0x1c2b('0x57')](){this[a26_0x1c2b('0x24')]=!![];if(fsExtra[a26_0x1c2b('0x58')](this[a26_0x1c2b('0x17')])){fsExtra[a26_0x1c2b('0x52')](this[a26_0x1c2b('0x17')]);}if(fsExtra['existsSync'](this[a26_0x1c2b('0x19')])){fsExtra['emptyDirSync'](this[a26_0x1c2b('0x19')]);}if(!fsExtra[a26_0x1c2b('0x58')](this[a26_0x1c2b('0x1b')])){fsExtra['removeSync'](this[a26_0x1c2b('0x1b')]);}if(!fsExtra[a26_0x1c2b('0x58')](this[a26_0x1c2b('0x1d')])){fsExtra[a26_0x1c2b('0x59')](this[a26_0x1c2b('0x1d')]);}this[a26_0x1c2b('0x39')]();}['hasPlayListChanged'](){const _0x154958=JSON[a26_0x1c2b('0x3e')](this[a26_0x1c2b('0x20')]);try{if(!fsExtra[a26_0x1c2b('0x58')](this[a26_0x1c2b('0x1b')])){return!![];}else{const _0x4a22bd=fsExtra[a26_0x1c2b('0x2a')](this[a26_0x1c2b('0x1b')])['toString']();if(_0x4a22bd!=_0x154958){return!![];}}}catch(_0x385253){console[a26_0x1c2b('0x43')](_0x385253);}return![];}[a26_0x1c2b('0x56')](){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x5a')+this[a26_0x1c2b('0x5b')]+a26_0x1c2b('0x5c')+this[a26_0x1c2b('0x1f')][a26_0x1c2b('0x55')]);if(this[a26_0x1c2b('0x5b')]>=this[a26_0x1c2b('0x1f')][a26_0x1c2b('0x55')]){this[a26_0x1c2b('0x5d')]();return;}const _0x285ab6=String(this[a26_0x1c2b('0x1f')][this[a26_0x1c2b('0x5b')]][a26_0x1c2b('0x5e')]);const _0x37fdb8=this[a26_0x1c2b('0x1f')][this[a26_0x1c2b('0x5b')]]['media_type'];let _0x2766ab=_0x285ab6[a26_0x1c2b('0x5f')](_0x285ab6[a26_0x1c2b('0x60')]('/')+0x1);const _0x5237ae=_0x2766ab['split']('.')['slice'](0x0,-0x1)['join']('.');let _0x39e166=this[a26_0x1c2b('0x2f')]+_0x285ab6;const _0x5926d3=_0x39e166[a26_0x1c2b('0x61')]('.')[a26_0x1c2b('0x62')](0x0,-0x1)[a26_0x1c2b('0x63')]('.');if(_0x37fdb8=='youtube_single'){_0x2766ab=_0x2766ab+a26_0x1c2b('0x64');}else if(_0x37fdb8=='image'){_0x2766ab=_0x5237ae+a26_0x1c2b('0x64');_0x39e166=_0x5926d3+'.mp4';}console[a26_0x1c2b('0x43')]('**********+');console[a26_0x1c2b('0x43')](_0x285ab6);console['log'](_0x37fdb8);console[a26_0x1c2b('0x43')](_0x2766ab);console[a26_0x1c2b('0x43')](_0x39e166);console[a26_0x1c2b('0x43')](_0x5237ae);console[a26_0x1c2b('0x43')](_0x5926d3);console[a26_0x1c2b('0x43')](a26_0x1c2b('0x65'));if(fsExtra[a26_0x1c2b('0x58')](this[a26_0x1c2b('0x17')]+_0x2766ab)){this['checkVideo'](this[a26_0x1c2b('0x17')]+_0x2766ab)[a26_0x1c2b('0x4')](function(_0x3f1be2){if(_0x3f1be2){this[a26_0x1c2b('0x5b')]++;}else{this[a26_0x1c2b('0x50')]=!![];}this[a26_0x1c2b('0x56')]();}[a26_0x1c2b('0x3b')](this));}else if(fsExtra[a26_0x1c2b('0x58')](this[a26_0x1c2b('0x19')]+_0x2766ab)){this[a26_0x1c2b('0x66')](this[a26_0x1c2b('0x19')]+_0x2766ab)[a26_0x1c2b('0x4')](function(_0x5602dd){if(_0x5602dd){fsExtra['copySync'](this[a26_0x1c2b('0x19')]+_0x2766ab,this[a26_0x1c2b('0x17')]+_0x2766ab);this[a26_0x1c2b('0x5b')]++;}else{this[a26_0x1c2b('0x50')]=!![];}this[a26_0x1c2b('0x56')]();}[a26_0x1c2b('0x3b')](this));}else{console['log'](a26_0x1c2b('0x67')+_0x39e166);this[a26_0x1c2b('0x50')]=!![];if(_0x37fdb8==a26_0x1c2b('0x68')){this['downloadYouTube'](_0x285ab6);}else{this[a26_0x1c2b('0x69')](_0x39e166,_0x2766ab,_0x37fdb8);}}}['checkVideo'](_0x83cb8c){return __awaiter(this,void 0x0,void 0x0,function*(){console['log'](a26_0x1c2b('0x6a')+_0x83cb8c);const _0x40a637=yield mediainfo(_0x83cb8c)['catch'](_0x570880=>{console['log'](_0x570880);fsExtra[a26_0x1c2b('0x59')](_0x83cb8c);return![];});const _0x1a616d=_0x40a637[a26_0x1c2b('0x6b')][a26_0x1c2b('0x6c')][a26_0x1c2b('0x55')]>0x1&&_0x40a637[a26_0x1c2b('0x6b')]['track'][0x1][a26_0x1c2b('0x6d')]=='Video';if(!_0x1a616d){fsExtra['removeSync'](_0x83cb8c);}console[a26_0x1c2b('0x43')](a26_0x1c2b('0x6e')+_0x1a616d);return _0x1a616d;});}[a26_0x1c2b('0x69')](_0x35ade4,_0x32964a,_0xf2c5e4){const _0x148987=new Downloader();console['log'](_0x35ade4);console[a26_0x1c2b('0x43')](_0x32964a);console['log'](_0xf2c5e4);const _0x5f2ea8=_0x148987[a26_0x1c2b('0x56')](_0x35ade4,this['tempFolder']+_0x32964a);urlExists(_0x35ade4,function(_0x2783f8,_0x2bcd8e){if(_0x2bcd8e){if(this[a26_0x1c2b('0x6f')][a26_0x1c2b('0x70')](this['currentFile'])){const _0x4c9a26=this[a26_0x1c2b('0x6f')][a26_0x1c2b('0x71')](this[a26_0x1c2b('0x5b')]);if(_0x4c9a26>-0x1){this[a26_0x1c2b('0x6f')][a26_0x1c2b('0x72')](_0x4c9a26,0x1);}}console[a26_0x1c2b('0x43')](a26_0x1c2b('0x73')+_0x35ade4);_0x5f2ea8[a26_0x1c2b('0x74')]();}else{if(!this['failDownloadFiles'][a26_0x1c2b('0x70')](this[a26_0x1c2b('0x5b')])){this[a26_0x1c2b('0x6f')][a26_0x1c2b('0x53')](this[a26_0x1c2b('0x5b')]);}console[a26_0x1c2b('0x43')](a26_0x1c2b('0x75')+_0x35ade4);this['currentFile']++;this[a26_0x1c2b('0x56')]();}}[a26_0x1c2b('0x3b')](this));_0x5f2ea8['on']('start',function(_0x5f2ea8){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x76')+_0x35ade4);});_0x5f2ea8['on']('error',function(_0x5f2ea8){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x77'));this['download']();}['bind'](this));_0x5f2ea8['on'](a26_0x1c2b('0x78'),function(_0x5f2ea8){console['log'](a26_0x1c2b('0x78'));console[a26_0x1c2b('0x43')](a26_0x1c2b('0x79')+_0x32964a);console[a26_0x1c2b('0x43')]('mediaType:\x20'+_0xf2c5e4);this[a26_0x1c2b('0x66')](this['tempFolder']+_0x32964a)['then'](function(_0x927fa1){if(_0x927fa1){this[a26_0x1c2b('0x5b')]++;}this[a26_0x1c2b('0x56')]();}['bind'](this));}[a26_0x1c2b('0x3b')](this));_0x5f2ea8['on'](a26_0x1c2b('0x7a'),function(_0x5f2ea8){console['log']('stopped');});_0x5f2ea8['on'](a26_0x1c2b('0x7b'),function(_0x5f2ea8){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x7b'));});_0x5f2ea8['on'](a26_0x1c2b('0x7c'),function(_0x5f2ea8){console[a26_0x1c2b('0x43')]('retry');});}[a26_0x1c2b('0x7d')](_0x45b193,_0x1d1b9d,_0x17356d,_0x22a0da){console['log'](a26_0x1c2b('0x7d'));console[a26_0x1c2b('0x43')](_0x45b193);const _0x5e254c=!![];let _0x39a8a8=0x0;const _0x1bbaa8='';console[a26_0x1c2b('0x43')](a26_0x1c2b('0x7e')+_0x45b193+a26_0x1c2b('0x7f')+_0x1d1b9d);if(_0x39a8a8){if(_0x39a8a8>0x5){_0x22a0da(a26_0x1c2b('0x80'),_0x45b193,_0x17356d,null);return;}}else{_0x39a8a8=0x0;}const _0x4239a3=this[a26_0x1c2b('0x17')]+_0x1d1b9d;let _0x4079e1;if(_0x22a0da===undefined){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x81')+_0x45b193+a26_0x1c2b('0x7f')+_0x4239a3);_0x22a0da=function(_0x1ff49b,_0x5411e7){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x82'),_0x1ff49b,_0x5411e7);};}http[a26_0x1c2b('0x83')][a26_0x1c2b('0x84')]=0x64;const _0x4b48fb={'host':url[a26_0x1c2b('0x29')](_0x45b193)[a26_0x1c2b('0x85')],'port':0x50,'path':url[a26_0x1c2b('0x29')](_0x45b193)[a26_0x1c2b('0x86')],'agent':![]};const _0x50187c=http['get'](_0x4b48fb,function(_0x1ee0ea){let _0x4667f8=0x0;let _0x12dd32=0x0;function _0x40a7d4(){if(_0x4667f8===undefined){console[a26_0x1c2b('0x43')](_0x1d1b9d+a26_0x1c2b('0x87')+_0x12dd32+'/'+'?');}const _0x104b2a=_0x12dd32/_0x4667f8*0x64;console['log'](_0x1d1b9d+'\x20Progress:\x20'+_0x104b2a+'%\x09'+_0x12dd32+'/'+_0x4667f8);}console[a26_0x1c2b('0x43')](_0x1d1b9d+'\x20'+_0x1ee0ea[a26_0x1c2b('0x88')]);switch(_0x1ee0ea['statusCode']){case 0xc8:_0x4667f8=_0x1ee0ea['headers'][a26_0x1c2b('0x89')]||_0x1bbaa8;fs[a26_0x1c2b('0x8a')](_0x4239a3,function(_0x3b7136,_0x569b61){if(!_0x3b7136){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x8b')+_0x4239a3);if(_0x569b61['size']==_0x4667f8){console['log'](a26_0x1c2b('0x8c')+_0x4667f8+')');console[a26_0x1c2b('0x43')](a26_0x1c2b('0x8d'));}else{console[a26_0x1c2b('0x43')](a26_0x1c2b('0x8e')+_0x569b61[a26_0x1c2b('0x8f')]+a26_0x1c2b('0x90')+_0x4667f8+')');}}_0x4079e1=fs[a26_0x1c2b('0x91')](_0x4239a3);_0x1ee0ea[a26_0x1c2b('0x92')](_0x4079e1);_0x1ee0ea['on'](a26_0x1c2b('0x93'),function(_0x30b973){_0x12dd32+=_0x30b973[a26_0x1c2b('0x55')];_0x40a7d4();});_0x50187c['on'](a26_0x1c2b('0x94'),function(_0x3b7136){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x95'));console['log'](_0x3b7136);});_0x4079e1['on'](a26_0x1c2b('0x96'),function(){console['log'](a26_0x1c2b('0x97')+_0x45b193+a26_0x1c2b('0x7f')+_0x1d1b9d);_0x22a0da(null,_0x1d1b9d,_0x17356d,_0x1d1b9d);}[a26_0x1c2b('0x3b')](this));});break;case 0x12e:const _0x358917=_0x1ee0ea['headers'][a26_0x1c2b('0x98')];console[a26_0x1c2b('0x43')](a26_0x1c2b('0x99')+_0x45b193+a26_0x1c2b('0x7f')+_0x358917);if(_0x39a8a8<0x5){this[a26_0x1c2b('0x7d')](_0x358917,_0x1d1b9d,_0x22a0da,_0x39a8a8++);}else{console[a26_0x1c2b('0x94')](a26_0x1c2b('0x9a')+_0x45b193+'.');_0x22a0da('302',null,null,null);}return;case 0x194:console['log'](a26_0x1c2b('0x9b')+_0x45b193);default:console[a26_0x1c2b('0x43')]('Problem\x20downloading\x20'+_0x45b193+'\x20STATUS:\x20'+_0x1ee0ea[a26_0x1c2b('0x88')]);_0x50187c[a26_0x1c2b('0x9c')]();_0x22a0da(_0x1ee0ea[a26_0x1c2b('0x88')],null,null,null);return;}})['on'](a26_0x1c2b('0x94'),function(_0x11d2f6){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x9d')+_0x45b193+'\x20'+_0x11d2f6[a26_0x1c2b('0x9e')]);_0x22a0da(_0x11d2f6,null,null,null);});}[a26_0x1c2b('0x9f')](_0x2e9c56,_0x59311f,_0x20005d,_0x2d7313){console[a26_0x1c2b('0x43')](a26_0x1c2b('0x9f'));console[a26_0x1c2b('0x43')](_0x2e9c56);console[a26_0x1c2b('0x43')](_0x59311f);console['log'](_0x20005d);console[a26_0x1c2b('0x43')](_0x2d7313);if(_0x20005d=='image'){const _0x52bd62=this[a26_0x1c2b('0x1f')][this[a26_0x1c2b('0x5b')]]['duration']!=null?this[a26_0x1c2b('0x1f')][this[a26_0x1c2b('0x5b')]]['duration']:0x1e;this[a26_0x1c2b('0xa0')](_0x2d7313,_0x52bd62);}else if(_0x20005d==a26_0x1c2b('0xa1')){if(_0x2e9c56==null&&_0x59311f!=''){this[a26_0x1c2b('0x5b')]++;}this[a26_0x1c2b('0x56')]();}console[a26_0x1c2b('0x43')](this[a26_0x1c2b('0x5b')]);}['downloadRequestFile'](_0x2240fd,_0x4b1323,_0x5d0df8){progress(request(_0x2240fd),{})['on'](a26_0x1c2b('0xa2'),function(_0x3d3443){console[a26_0x1c2b('0x43')](_0x3d3443);})['on'](a26_0x1c2b('0x94'),function(_0x38a4c8){console['log'](a26_0x1c2b('0xa3'));this[a26_0x1c2b('0x56')]();})['on'](a26_0x1c2b('0x78'),function(){console['log'](a26_0x1c2b('0x79')+_0x4b1323);console[a26_0x1c2b('0x43')](a26_0x1c2b('0xa4')+_0x5d0df8);if(_0x5d0df8==a26_0x1c2b('0xa5')){const _0x9d65d=this['downloadFiles'][this['currentFile']][a26_0x1c2b('0xa6')]!=null?this['downloadFiles'][this[a26_0x1c2b('0x5b')]][a26_0x1c2b('0xa6')]:0x1e;this[a26_0x1c2b('0xa0')](_0x4b1323,_0x9d65d);}else if(_0x5d0df8==a26_0x1c2b('0xa1')){this[a26_0x1c2b('0x5b')]++;this[a26_0x1c2b('0x56')]();}}[a26_0x1c2b('0x3b')](this))['pipe'](fs[a26_0x1c2b('0x91')](this[a26_0x1c2b('0x17')]+_0x4b1323));}['createImageVideo'](_0xeb8868,_0x5db3d5=0x1e){const _0x4be870=this[a26_0x1c2b('0x17')]+_0xeb8868;console[a26_0x1c2b('0x43')](_0x4be870);console['log'](_0xeb8868);const _0x1807f3=_0xeb8868[a26_0x1c2b('0x61')]('.')[a26_0x1c2b('0x62')](0x0,-0x1)[a26_0x1c2b('0x63')]('.');const _0x381ed0='ffmpeg';const _0x5a423f=['-y','-r',a26_0x1c2b('0xa7'),a26_0x1c2b('0xa8'),'1',a26_0x1c2b('0xa9'),a26_0x1c2b('0xaa'),'-i',_0x4be870,'-t',String(_0x5db3d5),a26_0x1c2b('0xab'),a26_0x1c2b('0xac'),a26_0x1c2b('0xad'),a26_0x1c2b('0xae'),'-r','25',a26_0x1c2b('0xaf'),a26_0x1c2b('0xb0'),this['tempFolder']+_0x1807f3+'.mp4'];const _0x527d4d=spawn(_0x381ed0,_0x5a423f);_0x527d4d[a26_0x1c2b('0xb1')]['on'](a26_0x1c2b('0x93'),function(_0x41d317){console['log']('Converting\x20'+_0x4be870);});_0x527d4d[a26_0x1c2b('0xb2')]['on'](a26_0x1c2b('0x93'),function(_0x586213){console[a26_0x1c2b('0x43')](a26_0x1c2b('0xb3')+_0x586213);}[a26_0x1c2b('0x3b')](this));_0x527d4d['on'](a26_0x1c2b('0xb4'),function(){console[a26_0x1c2b('0x43')]('finished\x20mp4\x20convert');this[a26_0x1c2b('0x5b')]++;this['download']();}[a26_0x1c2b('0x3b')](this));}['downloadYouTube'](_0x15c976){const _0x3afa93=this[a26_0x1c2b('0x17')]+'/'+_0x15c976+a26_0x1c2b('0x64');const _0x25abe4=a26_0x1c2b('0xb5')+_0x15c976;console['log']('youtubeURL:\x20'+_0x25abe4);console[a26_0x1c2b('0x43')](a26_0x1c2b('0xb6')+_0x3afa93);const _0x233a73=youtubedl(_0x25abe4,[a26_0x1c2b('0xb7'),a26_0x1c2b('0xb8')],{'cwd':__dirname});_0x233a73['on'](a26_0x1c2b('0xb9'),function(_0x4a76ac){console['log']('Download\x20started');console[a26_0x1c2b('0x43')]('filename:\x20'+_0x4a76ac[a26_0x1c2b('0xba')]);console['log'](a26_0x1c2b('0xbb')+_0x4a76ac[a26_0x1c2b('0x8f')]);});_0x233a73['on'](a26_0x1c2b('0xbc'),function complete(_0x2f4ad6){'use strict';console[a26_0x1c2b('0x43')](a26_0x1c2b('0xbd')+_0x2f4ad6[a26_0x1c2b('0xba')]+a26_0x1c2b('0xbe'));});_0x233a73['on'](a26_0x1c2b('0x78'),function(){console[a26_0x1c2b('0x43')]('finished\x20youtube\x20downloading!');this[a26_0x1c2b('0x66')](_0x3afa93)['then'](function(_0x41677e){if(_0x41677e){this['currentFile']++;}this['download']();}[a26_0x1c2b('0x3b')](this));}[a26_0x1c2b('0x3b')](this));_0x233a73[a26_0x1c2b('0x92')](fs[a26_0x1c2b('0x91')](_0x3afa93));}[a26_0x1c2b('0x5d')](){console[a26_0x1c2b('0x43')](a26_0x1c2b('0xbf'));if(this[a26_0x1c2b('0x50')]){if(this[a26_0x1c2b('0x6f')][a26_0x1c2b('0x55')]==0x0){console[a26_0x1c2b('0x43')](a26_0x1c2b('0xc0')+this[a26_0x1c2b('0x1b')]);fs[a26_0x1c2b('0x46')](this[a26_0x1c2b('0x1b')],JSON[a26_0x1c2b('0x3e')](this[a26_0x1c2b('0x20')]));let _0x4ee55b='#EXTCPlayListM3U::M3U'+'\x0d\x0a'+a26_0x1c2b('0xc1')+'\x0d\x0a';for(const _0x3af8e0 in this[a26_0x1c2b('0x1f')]){const _0x5d9760=this[a26_0x1c2b('0x1f')][_0x3af8e0]['path'];const _0x41362b=this[a26_0x1c2b('0x1f')][_0x3af8e0]['media_type'];const _0x16b2fa=_0x5d9760[a26_0x1c2b('0x5f')](_0x5d9760[a26_0x1c2b('0x60')]('/')+0x1);let _0x49a8b4=_0x16b2fa[a26_0x1c2b('0x61')]('.')['slice'](0x0,-0x1)[a26_0x1c2b('0x63')]('.');if(_0x41362b==a26_0x1c2b('0x68')){_0x49a8b4=_0x5d9760;}_0x4ee55b+=a26_0x1c2b('0xc2')+_0x49a8b4+a26_0x1c2b('0x64')+'\x0d\x0a';console[a26_0x1c2b('0x43')](a26_0x1c2b('0xc3')+_0x4ee55b);}console[a26_0x1c2b('0x43')](a26_0x1c2b('0xc3')+_0x4ee55b);fsExtra[a26_0x1c2b('0x52')](this['filesFolder']);console[a26_0x1c2b('0x43')](a26_0x1c2b('0xc4')+this['tempFolder']);fsExtra[a26_0x1c2b('0xc5')](this[a26_0x1c2b('0x17')],this[a26_0x1c2b('0x19')]);console[a26_0x1c2b('0x43')](a26_0x1c2b('0xc6')+this['m3uFile']);fsExtra[a26_0x1c2b('0x46')](this[a26_0x1c2b('0x1d')],_0x4ee55b);console['log'](a26_0x1c2b('0xc7')+this[a26_0x1c2b('0x17')]);fsExtra[a26_0x1c2b('0x52')](this['tempFolder']);console['log']('Rebooting..');this[a26_0x1c2b('0xc8')]();}else{console['log']('Playlist\x20incomplete,\x20retry.');this[a26_0x1c2b('0x5b')]=0x0;setTimeout(function(){this[a26_0x1c2b('0x56')]();}['bind'](this),0x1388);}}else{console['log'](a26_0x1c2b('0xc9'));}}[a26_0x1c2b('0xca')](){this[a26_0x1c2b('0xcb')](a26_0x1c2b('0xcc'),{'playlistid':0x1},function(_0x53d751){console['log'](a26_0x1c2b('0xcd'));console[a26_0x1c2b('0x43')](_0x53d751);this[a26_0x1c2b('0xcb')]('Playlist.Add',{'item':{'file':a26_0x1c2b('0xce')},'playlistid':0x1},function(_0x53d751){console[a26_0x1c2b('0x43')](a26_0x1c2b('0xcf'));console[a26_0x1c2b('0x43')](_0x53d751);this['jsonrpcClient'](a26_0x1c2b('0xd0'),{'item':{'playlistid':0x1,'position':0x0}},function(_0x53d751){console[a26_0x1c2b('0x43')]('Playlist.Opened');console[a26_0x1c2b('0x43')](_0x53d751);this[a26_0x1c2b('0xd1')](a26_0x1c2b('0xd2'));}['bind'](this));}[a26_0x1c2b('0x3b')](this));}[a26_0x1c2b('0x3b')](this));}[a26_0x1c2b('0xc8')](){console[a26_0x1c2b('0x43')](a26_0x1c2b('0xd3'));exec('sudo\x20/sbin/reboot\x20-f',function(_0x2041c7){console[a26_0x1c2b('0x43')](_0x2041c7);});}[a26_0x1c2b('0xd4')](){const _0x5dfa23=format(this[a26_0x1c2b('0x31')],this[a26_0x1c2b('0x2c')]);console[a26_0x1c2b('0x43')](_0x5dfa23);request({'url':_0x5dfa23,'json':!![]},function(_0x233415,_0x1d4673,_0x56fb37){if(_0x56fb37[a26_0x1c2b('0x55')]>0x0){const _0x319dce=_0x56fb37[0x0];const _0x579990=_0x319dce[a26_0x1c2b('0xd5')];const _0x3920fb=_0x319dce[a26_0x1c2b('0xd6')]==0x1;this[a26_0x1c2b('0xd7')](_0x579990);this['enableClock'](_0x3920fb);this[a26_0x1c2b('0x37')]();}console[a26_0x1c2b('0x43')](_0x56fb37);}['bind'](this));}[a26_0x1c2b('0xd8')](){this[a26_0x1c2b('0xd1')](a26_0x1c2b('0xd9'));}[a26_0x1c2b('0xda')](){this[a26_0x1c2b('0xd1')](a26_0x1c2b('0xdb'));}['setRss'](_0x58e03e){const _0x5ece9e=_0x58e03e!=null&&_0x58e03e!='';const _0x20bd62=a26_0x1c2b('0xdc');if(fsExtra['existsSync'](_0x20bd62)){const _0x4372dc=fsExtra[a26_0x1c2b('0x2a')](_0x20bd62);console[a26_0x1c2b('0x43')](a26_0x1c2b('0xdd')+_0x4372dc);const _0x7a72b9=require(a26_0x1c2b('0xde'));const _0x18159f=_0x7a72b9[a26_0x1c2b('0xdf')];_0x18159f(_0x4372dc,function(_0x42b27b,_0x226d65){console[a26_0x1c2b('0x43')](a26_0x1c2b('0xe0'),_0x42b27b);console['log']('result:\x20%j',_0x226d65);if(!_0x58e03e||_0x58e03e==null||_0x58e03e==''){_0x58e03e=a26_0x1c2b('0xe1');}_0x226d65[a26_0x1c2b('0xe2')]['set'][0x0][a26_0x1c2b('0xe3')][0x0]['_']=_0x58e03e;const _0x4b5afa=new _0x7a72b9[(a26_0x1c2b('0xe4'))]();const _0x447ec7=_0x4b5afa[a26_0x1c2b('0xe5')](_0x226d65);console[a26_0x1c2b('0x43')](a26_0x1c2b('0xe6'),_0x447ec7);fsExtra['writeFileSync'](_0x20bd62,_0x447ec7);});this[a26_0x1c2b('0xd1')](a26_0x1c2b('0xe7'));this[a26_0x1c2b('0xcb')](a26_0x1c2b('0xe8'),{'setting':'lookandfeel.enablerssfeeds','value':_0x5ece9e},function(_0x15f29d){console['log'](a26_0x1c2b('0xe9'));console[a26_0x1c2b('0x43')](_0x15f29d);}[a26_0x1c2b('0x3b')](this));}}[a26_0x1c2b('0xea')](_0x4f7638){this[a26_0x1c2b('0xcb')]('Settings.SetSettingValue',{'setting':'videoplayer.usedisplayasclock','value':_0x4f7638},function(_0x451ec8){console[a26_0x1c2b('0x43')](a26_0x1c2b('0xeb'));console[a26_0x1c2b('0x43')](_0x451ec8);}[a26_0x1c2b('0x3b')](this));}['kodiCommandClient'](_0x1c399c){exec(a26_0x1c2b('0xec')+_0x1c399c+'\x22',function(_0x2854a2){console[a26_0x1c2b('0x43')](_0x2854a2);});}[a26_0x1c2b('0xcb')](_0x5593f4,_0x3452db,_0x168ea0){const _0x3cc03b={'jsonrpc':a26_0x1c2b('0xed'),'method':_0x5593f4,'params':_0x3452db,'id':0x1};const _0x4054e6={'user':this['kodiUser'],'pass':this[a26_0x1c2b('0x35')]};console['log'](a26_0x1c2b('0xee'),_0x3cc03b);console['log'](a26_0x1c2b('0xef'),_0x4054e6);this[a26_0x1c2b('0x25')][a26_0x1c2b('0x41')](this[a26_0x1c2b('0x34')]+a26_0x1c2b('0xf0'),_0x3cc03b,![],_0x4054e6)[a26_0x1c2b('0x4')](function(_0x386c95){_0x168ea0(_0x386c95);})[a26_0x1c2b('0x45')](function(_0x1abb0f){});}}exports['SyncPlaylistsService']=SyncPlaylistsService;
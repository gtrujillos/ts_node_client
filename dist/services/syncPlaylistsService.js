var a23_0x9250=['download','this.currentFile:\x20','\x20of\x20','finishProcess','path','media_type','substring','lastIndexOf','split','slice','join','youtube_single','.mp4','image','**********+','checkVideo','Downloading:\x20','downloader','videoFile:\x20','media','track','@type','Video','mediainfo\x20check:','includes','indexOf','start','Error:\x20','error','error:\x20','end','Downloaded:\x20','destroyed','retry','downloadHTTPFile','\x20to\x20','Max\x20redirects\x20reached','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','downloadFile\x20callback\x20result\x20undefined:\x20','maxSockets','host','get','\x20Progress:\x20','statusCode','headers','stat','Have\x20already\x20downloaded\x20','size','And\x20the\x20file\x20size\x20matches\x20(','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(',')\x20vs\x20New(','createWriteStream','pipe','data','err:\x20','finish','Downloaded\x20','location','Redirect\x20limit\x20encountered\x20for\x20','302','Problem\x20downloading\x20','abort','Error\x20Downloading:\x20','downloadHTTPFileCallback','duration','createImageVideo','video','downloadRequestFile','progress','Error\x20downloading\x20file','mediaType:\x20','ffmpeg','1/2','-loop','-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','Converting\x20','stderr','close','downloadYouTube','--format=18','info','Download\x20started','filename:\x20','_filename','\x20already\x20downloaded.','Finishing','#EXTCPlayListM3U::M3U','#EXTINF:0,luloPlayList','/home/osmc/luloclient/media/files/','copySync','Rebooting..','reboot','Playlist\x20incomplete,\x20retry.','refreshPlayer','Playlist.Cleared','jsonrpcClient','Playlist.Add','//home/osmc/luloclient/media/files/lulo_playlist.m3u','Playlist.Added','Player.Open','Playlist.Opened','RestartApp()','sudo\x20/sbin/reboot\x20-f','rss','header_active','setRss','enableClock','turnOffTV','kodiCommandClient','CECStandby()','/home/osmc/.kodi/userdata/RssFeeds.xml','xmlContent:\x20','xml2js','parseString','err:\x20%j','result:\x20%j','none','rssfeeds','set','feed','Builder','buildObject','xml:\x20%j','setRss:','videoplayer.usedisplayasclock','enableClock:\x20','kodi-send\x20--action=\x22','2.0','SyncPlaylistsService','__awaiter','next','done','value','then','defineProperty','__esModule','../infrastructure/HttpClientService','./playerService','node-mediainfo','url','http','fs-extra','request','spawn','child_process','is-image','string-template','youtube-dl','uuid/v4','config.json','mediaFolder','media/','playListFile','playlist.txt','m3uFile','filesFolder','currentFile','playlistChanged','downloadFiles','failDownloadFiles','newPlayList','http://localhost','kodiUser','lulo','.lulo123.','httpClientService','HttpClientService','init','config','parse','readFileSync','baseURL','WEB_SERVICE_URL','deploy/','playListServiceURL','playerServiceURL','api/player.php?player_id={0}','kodi','kodiHost','kodiPassword','registerClient','loadMediaList','updateSettings','getStatus','bind','checkDependencies','playlist','getItems','stringify','playerId','networkInterfaces','context','post','http://restapi.lulo.run/player_devices/register','register\x20response:\x20','log','deviceUuid','writeFileSync','player','getCurrentlyPlayingVideo','item','label','reportStatus','catch','playingItem:\x20','http://restapi.lulo.run/player_devices/report_status','checkFolders','ensureDir','tempFolder','loadMediaList:\x20','hasPlayListChanged','emptyDirSync','push','Total:\x20','length','forceReload','existsSync','removeSync'];(function(_0x80a960,_0x458a2c){var _0x4b2674=function(_0x5d0062){while(--_0x5d0062){_0x80a960['push'](_0x80a960['shift']());}};_0x4b2674(++_0x458a2c);}(a23_0x9250,0x167));var a23_0x4b8c=function(_0x1c8f4c,_0x49b3d8){_0x1c8f4c=_0x1c8f4c-0x0;var _0xfb6d81=a23_0x9250[_0x1c8f4c];return _0xfb6d81;};'use strict';var __awaiter=this&&this[a23_0x4b8c('0x0')]||function(_0x2414aa,_0x232f01,_0x184c49,_0x2d061a){function _0x417caa(_0x451289){return _0x451289 instanceof _0x184c49?_0x451289:new _0x184c49(function(_0x34cdee){_0x34cdee(_0x451289);});}return new(_0x184c49||(_0x184c49=Promise))(function(_0x43c39e,_0x4309a8){function _0x140da0(_0xda7b00){try{_0x5a3db0(_0x2d061a[a23_0x4b8c('0x1')](_0xda7b00));}catch(_0x2f2df3){_0x4309a8(_0x2f2df3);}}function _0x5a70ad(_0x27a4c5){try{_0x5a3db0(_0x2d061a['throw'](_0x27a4c5));}catch(_0x3ca4e6){_0x4309a8(_0x3ca4e6);}}function _0x5a3db0(_0xa33556){_0xa33556[a23_0x4b8c('0x2')]?_0x43c39e(_0xa33556[a23_0x4b8c('0x3')]):_0x417caa(_0xa33556['value'])[a23_0x4b8c('0x4')](_0x140da0,_0x5a70ad);}_0x5a3db0((_0x2d061a=_0x2d061a['apply'](_0x2414aa,_0x232f01||[]))[a23_0x4b8c('0x1')]());});};Object[a23_0x4b8c('0x5')](exports,a23_0x4b8c('0x6'),{'value':!![]});const HttpClientService_1=require(a23_0x4b8c('0x7'));const playerService_1=require(a23_0x4b8c('0x8'));const mediainfo=require(a23_0x4b8c('0x9'));const fs=require('fs');const url=require(a23_0x4b8c('0xa'));const http=require(a23_0x4b8c('0xb'));const fsExtra=require(a23_0x4b8c('0xc'));const request=require(a23_0x4b8c('0xd'));const progress=require('request-progress');const spawn=require('child_process')[a23_0x4b8c('0xe')];const exec=require(a23_0x4b8c('0xf'))['exec'];const isImage=require(a23_0x4b8c('0x10'));const format=require(a23_0x4b8c('0x11'));const os=require('os');const youtubedl=require(a23_0x4b8c('0x12'));const uuidv4=require(a23_0x4b8c('0x13'));const configFile=a23_0x4b8c('0x14');const contextFile='context.json';const urlExists=require('url-exists');const kodi_rpc=require('node-kodi');const Downloader=require('mt-files-downloader');class SyncPlaylistsService{constructor(){this[a23_0x4b8c('0x15')]=a23_0x4b8c('0x16');this['tempFolder']=this[a23_0x4b8c('0x15')]+'temp/';this['filesFolder']=this['mediaFolder']+'files/';this[a23_0x4b8c('0x17')]=this[a23_0x4b8c('0x15')]+a23_0x4b8c('0x18');this[a23_0x4b8c('0x19')]=this[a23_0x4b8c('0x1a')]+'lulo_playlist.m3u';this[a23_0x4b8c('0x1b')]=0x0;this[a23_0x4b8c('0x1c')]=![];this[a23_0x4b8c('0x1d')]=[];this[a23_0x4b8c('0x1e')]=[];this[a23_0x4b8c('0x1f')]={};this['kodiHost']=a23_0x4b8c('0x20');this[a23_0x4b8c('0x21')]=a23_0x4b8c('0x22');this['kodiPassword']=a23_0x4b8c('0x23');this['forceReload']=![];this[a23_0x4b8c('0x24')]=new HttpClientService_1[(a23_0x4b8c('0x25'))]();this['playerService']=new playerService_1['PlayerService']();}[a23_0x4b8c('0x26')](){this[a23_0x4b8c('0x27')]=JSON[a23_0x4b8c('0x28')](fs[a23_0x4b8c('0x29')](configFile));this['context']=JSON[a23_0x4b8c('0x28')](fs[a23_0x4b8c('0x29')](contextFile));this['playerId']=this[a23_0x4b8c('0x27')]['playerId'];this[a23_0x4b8c('0x2a')]=process['env'][a23_0x4b8c('0x2b')]+a23_0x4b8c('0x2c');this[a23_0x4b8c('0x2d')]=this[a23_0x4b8c('0x2a')]+'api/player_playlist.php?player_id={0}';this[a23_0x4b8c('0x2e')]=this[a23_0x4b8c('0x2a')]+a23_0x4b8c('0x2f');this[a23_0x4b8c('0x30')]=new kodi_rpc({'url':this[a23_0x4b8c('0x31')],'user':this[a23_0x4b8c('0x21')],'password':this[a23_0x4b8c('0x32')]});this['checkDependencies']();this[a23_0x4b8c('0x33')]();this['checkFolders']();this[a23_0x4b8c('0x34')]();this[a23_0x4b8c('0x35')]();setInterval(function(){this[a23_0x4b8c('0x36')]();}[a23_0x4b8c('0x37')](this),0x2710);setInterval(function(){this[a23_0x4b8c('0x33')]();}[a23_0x4b8c('0x37')](this),0x493e0);}[a23_0x4b8c('0x38')](){}[a23_0x4b8c('0x33')](){this[a23_0x4b8c('0x30')][a23_0x4b8c('0x39')][a23_0x4b8c('0x3a')](0x1)['then'](function(_0x3c55de){const _0x4ac555=JSON[a23_0x4b8c('0x3b')](_0x3c55de);const _0x33f1b3={'player_id':this[a23_0x4b8c('0x3c')],'device_uuid':this['config']['deviceUuid'],'network_info':JSON['stringify'](os[a23_0x4b8c('0x3d')]()),'firmware_info':JSON[a23_0x4b8c('0x3b')](this[a23_0x4b8c('0x3e')]),'playlist':_0x4ac555,'playing_item':'','status':0x0};this[a23_0x4b8c('0x24')][a23_0x4b8c('0x3f')](a23_0x4b8c('0x40'),_0x33f1b3,![])[a23_0x4b8c('0x4')](function(_0x3513cb){console['log'](a23_0x4b8c('0x41')+Date());})['catch'](function(_0x5ea68f){});console[a23_0x4b8c('0x42')](_0x33f1b3);}[a23_0x4b8c('0x37')](this));const _0x1c2ea2=this['config'][a23_0x4b8c('0x43')];if(!_0x1c2ea2||_0x1c2ea2==''){this[a23_0x4b8c('0x27')][a23_0x4b8c('0x43')]=uuidv4();this[a23_0x4b8c('0x27')]={'deviceUuid':this[a23_0x4b8c('0x27')]['deviceUuid'],'playerId':this['config'][a23_0x4b8c('0x3c')]};fs[a23_0x4b8c('0x44')](configFile,JSON[a23_0x4b8c('0x3b')](this[a23_0x4b8c('0x27')]));}}[a23_0x4b8c('0x36')](){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x36'));this[a23_0x4b8c('0x30')][a23_0x4b8c('0x45')][a23_0x4b8c('0x46')]()[a23_0x4b8c('0x4')](function(_0x2aed05){const _0x4e1de1=_0x2aed05[a23_0x4b8c('0x47')][a23_0x4b8c('0x48')];this[a23_0x4b8c('0x49')](_0x4e1de1);}[a23_0x4b8c('0x37')](this))[a23_0x4b8c('0x4a')](function(_0xd361d){console[a23_0x4b8c('0x42')](_0xd361d);this['reportStatus'](JSON[a23_0x4b8c('0x3b')](_0xd361d));}[a23_0x4b8c('0x37')](this));}[a23_0x4b8c('0x49')](_0x194785){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x4b')+_0x194785);const _0x47b9eb={'player_id':this['playerId'],'device_uuid':this[a23_0x4b8c('0x27')][a23_0x4b8c('0x43')],'status':_0x194785!=''&&_0x194785!=null?0x1:0x0,'playing_item':_0x194785};this['httpClientService'][a23_0x4b8c('0x3f')](a23_0x4b8c('0x4c'),_0x47b9eb,![])['then'](function(_0x42b5ae){console[a23_0x4b8c('0x42')]('reportStatusResponse:\x20'+JSON['stringify'](_0x42b5ae));})[a23_0x4b8c('0x4a')](function(_0x290a72){});}[a23_0x4b8c('0x4d')](){fsExtra[a23_0x4b8c('0x4e')](this[a23_0x4b8c('0x15')],_0x4c25e1=>{});fsExtra[a23_0x4b8c('0x4e')](this[a23_0x4b8c('0x4f')],_0x46b562=>{});fsExtra[a23_0x4b8c('0x4e')](this['filesFolder'],_0x3a0713=>{});}[a23_0x4b8c('0x34')](){const _0x1094ff=format(this[a23_0x4b8c('0x2d')],this[a23_0x4b8c('0x3c')]);console[a23_0x4b8c('0x42')](_0x1094ff);request({'url':_0x1094ff,'json':!![]},function(_0x48af0c,_0x4ce257,_0x48ff5f){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x50'));this[a23_0x4b8c('0x1f')]=_0x48ff5f;this[a23_0x4b8c('0x1c')]=this[a23_0x4b8c('0x51')]();fsExtra[a23_0x4b8c('0x52')](this[a23_0x4b8c('0x4f')]);this[a23_0x4b8c('0x1d')]=[];this[a23_0x4b8c('0x1e')]=[];this[a23_0x4b8c('0x1b')]=0x0;for(const _0x40e505 in _0x48ff5f){this[a23_0x4b8c('0x1d')][a23_0x4b8c('0x53')](_0x48ff5f[_0x40e505]);}console[a23_0x4b8c('0x42')](a23_0x4b8c('0x54')+this[a23_0x4b8c('0x1d')]['length']);if(this['downloadFiles'][a23_0x4b8c('0x55')]>0x0){this['download']();}}[a23_0x4b8c('0x37')](this));}['reloadMediaList'](){this[a23_0x4b8c('0x56')]=!![];if(fsExtra[a23_0x4b8c('0x57')](this['tempFolder'])){fsExtra[a23_0x4b8c('0x52')](this[a23_0x4b8c('0x4f')]);}if(fsExtra[a23_0x4b8c('0x57')](this['filesFolder'])){fsExtra[a23_0x4b8c('0x52')](this[a23_0x4b8c('0x1a')]);}if(!fsExtra[a23_0x4b8c('0x57')](this['playListFile'])){fsExtra['removeSync'](this[a23_0x4b8c('0x17')]);}if(!fsExtra[a23_0x4b8c('0x57')](this['m3uFile'])){fsExtra[a23_0x4b8c('0x58')](this[a23_0x4b8c('0x19')]);}this[a23_0x4b8c('0x34')]();}[a23_0x4b8c('0x51')](){const _0x1e9002=JSON[a23_0x4b8c('0x3b')](this[a23_0x4b8c('0x1f')]);try{if(!fsExtra['existsSync'](this[a23_0x4b8c('0x17')])){return!![];}else{const _0x51225f=fsExtra[a23_0x4b8c('0x29')](this[a23_0x4b8c('0x17')])['toString']();if(_0x51225f!=_0x1e9002){return!![];}}}catch(_0x477a57){console[a23_0x4b8c('0x42')](_0x477a57);}return![];}[a23_0x4b8c('0x59')](){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x5a')+this[a23_0x4b8c('0x1b')]+a23_0x4b8c('0x5b')+this[a23_0x4b8c('0x1d')]['length']);if(this[a23_0x4b8c('0x1b')]>=this['downloadFiles'][a23_0x4b8c('0x55')]){this[a23_0x4b8c('0x5c')]();return;}const _0x25d493=String(this[a23_0x4b8c('0x1d')][this[a23_0x4b8c('0x1b')]][a23_0x4b8c('0x5d')]);const _0x490aeb=this[a23_0x4b8c('0x1d')][this['currentFile']][a23_0x4b8c('0x5e')];let _0x57fa3e=_0x25d493[a23_0x4b8c('0x5f')](_0x25d493[a23_0x4b8c('0x60')]('/')+0x1);const _0x204414=_0x57fa3e[a23_0x4b8c('0x61')]('.')[a23_0x4b8c('0x62')](0x0,-0x1)[a23_0x4b8c('0x63')]('.');let _0x5f0ee8=this[a23_0x4b8c('0x2a')]+_0x25d493;const _0x58411a=_0x5f0ee8[a23_0x4b8c('0x61')]('.')[a23_0x4b8c('0x62')](0x0,-0x1)[a23_0x4b8c('0x63')]('.');if(_0x490aeb==a23_0x4b8c('0x64')){_0x57fa3e=_0x57fa3e+a23_0x4b8c('0x65');}else if(_0x490aeb==a23_0x4b8c('0x66')){_0x57fa3e=_0x204414+a23_0x4b8c('0x65');_0x5f0ee8=_0x58411a+a23_0x4b8c('0x65');}console[a23_0x4b8c('0x42')](a23_0x4b8c('0x67'));console[a23_0x4b8c('0x42')](_0x25d493);console[a23_0x4b8c('0x42')](_0x490aeb);console[a23_0x4b8c('0x42')](_0x57fa3e);console[a23_0x4b8c('0x42')](_0x5f0ee8);console[a23_0x4b8c('0x42')](_0x204414);console[a23_0x4b8c('0x42')](_0x58411a);console[a23_0x4b8c('0x42')](a23_0x4b8c('0x67'));if(fsExtra[a23_0x4b8c('0x57')](this[a23_0x4b8c('0x4f')]+_0x57fa3e)){this[a23_0x4b8c('0x68')](this[a23_0x4b8c('0x4f')]+_0x57fa3e)[a23_0x4b8c('0x4')](function(_0x23db1b){if(_0x23db1b){this[a23_0x4b8c('0x1b')]++;}else{this[a23_0x4b8c('0x1c')]=!![];}this[a23_0x4b8c('0x59')]();}['bind'](this));}else if(fsExtra['existsSync'](this[a23_0x4b8c('0x1a')]+_0x57fa3e)){this['checkVideo'](this[a23_0x4b8c('0x1a')]+_0x57fa3e)[a23_0x4b8c('0x4')](function(_0x16488f){if(_0x16488f){fsExtra['copySync'](this[a23_0x4b8c('0x1a')]+_0x57fa3e,this[a23_0x4b8c('0x4f')]+_0x57fa3e);this['currentFile']++;}else{this[a23_0x4b8c('0x1c')]=!![];}this[a23_0x4b8c('0x59')]();}[a23_0x4b8c('0x37')](this));}else{console['log'](a23_0x4b8c('0x69')+_0x5f0ee8);this[a23_0x4b8c('0x1c')]=!![];if(_0x490aeb==a23_0x4b8c('0x64')){this['downloadYouTube'](_0x25d493);}else{this[a23_0x4b8c('0x6a')](_0x5f0ee8,_0x57fa3e,_0x490aeb);}}}['checkVideo'](_0x25edb7){return __awaiter(this,void 0x0,void 0x0,function*(){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x6b')+_0x25edb7);const _0x57ead6=yield mediainfo(_0x25edb7)[a23_0x4b8c('0x4a')](_0x130cc7=>{console[a23_0x4b8c('0x42')](_0x130cc7);fsExtra[a23_0x4b8c('0x58')](_0x25edb7);return![];});const _0x4cae0d=_0x57ead6[a23_0x4b8c('0x6c')][a23_0x4b8c('0x6d')]['length']>0x1&&_0x57ead6[a23_0x4b8c('0x6c')][a23_0x4b8c('0x6d')][0x1][a23_0x4b8c('0x6e')]==a23_0x4b8c('0x6f');if(!_0x4cae0d){fsExtra[a23_0x4b8c('0x58')](_0x25edb7);}console[a23_0x4b8c('0x42')](a23_0x4b8c('0x70')+_0x4cae0d);return _0x4cae0d;});}[a23_0x4b8c('0x6a')](_0x5c5167,_0x2cc14d,_0x3152d5){const _0x567720=new Downloader();console[a23_0x4b8c('0x42')](_0x5c5167);console['log'](_0x2cc14d);console[a23_0x4b8c('0x42')](_0x3152d5);const _0x5610c2=_0x567720[a23_0x4b8c('0x59')](_0x5c5167,this[a23_0x4b8c('0x4f')]+_0x2cc14d);urlExists(_0x5c5167,function(_0x236c99,_0x29f207){if(_0x29f207){if(this['failDownloadFiles'][a23_0x4b8c('0x71')](this['currentFile'])){const _0x1546b0=this[a23_0x4b8c('0x1e')][a23_0x4b8c('0x72')](this[a23_0x4b8c('0x1b')]);if(_0x1546b0>-0x1){this[a23_0x4b8c('0x1e')]['splice'](_0x1546b0,0x1);}}console[a23_0x4b8c('0x42')]('downloading:\x20'+_0x5c5167);_0x5610c2[a23_0x4b8c('0x73')]();}else{if(!this[a23_0x4b8c('0x1e')][a23_0x4b8c('0x71')](this[a23_0x4b8c('0x1b')])){this['failDownloadFiles'][a23_0x4b8c('0x53')](this[a23_0x4b8c('0x1b')]);}console[a23_0x4b8c('0x42')](a23_0x4b8c('0x74')+_0x5c5167);this[a23_0x4b8c('0x1b')]++;this['download']();}}[a23_0x4b8c('0x37')](this));_0x5610c2['on'](a23_0x4b8c('0x73'),function(_0x5610c2){console[a23_0x4b8c('0x42')]('start:\x20'+_0x5c5167);});_0x5610c2['on'](a23_0x4b8c('0x75'),function(_0x5610c2){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x76'));this[a23_0x4b8c('0x59')]();}[a23_0x4b8c('0x37')](this));_0x5610c2['on'](a23_0x4b8c('0x77'),function(_0x5610c2){console['log'](a23_0x4b8c('0x77'));console['log'](a23_0x4b8c('0x78')+_0x2cc14d);console['log']('mediaType:\x20'+_0x3152d5);this['checkVideo'](this[a23_0x4b8c('0x4f')]+_0x2cc14d)[a23_0x4b8c('0x4')](function(_0x38f5f4){if(_0x38f5f4){this[a23_0x4b8c('0x1b')]++;}this[a23_0x4b8c('0x59')]();}[a23_0x4b8c('0x37')](this));}['bind'](this));_0x5610c2['on']('stopped',function(_0x5610c2){console[a23_0x4b8c('0x42')]('stopped');});_0x5610c2['on']('destroyed',function(_0x5610c2){console['log'](a23_0x4b8c('0x79'));});_0x5610c2['on'](a23_0x4b8c('0x7a'),function(_0x5610c2){console[a23_0x4b8c('0x42')]('retry');});}[a23_0x4b8c('0x7b')](_0x47dd08,_0x5f16ed,_0x385aea,_0x35fd98){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x7b'));console[a23_0x4b8c('0x42')](_0x47dd08);const _0x3f815b=!![];let _0x1902e6=0x0;const _0x5ddb34='';console['log']('Attempting\x20to\x20download\x20'+_0x47dd08+a23_0x4b8c('0x7c')+_0x5f16ed);if(_0x1902e6){if(_0x1902e6>0x5){_0x35fd98(a23_0x4b8c('0x7d'),_0x47dd08,_0x385aea,null);return;}}else{_0x1902e6=0x0;}const _0x585403=this['tempFolder']+_0x5f16ed;let _0x4a88fa;if(_0x35fd98===undefined){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x7e')+_0x47dd08+a23_0x4b8c('0x7c')+_0x585403);_0x35fd98=function(_0x23fac9,_0xb4a17d){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x7f'),_0x23fac9,_0xb4a17d);};}http['globalAgent'][a23_0x4b8c('0x80')]=0x64;const _0x21892c={'host':url[a23_0x4b8c('0x28')](_0x47dd08)[a23_0x4b8c('0x81')],'port':0x50,'path':url['parse'](_0x47dd08)['pathname'],'agent':![]};const _0x431e14=http[a23_0x4b8c('0x82')](_0x21892c,function(_0x45da1a){let _0x40d528=0x0;let _0x10b047=0x0;function _0x33fa45(){if(_0x40d528===undefined){console[a23_0x4b8c('0x42')](_0x5f16ed+'\x20Progress:\x20unknown\x09'+_0x10b047+'/'+'?');}const _0x432f34=_0x10b047/_0x40d528*0x64;console[a23_0x4b8c('0x42')](_0x5f16ed+a23_0x4b8c('0x83')+_0x432f34+'%\x09'+_0x10b047+'/'+_0x40d528);}console[a23_0x4b8c('0x42')](_0x5f16ed+'\x20'+_0x45da1a[a23_0x4b8c('0x84')]);switch(_0x45da1a[a23_0x4b8c('0x84')]){case 0xc8:_0x40d528=_0x45da1a[a23_0x4b8c('0x85')]['content-length']||_0x5ddb34;fs[a23_0x4b8c('0x86')](_0x585403,function(_0x16e8cb,_0x438edb){if(!_0x16e8cb){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x87')+_0x585403);if(_0x438edb[a23_0x4b8c('0x88')]==_0x40d528){console['log'](a23_0x4b8c('0x89')+_0x40d528+')');console['log']('Redownloading');}else{console[a23_0x4b8c('0x42')](a23_0x4b8c('0x8a')+_0x438edb['size']+a23_0x4b8c('0x8b')+_0x40d528+')');}}_0x4a88fa=fs[a23_0x4b8c('0x8c')](_0x585403);_0x45da1a[a23_0x4b8c('0x8d')](_0x4a88fa);_0x45da1a['on'](a23_0x4b8c('0x8e'),function(_0x20f622){_0x10b047+=_0x20f622[a23_0x4b8c('0x55')];_0x33fa45();});_0x431e14['on'](a23_0x4b8c('0x75'),function(_0x16e8cb){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x8f'));console[a23_0x4b8c('0x42')](_0x16e8cb);});_0x4a88fa['on'](a23_0x4b8c('0x90'),function(){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x91')+_0x47dd08+a23_0x4b8c('0x7c')+_0x5f16ed);_0x35fd98(null,_0x5f16ed,_0x385aea,_0x5f16ed);}[a23_0x4b8c('0x37')](this));});break;case 0x12e:const _0x2ca818=_0x45da1a[a23_0x4b8c('0x85')][a23_0x4b8c('0x92')];console[a23_0x4b8c('0x42')]('Redirect\x20'+_0x47dd08+a23_0x4b8c('0x7c')+_0x2ca818);if(_0x1902e6<0x5){this[a23_0x4b8c('0x7b')](_0x2ca818,_0x5f16ed,_0x35fd98,_0x1902e6++);}else{console['error'](a23_0x4b8c('0x93')+_0x47dd08+'.');_0x35fd98(a23_0x4b8c('0x94'),null,null,null);}return;case 0x194:console[a23_0x4b8c('0x42')]('File\x20Not\x20Found\x20'+_0x47dd08);default:console[a23_0x4b8c('0x42')](a23_0x4b8c('0x95')+_0x47dd08+'\x20STATUS:\x20'+_0x45da1a[a23_0x4b8c('0x84')]);_0x431e14[a23_0x4b8c('0x96')]();_0x35fd98(_0x45da1a[a23_0x4b8c('0x84')],null,null,null);return;}})['on'](a23_0x4b8c('0x75'),function(_0xb63e3){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x97')+_0x47dd08+'\x20'+_0xb63e3['message']);_0x35fd98(_0xb63e3,null,null,null);});}[a23_0x4b8c('0x98')](_0x32dc7b,_0x3647e7,_0x4a8a15,_0x258d78){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x98'));console[a23_0x4b8c('0x42')](_0x32dc7b);console[a23_0x4b8c('0x42')](_0x3647e7);console['log'](_0x4a8a15);console[a23_0x4b8c('0x42')](_0x258d78);if(_0x4a8a15==a23_0x4b8c('0x66')){const _0xd0e844=this['downloadFiles'][this[a23_0x4b8c('0x1b')]][a23_0x4b8c('0x99')]!=null?this[a23_0x4b8c('0x1d')][this[a23_0x4b8c('0x1b')]][a23_0x4b8c('0x99')]:0x1e;this[a23_0x4b8c('0x9a')](_0x258d78,_0xd0e844);}else if(_0x4a8a15==a23_0x4b8c('0x9b')){if(_0x32dc7b==null&&_0x3647e7!=''){this[a23_0x4b8c('0x1b')]++;}this['download']();}console['log'](this[a23_0x4b8c('0x1b')]);}[a23_0x4b8c('0x9c')](_0x31cce2,_0x1ffde2,_0x5d8cfb){progress(request(_0x31cce2),{})['on'](a23_0x4b8c('0x9d'),function(_0x451824){console[a23_0x4b8c('0x42')](_0x451824);})['on'](a23_0x4b8c('0x75'),function(_0x546111){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x9e'));this['download']();})['on'](a23_0x4b8c('0x77'),function(){console[a23_0x4b8c('0x42')](a23_0x4b8c('0x78')+_0x1ffde2);console[a23_0x4b8c('0x42')](a23_0x4b8c('0x9f')+_0x5d8cfb);if(_0x5d8cfb=='image'){const _0x5823ad=this[a23_0x4b8c('0x1d')][this[a23_0x4b8c('0x1b')]][a23_0x4b8c('0x99')]!=null?this[a23_0x4b8c('0x1d')][this[a23_0x4b8c('0x1b')]][a23_0x4b8c('0x99')]:0x1e;this['createImageVideo'](_0x1ffde2,_0x5823ad);}else if(_0x5d8cfb==a23_0x4b8c('0x9b')){this[a23_0x4b8c('0x1b')]++;this[a23_0x4b8c('0x59')]();}}[a23_0x4b8c('0x37')](this))[a23_0x4b8c('0x8d')](fs['createWriteStream'](this['tempFolder']+_0x1ffde2));}[a23_0x4b8c('0x9a')](_0x596147,_0x4b5779=0x1e){const _0x54e516=this[a23_0x4b8c('0x4f')]+_0x596147;console[a23_0x4b8c('0x42')](_0x54e516);console[a23_0x4b8c('0x42')](_0x596147);const _0x315dc6=_0x596147['split']('.')[a23_0x4b8c('0x62')](0x0,-0x1)['join']('.');const _0x2ce812=a23_0x4b8c('0xa0');const _0x871e98=['-y','-r',a23_0x4b8c('0xa1'),a23_0x4b8c('0xa2'),'1','-pattern_type','glob','-i',_0x54e516,'-t',String(_0x4b5779),a23_0x4b8c('0xa3'),a23_0x4b8c('0xa4'),a23_0x4b8c('0xa5'),a23_0x4b8c('0xa6'),'-r','25',a23_0x4b8c('0xa7'),a23_0x4b8c('0xa8'),this[a23_0x4b8c('0x4f')]+_0x315dc6+a23_0x4b8c('0x65')];const _0x9ce953=spawn(_0x2ce812,_0x871e98);_0x9ce953[a23_0x4b8c('0xa9')]['on'](a23_0x4b8c('0x8e'),function(_0x273e3a){console['log'](a23_0x4b8c('0xaa')+_0x54e516);});_0x9ce953[a23_0x4b8c('0xab')]['on'](a23_0x4b8c('0x8e'),function(_0x3ec8e5){console['log']('stderr:\x20'+_0x3ec8e5);}[a23_0x4b8c('0x37')](this));_0x9ce953['on'](a23_0x4b8c('0xac'),function(){console[a23_0x4b8c('0x42')]('finished\x20mp4\x20convert');this[a23_0x4b8c('0x1b')]++;this[a23_0x4b8c('0x59')]();}[a23_0x4b8c('0x37')](this));}[a23_0x4b8c('0xad')](_0x63658){const _0x29b7f5=this[a23_0x4b8c('0x4f')]+'/'+_0x63658+a23_0x4b8c('0x65');const _0x2cc4bd=youtubedl('http://www.youtube.com/watch?v='+_0x63658,[a23_0x4b8c('0xae')],{'cwd':__dirname});_0x2cc4bd['on'](a23_0x4b8c('0xaf'),function(_0x519e56){console[a23_0x4b8c('0x42')](a23_0x4b8c('0xb0'));console[a23_0x4b8c('0x42')](a23_0x4b8c('0xb1')+_0x519e56[a23_0x4b8c('0xb2')]);console[a23_0x4b8c('0x42')]('size:\x20'+_0x519e56['size']);});_0x2cc4bd['on']('complete',function complete(_0x44ecce){'use strict';console[a23_0x4b8c('0x42')](a23_0x4b8c('0xb1')+_0x44ecce[a23_0x4b8c('0xb2')]+a23_0x4b8c('0xb3'));});_0x2cc4bd['on']('end',function(){console[a23_0x4b8c('0x42')]('finished\x20youtube\x20downloading!');this['checkVideo'](_0x29b7f5)[a23_0x4b8c('0x4')](function(_0x4dcdca){if(_0x4dcdca){this[a23_0x4b8c('0x1b')]++;}this['download']();}[a23_0x4b8c('0x37')](this));}[a23_0x4b8c('0x37')](this));_0x2cc4bd[a23_0x4b8c('0x8d')](fs['createWriteStream'](_0x29b7f5));}['finishProcess'](){console[a23_0x4b8c('0x42')](a23_0x4b8c('0xb4'));if(this[a23_0x4b8c('0x1c')]){if(this[a23_0x4b8c('0x1e')]['length']==0x0){fs[a23_0x4b8c('0x44')](this[a23_0x4b8c('0x17')],JSON[a23_0x4b8c('0x3b')](this[a23_0x4b8c('0x1f')]));let _0x42df22=a23_0x4b8c('0xb5')+'\x0d\x0a'+a23_0x4b8c('0xb6')+'\x0d\x0a';for(const _0xc833af in this['downloadFiles']){const _0x4f1f0d=this['downloadFiles'][_0xc833af][a23_0x4b8c('0x5d')];const _0x15bd04=this[a23_0x4b8c('0x1d')][_0xc833af][a23_0x4b8c('0x5e')];const _0x9eb5e6=_0x4f1f0d[a23_0x4b8c('0x5f')](_0x4f1f0d[a23_0x4b8c('0x60')]('/')+0x1);let _0x471141=_0x9eb5e6['split']('.')[a23_0x4b8c('0x62')](0x0,-0x1)[a23_0x4b8c('0x63')]('.');if(_0x15bd04==a23_0x4b8c('0x64')){_0x471141=_0x4f1f0d;}_0x42df22+=a23_0x4b8c('0xb7')+_0x471141+a23_0x4b8c('0x65')+'\x0d\x0a';}fsExtra[a23_0x4b8c('0x52')](this[a23_0x4b8c('0x1a')]);fsExtra[a23_0x4b8c('0xb8')](this[a23_0x4b8c('0x4f')],this['filesFolder']);fsExtra[a23_0x4b8c('0x44')](this[a23_0x4b8c('0x19')],_0x42df22);fsExtra['emptyDirSync'](this['tempFolder']);console[a23_0x4b8c('0x42')](a23_0x4b8c('0xb9'));this[a23_0x4b8c('0xba')]();}else{console[a23_0x4b8c('0x42')](a23_0x4b8c('0xbb'));this[a23_0x4b8c('0x1b')]=0x0;setTimeout(function(){this['download']();}[a23_0x4b8c('0x37')](this),0x1388);}}else{console[a23_0x4b8c('0x42')]('No\x20playlist\x20changes.');}}[a23_0x4b8c('0xbc')](){this['jsonrpcClient']('Playlist.Clear',{'playlistid':0x1},function(_0x2f1353){console['log'](a23_0x4b8c('0xbd'));console['log'](_0x2f1353);this[a23_0x4b8c('0xbe')](a23_0x4b8c('0xbf'),{'item':{'file':a23_0x4b8c('0xc0')},'playlistid':0x1},function(_0x2f1353){console[a23_0x4b8c('0x42')](a23_0x4b8c('0xc1'));console[a23_0x4b8c('0x42')](_0x2f1353);this['jsonrpcClient'](a23_0x4b8c('0xc2'),{'item':{'playlistid':0x1,'position':0x0}},function(_0x2f1353){console[a23_0x4b8c('0x42')](a23_0x4b8c('0xc3'));console[a23_0x4b8c('0x42')](_0x2f1353);this['kodiCommandClient'](a23_0x4b8c('0xc4'));}[a23_0x4b8c('0x37')](this));}[a23_0x4b8c('0x37')](this));}[a23_0x4b8c('0x37')](this));}['reboot'](){console[a23_0x4b8c('0x42')]('Rebooting');exec(a23_0x4b8c('0xc5'),function(_0x461ded){console[a23_0x4b8c('0x42')](_0x461ded);});}[a23_0x4b8c('0x35')](){const _0x16d717=format(this[a23_0x4b8c('0x2e')],this['playerId']);console[a23_0x4b8c('0x42')](_0x16d717);request({'url':_0x16d717,'json':!![]},function(_0x32a38b,_0x38d556,_0x4fdd3d){if(_0x4fdd3d[a23_0x4b8c('0x55')]>0x0){const _0x6a3e6b=_0x4fdd3d[0x0];const _0x53cae3=_0x6a3e6b[a23_0x4b8c('0xc6')];const _0xefd1dd=_0x6a3e6b[a23_0x4b8c('0xc7')]==0x1;this[a23_0x4b8c('0xc8')](_0x53cae3);this[a23_0x4b8c('0xc9')](_0xefd1dd);this[a23_0x4b8c('0x33')]();}console['log'](_0x4fdd3d);}[a23_0x4b8c('0x37')](this));}[a23_0x4b8c('0xca')](){this[a23_0x4b8c('0xcb')](a23_0x4b8c('0xcc'));}['turnOnTV'](){this['kodiCommandClient']('CECActivateSource()');}['setRss'](_0xa511e0){const _0x44c20f=_0xa511e0!=null&&_0xa511e0!='';const _0x1b716b=a23_0x4b8c('0xcd');const _0xa516d5=fsExtra[a23_0x4b8c('0x29')](_0x1b716b);console[a23_0x4b8c('0x42')](a23_0x4b8c('0xce')+_0xa516d5);const _0x47b5a5=require(a23_0x4b8c('0xcf'));const _0x23576b=_0x47b5a5[a23_0x4b8c('0xd0')];_0x23576b(_0xa516d5,function(_0x3ff6e6,_0x10cc65){console['log'](a23_0x4b8c('0xd1'),_0x3ff6e6);console[a23_0x4b8c('0x42')](a23_0x4b8c('0xd2'),_0x10cc65);if(!_0xa511e0||_0xa511e0==null||_0xa511e0==''){_0xa511e0=a23_0x4b8c('0xd3');}_0x10cc65[a23_0x4b8c('0xd4')][a23_0x4b8c('0xd5')][0x0][a23_0x4b8c('0xd6')][0x0]['_']=_0xa511e0;const _0x30eb89=new _0x47b5a5[(a23_0x4b8c('0xd7'))]();const _0x467007=_0x30eb89[a23_0x4b8c('0xd8')](_0x10cc65);console[a23_0x4b8c('0x42')](a23_0x4b8c('0xd9'),_0x467007);fsExtra[a23_0x4b8c('0x44')](_0x1b716b,_0x467007);});this['kodiCommandClient']('RefreshRSS()');this[a23_0x4b8c('0xbe')]('Settings.SetSettingValue',{'setting':'lookandfeel.enablerssfeeds','value':_0x44c20f},function(_0x202c46){console[a23_0x4b8c('0x42')](a23_0x4b8c('0xda'));console[a23_0x4b8c('0x42')](_0x202c46);}[a23_0x4b8c('0x37')](this));}[a23_0x4b8c('0xc9')](_0x487983){this[a23_0x4b8c('0xbe')]('Settings.SetSettingValue',{'setting':a23_0x4b8c('0xdb'),'value':_0x487983},function(_0x273c15){console[a23_0x4b8c('0x42')](a23_0x4b8c('0xdc'));console['log'](_0x273c15);}[a23_0x4b8c('0x37')](this));}['kodiCommandClient'](_0x339c0a){exec(a23_0x4b8c('0xdd')+_0x339c0a+'\x22',function(_0x216470){console[a23_0x4b8c('0x42')](_0x216470);});}['jsonrpcClient'](_0x3204e5,_0x379a43,_0x3c57fc){const _0x33a276={'jsonrpc':a23_0x4b8c('0xde'),'method':_0x3204e5,'params':_0x379a43,'id':0x1};this[a23_0x4b8c('0x24')][a23_0x4b8c('0x3f')](this[a23_0x4b8c('0x31')]+'/jsonrpc',_0x33a276,![],{'user':this[a23_0x4b8c('0x21')],'pass':this['kodiPassword']})[a23_0x4b8c('0x4')](function(_0x5ab58f){_0x3c57fc(_0x5ab58f);})[a23_0x4b8c('0x4a')](function(_0x12a022){});}}exports[a23_0x4b8c('0xdf')]=SyncPlaylistsService;
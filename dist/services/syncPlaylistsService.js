var a26_0x4535=['kodiUser','checkDependencies','registerClient','checkFolders','updateSettings','getStatus','bind','playlist','getItems','stringify','config','deviceUuid','httpClientService','http://restapi.lulo.run/player_devices/register','log','register\x20response:\x20','catch','writeFileSync','player','item','reportStatus','reportStatus\x20playingItem:\x20','post','http://restapi.lulo.run/player_devices/report_status','reportStatusResponse','ensureDir','tempFolder','loadMediaList','playListServiceURL','loadMediaList:\x20','hasPlayListChanged','emptyDirSync','currentFile','push','Total:\x20','length','download','existsSync','playListFile','removeSync','newPlayList','this.currentFile:\x20','finishProcess','path','media_type','split','slice','join','youtube_single','.mp4','**********+','checkVideo','copySync','downloader','videoFile:\x20','media','track','@type','Video','mediainfo\x20check:','includes','splice','start','start:\x20','error','error:\x20','end','Downloaded:\x20','destroyed','retry','downloadHTTPFile','Attempting\x20to\x20download\x20','\x20to\x20','Max\x20redirects\x20reached','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','globalAgent','pathname','get','\x20Progress:\x20unknown\x09','\x20Progress:\x20','statusCode','headers','stat','Have\x20already\x20downloaded\x20','size','Redownloading','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(',')\x20vs\x20New(','pipe','data','finish','Downloaded\x20','location','Redirect\x20','Redirect\x20limit\x20encountered\x20for\x20','302','File\x20Not\x20Found\x20','Problem\x20downloading\x20','\x20STATUS:\x20','abort','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','image','duration','createImageVideo','video','downloadRequestFile','progress','Error\x20downloading\x20file','mediaType:\x20','ffmpeg','1/2','-loop','-pattern_type','glob','-c:v','libx264','-pix_fmt','yuv420p','stdout','stderr:\x20','close','finished\x20mp4\x20convert','http://www.youtube.com/watch?v=','youtubeURL:\x20','outFileName:\x20','--format=18','--no-check-certificate','filename:\x20','_filename','complete','\x20already\x20downloaded.','finished\x20youtube\x20downloading!','this.playListFile:\x20','#EXTCPlayListM3U::M3U','#EXTINF:0,luloPlayList','lastIndexOf','/home/osmc/luloclient/media/files/','m3uContent:\x20','copySync:\x20','writeFileSync:\x20','Rebooting..','Playlist\x20incomplete,\x20retry.','No\x20playlist\x20changes.','refreshPlayer','jsonrpcClient','Playlist.Clear','Playlist.Cleared','Playlist.Add','//home/osmc/luloclient/media/files/lulo_playlist.m3u','Playlist.Added','Playlist.Opened','RestartApp()','reboot','Rebooting','sudo\x20/sbin/reboot\x20-f','rss','header_active','setRss','enableClock','turnOffTV','kodiCommandClient','CECStandby()','turnOnTV','CECActivateSource()','xmlContent:\x20','parseString','err:\x20%j','result:\x20%j','rssfeeds','feed','Builder','xml:\x20%j','RefreshRSS()','Settings.SetSettingValue','setRss:','videoplayer.usedisplayasclock','enableClock:\x20','2.0','jsonrpcClient\x20data','jsonrpcClient\x20options','SyncPlaylistsService','__awaiter','throw','done','value','then','defineProperty','__esModule','../infrastructure/HttpClientService','node-mediainfo','http','fs-extra','request','child_process','spawn','exec','is-image','string-template','youtube-dl','uuid/v4','config.json','package.json','node-kodi','mt-files-downloader','media/','mediaFolder','temp/','playlist.txt','m3uFile','filesFolder','playlistChanged','downloadFiles','failDownloadFiles','http://localhost','kodiPassword','.lulo123.','forceReload','HttpClientService','playerService','PlayerService','parse','readFileSync','context','playerId','baseURL','env','api/player_playlist.php?player_id={0}','playerServiceURL','kodi','kodiHost'];(function(_0xed2770,_0x45d885){var _0x9fc6ac=function(_0x53f025){while(--_0x53f025){_0xed2770['push'](_0xed2770['shift']());}};_0x9fc6ac(++_0x45d885);}(a26_0x4535,0xb7));var a26_0x4727=function(_0x22c891,_0x3bfb1a){_0x22c891=_0x22c891-0x0;var _0x276ca9=a26_0x4535[_0x22c891];return _0x276ca9;};'use strict';var __awaiter=this&&this[a26_0x4727('0x0')]||function(_0x530255,_0x5301f5,_0x3bd6e2,_0x322273){function _0x3424fc(_0x207974){return _0x207974 instanceof _0x3bd6e2?_0x207974:new _0x3bd6e2(function(_0x2ceae5){_0x2ceae5(_0x207974);});}return new(_0x3bd6e2||(_0x3bd6e2=Promise))(function(_0x1586e1,_0x5535f6){function _0x39f418(_0x48fad6){try{_0x4a79f0(_0x322273['next'](_0x48fad6));}catch(_0x574965){_0x5535f6(_0x574965);}}function _0x3cadcc(_0x299ae9){try{_0x4a79f0(_0x322273[a26_0x4727('0x1')](_0x299ae9));}catch(_0x4e41e5){_0x5535f6(_0x4e41e5);}}function _0x4a79f0(_0x19d756){_0x19d756[a26_0x4727('0x2')]?_0x1586e1(_0x19d756[a26_0x4727('0x3')]):_0x3424fc(_0x19d756[a26_0x4727('0x3')])[a26_0x4727('0x4')](_0x39f418,_0x3cadcc);}_0x4a79f0((_0x322273=_0x322273['apply'](_0x530255,_0x5301f5||[]))['next']());});};Object[a26_0x4727('0x5')](exports,a26_0x4727('0x6'),{'value':!![]});const HttpClientService_1=require(a26_0x4727('0x7'));const playerService_1=require('./playerService');const mediainfo=require(a26_0x4727('0x8'));const fs=require('fs');const url=require('url');const http=require(a26_0x4727('0x9'));const fsExtra=require(a26_0x4727('0xa'));const request=require(a26_0x4727('0xb'));const progress=require('request-progress');const spawn=require(a26_0x4727('0xc'))[a26_0x4727('0xd')];const exec=require('child_process')[a26_0x4727('0xe')];const isImage=require(a26_0x4727('0xf'));const format=require(a26_0x4727('0x10'));const os=require('os');const youtubedl=require(a26_0x4727('0x11'));const uuidv4=require(a26_0x4727('0x12'));const configFile=a26_0x4727('0x13');const contextFile=a26_0x4727('0x14');const urlExists=require('url-exists');const kodi_rpc=require(a26_0x4727('0x15'));const Downloader=require(a26_0x4727('0x16'));class SyncPlaylistsService{constructor(){this['mediaFolder']=a26_0x4727('0x17');this['tempFolder']=this[a26_0x4727('0x18')]+a26_0x4727('0x19');this['filesFolder']=this[a26_0x4727('0x18')]+'files/';this['playListFile']=this[a26_0x4727('0x18')]+a26_0x4727('0x1a');this[a26_0x4727('0x1b')]=this[a26_0x4727('0x1c')]+'lulo_playlist.m3u';this['currentFile']=0x0;this[a26_0x4727('0x1d')]=![];this[a26_0x4727('0x1e')]=[];this[a26_0x4727('0x1f')]=[];this['newPlayList']={};this['kodiHost']=a26_0x4727('0x20');this['kodiUser']='lulo';this[a26_0x4727('0x21')]=a26_0x4727('0x22');this[a26_0x4727('0x23')]=![];this['httpClientService']=new HttpClientService_1[(a26_0x4727('0x24'))]();this[a26_0x4727('0x25')]=new playerService_1[(a26_0x4727('0x26'))]();}['init'](){this['config']=JSON[a26_0x4727('0x27')](fs[a26_0x4727('0x28')](configFile));this[a26_0x4727('0x29')]=JSON['parse'](fs[a26_0x4727('0x28')](contextFile));this['playerId']=this['config'][a26_0x4727('0x2a')];this[a26_0x4727('0x2b')]=process[a26_0x4727('0x2c')]['WEB_SERVICE_URL']+'deploy/';this['playListServiceURL']=this[a26_0x4727('0x2b')]+a26_0x4727('0x2d');this[a26_0x4727('0x2e')]=this[a26_0x4727('0x2b')]+'api/player.php?player_id={0}';this[a26_0x4727('0x2f')]=new kodi_rpc({'url':this[a26_0x4727('0x30')],'user':this[a26_0x4727('0x31')],'password':this[a26_0x4727('0x21')]});this[a26_0x4727('0x32')]();this[a26_0x4727('0x33')]();this[a26_0x4727('0x34')]();this['loadMediaList']();this[a26_0x4727('0x35')]();setInterval(function(){this[a26_0x4727('0x36')]();}['bind'](this),0x2710);setInterval(function(){this[a26_0x4727('0x33')]();}[a26_0x4727('0x37')](this),0x493e0);}[a26_0x4727('0x32')](){}['registerClient'](){this[a26_0x4727('0x2f')][a26_0x4727('0x38')][a26_0x4727('0x39')](0x1)[a26_0x4727('0x4')](function(_0x47307a){const _0x31ec24=JSON[a26_0x4727('0x3a')](_0x47307a);const _0x262caf={'player_id':this[a26_0x4727('0x2a')],'device_uuid':this[a26_0x4727('0x3b')][a26_0x4727('0x3c')],'network_info':JSON[a26_0x4727('0x3a')](os['networkInterfaces']()),'firmware_info':JSON[a26_0x4727('0x3a')](this[a26_0x4727('0x29')]['version']),'playlist':_0x31ec24,'playing_item':'','status':0x0};this[a26_0x4727('0x3d')]['post'](a26_0x4727('0x3e'),_0x262caf,![])[a26_0x4727('0x4')](function(_0x222a58){console[a26_0x4727('0x3f')](a26_0x4727('0x40')+Date());})[a26_0x4727('0x41')](function(_0x4482a3){});console['log'](_0x262caf);}[a26_0x4727('0x37')](this));const _0x4d7d40=this[a26_0x4727('0x3b')][a26_0x4727('0x3c')];if(!_0x4d7d40||_0x4d7d40==''){this['config']['deviceUuid']=uuidv4();this[a26_0x4727('0x3b')]={'deviceUuid':this[a26_0x4727('0x3b')][a26_0x4727('0x3c')],'playerId':this[a26_0x4727('0x3b')]['playerId']};fs[a26_0x4727('0x42')](configFile,JSON[a26_0x4727('0x3a')](this[a26_0x4727('0x3b')]));}}[a26_0x4727('0x36')](){console['log']('getStatus');this['kodi'][a26_0x4727('0x43')]['getCurrentlyPlayingVideo']()[a26_0x4727('0x4')](function(_0x495485){const _0x4a40c9=_0x495485[a26_0x4727('0x44')]['label'];this[a26_0x4727('0x45')](_0x4a40c9);}[a26_0x4727('0x37')](this))[a26_0x4727('0x41')](function(_0x2826c8){console[a26_0x4727('0x3f')](_0x2826c8);this[a26_0x4727('0x45')](JSON[a26_0x4727('0x3a')](_0x2826c8));}[a26_0x4727('0x37')](this));}[a26_0x4727('0x45')](_0x512315){console[a26_0x4727('0x3f')](a26_0x4727('0x46')+_0x512315);const _0x37cf46={'player_id':this['playerId'],'device_uuid':this['config'][a26_0x4727('0x3c')],'status':_0x512315!=''&&_0x512315!=null?0x1:0x0,'playing_item':_0x512315};this[a26_0x4727('0x3d')][a26_0x4727('0x47')](a26_0x4727('0x48'),_0x37cf46,![])['then'](function(_0x109a97){console['log'](a26_0x4727('0x49'));})[a26_0x4727('0x41')](function(_0x158914){});}['checkFolders'](){fsExtra['ensureDir'](this['mediaFolder'],_0x35f75d=>{});fsExtra[a26_0x4727('0x4a')](this[a26_0x4727('0x4b')],_0x295fa1=>{});fsExtra[a26_0x4727('0x4a')](this[a26_0x4727('0x1c')],_0x367d0b=>{});}[a26_0x4727('0x4c')](){const _0x4fb6f1=format(this[a26_0x4727('0x4d')],this[a26_0x4727('0x2a')]);console[a26_0x4727('0x3f')](_0x4fb6f1);request({'url':_0x4fb6f1,'json':!![]},function(_0x4d30e3,_0x5446ec,_0x9f55d3){console[a26_0x4727('0x3f')](a26_0x4727('0x4e'));this['newPlayList']=_0x9f55d3;this[a26_0x4727('0x1d')]=this[a26_0x4727('0x4f')]();fsExtra[a26_0x4727('0x50')](this[a26_0x4727('0x4b')]);this['downloadFiles']=[];this[a26_0x4727('0x1f')]=[];this[a26_0x4727('0x51')]=0x0;for(const _0x35e3c6 in _0x9f55d3){this['downloadFiles'][a26_0x4727('0x52')](_0x9f55d3[_0x35e3c6]);}console[a26_0x4727('0x3f')](a26_0x4727('0x53')+this[a26_0x4727('0x1e')][a26_0x4727('0x54')]);if(this[a26_0x4727('0x1e')][a26_0x4727('0x54')]>0x0){this[a26_0x4727('0x55')]();}}[a26_0x4727('0x37')](this));}['reloadMediaList'](){this[a26_0x4727('0x23')]=!![];if(fsExtra['existsSync'](this[a26_0x4727('0x4b')])){fsExtra[a26_0x4727('0x50')](this[a26_0x4727('0x4b')]);}if(fsExtra[a26_0x4727('0x56')](this[a26_0x4727('0x1c')])){fsExtra[a26_0x4727('0x50')](this[a26_0x4727('0x1c')]);}if(!fsExtra[a26_0x4727('0x56')](this[a26_0x4727('0x57')])){fsExtra[a26_0x4727('0x58')](this['playListFile']);}if(!fsExtra[a26_0x4727('0x56')](this[a26_0x4727('0x1b')])){fsExtra[a26_0x4727('0x58')](this[a26_0x4727('0x1b')]);}this[a26_0x4727('0x4c')]();}[a26_0x4727('0x4f')](){const _0x5de6c1=JSON[a26_0x4727('0x3a')](this[a26_0x4727('0x59')]);try{if(!fsExtra[a26_0x4727('0x56')](this[a26_0x4727('0x57')])){return!![];}else{const _0x4451d0=fsExtra[a26_0x4727('0x28')](this['playListFile'])['toString']();if(_0x4451d0!=_0x5de6c1){return!![];}}}catch(_0x1013ad){console[a26_0x4727('0x3f')](_0x1013ad);}return![];}[a26_0x4727('0x55')](){console[a26_0x4727('0x3f')](a26_0x4727('0x5a')+this[a26_0x4727('0x51')]+'\x20of\x20'+this['downloadFiles'][a26_0x4727('0x54')]);if(this[a26_0x4727('0x51')]>=this[a26_0x4727('0x1e')][a26_0x4727('0x54')]){this[a26_0x4727('0x5b')]();return;}const _0x1b30bd=String(this[a26_0x4727('0x1e')][this[a26_0x4727('0x51')]][a26_0x4727('0x5c')]);const _0x1518fa=this[a26_0x4727('0x1e')][this[a26_0x4727('0x51')]][a26_0x4727('0x5d')];let _0x24aa1a=_0x1b30bd['substring'](_0x1b30bd['lastIndexOf']('/')+0x1);const _0x167f7e=_0x24aa1a[a26_0x4727('0x5e')]('.')[a26_0x4727('0x5f')](0x0,-0x1)[a26_0x4727('0x60')]('.');let _0x4a8ba0=this['baseURL']+_0x1b30bd;const _0x115367=_0x4a8ba0[a26_0x4727('0x5e')]('.')[a26_0x4727('0x5f')](0x0,-0x1)[a26_0x4727('0x60')]('.');if(_0x1518fa==a26_0x4727('0x61')){_0x24aa1a=_0x24aa1a+a26_0x4727('0x62');}else if(_0x1518fa=='image'){_0x24aa1a=_0x167f7e+a26_0x4727('0x62');_0x4a8ba0=_0x115367+a26_0x4727('0x62');}console[a26_0x4727('0x3f')](a26_0x4727('0x63'));console[a26_0x4727('0x3f')](_0x1b30bd);console[a26_0x4727('0x3f')](_0x1518fa);console[a26_0x4727('0x3f')](_0x24aa1a);console[a26_0x4727('0x3f')](_0x4a8ba0);console['log'](_0x167f7e);console['log'](_0x115367);console[a26_0x4727('0x3f')](a26_0x4727('0x63'));if(fsExtra[a26_0x4727('0x56')](this[a26_0x4727('0x4b')]+_0x24aa1a)){this[a26_0x4727('0x64')](this[a26_0x4727('0x4b')]+_0x24aa1a)[a26_0x4727('0x4')](function(_0x3040bb){if(_0x3040bb){this[a26_0x4727('0x51')]++;}else{this[a26_0x4727('0x1d')]=!![];}this[a26_0x4727('0x55')]();}['bind'](this));}else if(fsExtra[a26_0x4727('0x56')](this[a26_0x4727('0x1c')]+_0x24aa1a)){this[a26_0x4727('0x64')](this[a26_0x4727('0x1c')]+_0x24aa1a)[a26_0x4727('0x4')](function(_0x84602e){if(_0x84602e){fsExtra[a26_0x4727('0x65')](this[a26_0x4727('0x1c')]+_0x24aa1a,this[a26_0x4727('0x4b')]+_0x24aa1a);this['currentFile']++;}else{this[a26_0x4727('0x1d')]=!![];}this[a26_0x4727('0x55')]();}['bind'](this));}else{console[a26_0x4727('0x3f')]('Downloading:\x20'+_0x4a8ba0);this[a26_0x4727('0x1d')]=!![];if(_0x1518fa==a26_0x4727('0x61')){this['downloadYouTube'](_0x1b30bd);}else{this[a26_0x4727('0x66')](_0x4a8ba0,_0x24aa1a,_0x1518fa);}}}[a26_0x4727('0x64')](_0x1a9fbd){return __awaiter(this,void 0x0,void 0x0,function*(){console[a26_0x4727('0x3f')](a26_0x4727('0x67')+_0x1a9fbd);const _0x2e4904=yield mediainfo(_0x1a9fbd)[a26_0x4727('0x41')](_0x34bb71=>{console['log'](_0x34bb71);fsExtra[a26_0x4727('0x58')](_0x1a9fbd);return![];});const _0x5498d8=_0x2e4904[a26_0x4727('0x68')][a26_0x4727('0x69')][a26_0x4727('0x54')]>0x1&&_0x2e4904['media'][a26_0x4727('0x69')][0x1][a26_0x4727('0x6a')]==a26_0x4727('0x6b');if(!_0x5498d8){fsExtra[a26_0x4727('0x58')](_0x1a9fbd);}console[a26_0x4727('0x3f')](a26_0x4727('0x6c')+_0x5498d8);return _0x5498d8;});}[a26_0x4727('0x66')](_0x19574f,_0x1bba99,_0x5bc3fc){const _0x33ed2f=new Downloader();console['log'](_0x19574f);console[a26_0x4727('0x3f')](_0x1bba99);console[a26_0x4727('0x3f')](_0x5bc3fc);const _0x25b8a0=_0x33ed2f['download'](_0x19574f,this['tempFolder']+_0x1bba99);urlExists(_0x19574f,function(_0x10e329,_0xc023e6){if(_0xc023e6){if(this[a26_0x4727('0x1f')][a26_0x4727('0x6d')](this[a26_0x4727('0x51')])){const _0x50cc1c=this[a26_0x4727('0x1f')]['indexOf'](this[a26_0x4727('0x51')]);if(_0x50cc1c>-0x1){this[a26_0x4727('0x1f')][a26_0x4727('0x6e')](_0x50cc1c,0x1);}}console[a26_0x4727('0x3f')]('downloading:\x20'+_0x19574f);_0x25b8a0[a26_0x4727('0x6f')]();}else{if(!this[a26_0x4727('0x1f')][a26_0x4727('0x6d')](this[a26_0x4727('0x51')])){this[a26_0x4727('0x1f')][a26_0x4727('0x52')](this[a26_0x4727('0x51')]);}console[a26_0x4727('0x3f')]('Error:\x20'+_0x19574f);this[a26_0x4727('0x51')]++;this[a26_0x4727('0x55')]();}}[a26_0x4727('0x37')](this));_0x25b8a0['on'](a26_0x4727('0x6f'),function(_0x25b8a0){console[a26_0x4727('0x3f')](a26_0x4727('0x70')+_0x19574f);});_0x25b8a0['on'](a26_0x4727('0x71'),function(_0x25b8a0){console[a26_0x4727('0x3f')](a26_0x4727('0x72'));this['download']();}[a26_0x4727('0x37')](this));_0x25b8a0['on'](a26_0x4727('0x73'),function(_0x25b8a0){console[a26_0x4727('0x3f')](a26_0x4727('0x73'));console[a26_0x4727('0x3f')](a26_0x4727('0x74')+_0x1bba99);console[a26_0x4727('0x3f')]('mediaType:\x20'+_0x5bc3fc);this[a26_0x4727('0x64')](this[a26_0x4727('0x4b')]+_0x1bba99)[a26_0x4727('0x4')](function(_0x588823){if(_0x588823){this['currentFile']++;}this[a26_0x4727('0x55')]();}[a26_0x4727('0x37')](this));}[a26_0x4727('0x37')](this));_0x25b8a0['on']('stopped',function(_0x25b8a0){console[a26_0x4727('0x3f')]('stopped');});_0x25b8a0['on'](a26_0x4727('0x75'),function(_0x25b8a0){console[a26_0x4727('0x3f')](a26_0x4727('0x75'));});_0x25b8a0['on'](a26_0x4727('0x76'),function(_0x25b8a0){console['log'](a26_0x4727('0x76'));});}[a26_0x4727('0x77')](_0x5dc95e,_0x39fab3,_0x54d3e2,_0x52b9e1){console['log'](a26_0x4727('0x77'));console[a26_0x4727('0x3f')](_0x5dc95e);const _0x20d5cb=!![];let _0x27af03=0x0;const _0x5afb8c='';console[a26_0x4727('0x3f')](a26_0x4727('0x78')+_0x5dc95e+a26_0x4727('0x79')+_0x39fab3);if(_0x27af03){if(_0x27af03>0x5){_0x52b9e1(a26_0x4727('0x7a'),_0x5dc95e,_0x54d3e2,null);return;}}else{_0x27af03=0x0;}const _0x5ee2e8=this[a26_0x4727('0x4b')]+_0x39fab3;let _0x5504d4;if(_0x52b9e1===undefined){console[a26_0x4727('0x3f')](a26_0x4727('0x7b')+_0x5dc95e+a26_0x4727('0x79')+_0x5ee2e8);_0x52b9e1=function(_0x597f85,_0x2b846d){console[a26_0x4727('0x3f')]('downloadFile\x20callback\x20result\x20undefined:\x20',_0x597f85,_0x2b846d);};}http[a26_0x4727('0x7c')]['maxSockets']=0x64;const _0x2edb2d={'host':url[a26_0x4727('0x27')](_0x5dc95e)['host'],'port':0x50,'path':url[a26_0x4727('0x27')](_0x5dc95e)[a26_0x4727('0x7d')],'agent':![]};const _0x24016f=http[a26_0x4727('0x7e')](_0x2edb2d,function(_0x3d4c59){let _0x4f4b88=0x0;let _0x3a0c7f=0x0;function _0x21ecb3(){if(_0x4f4b88===undefined){console[a26_0x4727('0x3f')](_0x39fab3+a26_0x4727('0x7f')+_0x3a0c7f+'/'+'?');}const _0x2d40be=_0x3a0c7f/_0x4f4b88*0x64;console['log'](_0x39fab3+a26_0x4727('0x80')+_0x2d40be+'%\x09'+_0x3a0c7f+'/'+_0x4f4b88);}console[a26_0x4727('0x3f')](_0x39fab3+'\x20'+_0x3d4c59[a26_0x4727('0x81')]);switch(_0x3d4c59['statusCode']){case 0xc8:_0x4f4b88=_0x3d4c59[a26_0x4727('0x82')]['content-length']||_0x5afb8c;fs[a26_0x4727('0x83')](_0x5ee2e8,function(_0xdf5fdd,_0x39000b){if(!_0xdf5fdd){console['log'](a26_0x4727('0x84')+_0x5ee2e8);if(_0x39000b[a26_0x4727('0x85')]==_0x4f4b88){console[a26_0x4727('0x3f')]('And\x20the\x20file\x20size\x20matches\x20('+_0x4f4b88+')');console['log'](a26_0x4727('0x86'));}else{console[a26_0x4727('0x3f')](a26_0x4727('0x87')+_0x39000b['size']+a26_0x4727('0x88')+_0x4f4b88+')');}}_0x5504d4=fs['createWriteStream'](_0x5ee2e8);_0x3d4c59[a26_0x4727('0x89')](_0x5504d4);_0x3d4c59['on'](a26_0x4727('0x8a'),function(_0x1e8b95){_0x3a0c7f+=_0x1e8b95[a26_0x4727('0x54')];_0x21ecb3();});_0x24016f['on'](a26_0x4727('0x71'),function(_0xdf5fdd){console[a26_0x4727('0x3f')]('err:\x20');console[a26_0x4727('0x3f')](_0xdf5fdd);});_0x5504d4['on'](a26_0x4727('0x8b'),function(){console[a26_0x4727('0x3f')](a26_0x4727('0x8c')+_0x5dc95e+a26_0x4727('0x79')+_0x39fab3);_0x52b9e1(null,_0x39fab3,_0x54d3e2,_0x39fab3);}[a26_0x4727('0x37')](this));});break;case 0x12e:const _0x4b6b8c=_0x3d4c59[a26_0x4727('0x82')][a26_0x4727('0x8d')];console['log'](a26_0x4727('0x8e')+_0x5dc95e+a26_0x4727('0x79')+_0x4b6b8c);if(_0x27af03<0x5){this[a26_0x4727('0x77')](_0x4b6b8c,_0x39fab3,_0x52b9e1,_0x27af03++);}else{console[a26_0x4727('0x71')](a26_0x4727('0x8f')+_0x5dc95e+'.');_0x52b9e1(a26_0x4727('0x90'),null,null,null);}return;case 0x194:console['log'](a26_0x4727('0x91')+_0x5dc95e);default:console[a26_0x4727('0x3f')](a26_0x4727('0x92')+_0x5dc95e+a26_0x4727('0x93')+_0x3d4c59[a26_0x4727('0x81')]);_0x24016f[a26_0x4727('0x94')]();_0x52b9e1(_0x3d4c59[a26_0x4727('0x81')],null,null,null);return;}})['on']('error',function(_0x54076f){console[a26_0x4727('0x3f')](a26_0x4727('0x95')+_0x5dc95e+'\x20'+_0x54076f[a26_0x4727('0x96')]);_0x52b9e1(_0x54076f,null,null,null);});}[a26_0x4727('0x97')](_0x8225a0,_0x27d35a,_0x50c72d,_0x3a6a46){console['log']('downloadHTTPFileCallback');console[a26_0x4727('0x3f')](_0x8225a0);console[a26_0x4727('0x3f')](_0x27d35a);console[a26_0x4727('0x3f')](_0x50c72d);console[a26_0x4727('0x3f')](_0x3a6a46);if(_0x50c72d==a26_0x4727('0x98')){const _0x5dc5ea=this[a26_0x4727('0x1e')][this[a26_0x4727('0x51')]]['duration']!=null?this[a26_0x4727('0x1e')][this[a26_0x4727('0x51')]][a26_0x4727('0x99')]:0x1e;this[a26_0x4727('0x9a')](_0x3a6a46,_0x5dc5ea);}else if(_0x50c72d==a26_0x4727('0x9b')){if(_0x8225a0==null&&_0x27d35a!=''){this[a26_0x4727('0x51')]++;}this[a26_0x4727('0x55')]();}console['log'](this['currentFile']);}[a26_0x4727('0x9c')](_0x4582f5,_0x346b90,_0x6a5c7d){progress(request(_0x4582f5),{})['on'](a26_0x4727('0x9d'),function(_0x326e0f){console['log'](_0x326e0f);})['on'](a26_0x4727('0x71'),function(_0x3f94dc){console[a26_0x4727('0x3f')](a26_0x4727('0x9e'));this[a26_0x4727('0x55')]();})['on'](a26_0x4727('0x73'),function(){console[a26_0x4727('0x3f')](a26_0x4727('0x74')+_0x346b90);console[a26_0x4727('0x3f')](a26_0x4727('0x9f')+_0x6a5c7d);if(_0x6a5c7d==a26_0x4727('0x98')){const _0x24dab5=this[a26_0x4727('0x1e')][this['currentFile']][a26_0x4727('0x99')]!=null?this[a26_0x4727('0x1e')][this[a26_0x4727('0x51')]][a26_0x4727('0x99')]:0x1e;this[a26_0x4727('0x9a')](_0x346b90,_0x24dab5);}else if(_0x6a5c7d=='video'){this[a26_0x4727('0x51')]++;this[a26_0x4727('0x55')]();}}[a26_0x4727('0x37')](this))[a26_0x4727('0x89')](fs['createWriteStream'](this[a26_0x4727('0x4b')]+_0x346b90));}[a26_0x4727('0x9a')](_0x4a2f56,_0x956ff=0x1e){const _0x593fcb=this[a26_0x4727('0x4b')]+_0x4a2f56;console[a26_0x4727('0x3f')](_0x593fcb);console[a26_0x4727('0x3f')](_0x4a2f56);const _0x44ca3c=_0x4a2f56['split']('.')[a26_0x4727('0x5f')](0x0,-0x1)[a26_0x4727('0x60')]('.');const _0x41fe76=a26_0x4727('0xa0');const _0x1bc406=['-y','-r',a26_0x4727('0xa1'),a26_0x4727('0xa2'),'1',a26_0x4727('0xa3'),a26_0x4727('0xa4'),'-i',_0x593fcb,'-t',String(_0x956ff),a26_0x4727('0xa5'),a26_0x4727('0xa6'),a26_0x4727('0xa7'),a26_0x4727('0xa8'),'-r','25','-vf','scale=1920:1080',this[a26_0x4727('0x4b')]+_0x44ca3c+a26_0x4727('0x62')];const _0x962241=spawn(_0x41fe76,_0x1bc406);_0x962241[a26_0x4727('0xa9')]['on']('data',function(_0xec9a8){console[a26_0x4727('0x3f')]('Converting\x20'+_0x593fcb);});_0x962241['stderr']['on'](a26_0x4727('0x8a'),function(_0x419d79){console[a26_0x4727('0x3f')](a26_0x4727('0xaa')+_0x419d79);}['bind'](this));_0x962241['on'](a26_0x4727('0xab'),function(){console[a26_0x4727('0x3f')](a26_0x4727('0xac'));this['currentFile']++;this['download']();}['bind'](this));}['downloadYouTube'](_0x240a4f){const _0x1cd666=this['tempFolder']+'/'+_0x240a4f+a26_0x4727('0x62');const _0x401cb2=a26_0x4727('0xad')+_0x240a4f;console[a26_0x4727('0x3f')](a26_0x4727('0xae')+_0x401cb2);console[a26_0x4727('0x3f')](a26_0x4727('0xaf')+_0x1cd666);const _0x52a760=youtubedl(_0x401cb2,[a26_0x4727('0xb0'),a26_0x4727('0xb1')],{'cwd':__dirname});_0x52a760['on']('info',function(_0x18235c){console[a26_0x4727('0x3f')]('Download\x20started');console['log'](a26_0x4727('0xb2')+_0x18235c[a26_0x4727('0xb3')]);console[a26_0x4727('0x3f')]('size:\x20'+_0x18235c[a26_0x4727('0x85')]);});_0x52a760['on'](a26_0x4727('0xb4'),function complete(_0x36695f){'use strict';console['log'](a26_0x4727('0xb2')+_0x36695f[a26_0x4727('0xb3')]+a26_0x4727('0xb5'));});_0x52a760['on']('end',function(){console[a26_0x4727('0x3f')](a26_0x4727('0xb6'));this['checkVideo'](_0x1cd666)[a26_0x4727('0x4')](function(_0x4edb54){if(_0x4edb54){this['currentFile']++;}this['download']();}[a26_0x4727('0x37')](this));}[a26_0x4727('0x37')](this));_0x52a760[a26_0x4727('0x89')](fs['createWriteStream'](_0x1cd666));}[a26_0x4727('0x5b')](){console['log']('Finishing');if(this['playlistChanged']){if(this[a26_0x4727('0x1f')][a26_0x4727('0x54')]==0x0){console[a26_0x4727('0x3f')](a26_0x4727('0xb7')+this['playListFile']);fs[a26_0x4727('0x42')](this[a26_0x4727('0x57')],JSON[a26_0x4727('0x3a')](this[a26_0x4727('0x59')]));let _0x9d228c=a26_0x4727('0xb8')+'\x0d\x0a'+a26_0x4727('0xb9')+'\x0d\x0a';for(const _0x546305 in this['downloadFiles']){const _0x43d911=this[a26_0x4727('0x1e')][_0x546305][a26_0x4727('0x5c')];const _0x29a584=this[a26_0x4727('0x1e')][_0x546305][a26_0x4727('0x5d')];const _0x290098=_0x43d911['substring'](_0x43d911[a26_0x4727('0xba')]('/')+0x1);let _0x4550fe=_0x290098[a26_0x4727('0x5e')]('.')[a26_0x4727('0x5f')](0x0,-0x1)[a26_0x4727('0x60')]('.');if(_0x29a584==a26_0x4727('0x61')){_0x4550fe=_0x43d911;}_0x9d228c+=a26_0x4727('0xbb')+_0x4550fe+a26_0x4727('0x62')+'\x0d\x0a';console[a26_0x4727('0x3f')](a26_0x4727('0xbc')+_0x9d228c);}console[a26_0x4727('0x3f')]('m3uContent:\x20'+_0x9d228c);fsExtra['emptyDirSync'](this[a26_0x4727('0x1c')]);console['log'](a26_0x4727('0xbd')+this['tempFolder']);fsExtra[a26_0x4727('0x65')](this[a26_0x4727('0x4b')],this['filesFolder']);console[a26_0x4727('0x3f')](a26_0x4727('0xbe')+this[a26_0x4727('0x1b')]);fsExtra[a26_0x4727('0x42')](this[a26_0x4727('0x1b')],_0x9d228c);console[a26_0x4727('0x3f')]('emptyDirSync:\x20'+this[a26_0x4727('0x4b')]);fsExtra[a26_0x4727('0x50')](this[a26_0x4727('0x4b')]);console[a26_0x4727('0x3f')](a26_0x4727('0xbf'));this['reboot']();}else{console['log'](a26_0x4727('0xc0'));this[a26_0x4727('0x51')]=0x0;setTimeout(function(){this[a26_0x4727('0x55')]();}[a26_0x4727('0x37')](this),0x1388);}}else{console['log'](a26_0x4727('0xc1'));}}[a26_0x4727('0xc2')](){this[a26_0x4727('0xc3')](a26_0x4727('0xc4'),{'playlistid':0x1},function(_0x44488f){console['log'](a26_0x4727('0xc5'));console[a26_0x4727('0x3f')](_0x44488f);this['jsonrpcClient'](a26_0x4727('0xc6'),{'item':{'file':a26_0x4727('0xc7')},'playlistid':0x1},function(_0x44488f){console[a26_0x4727('0x3f')](a26_0x4727('0xc8'));console[a26_0x4727('0x3f')](_0x44488f);this[a26_0x4727('0xc3')]('Player.Open',{'item':{'playlistid':0x1,'position':0x0}},function(_0x44488f){console[a26_0x4727('0x3f')](a26_0x4727('0xc9'));console[a26_0x4727('0x3f')](_0x44488f);this['kodiCommandClient'](a26_0x4727('0xca'));}['bind'](this));}[a26_0x4727('0x37')](this));}[a26_0x4727('0x37')](this));}[a26_0x4727('0xcb')](){console[a26_0x4727('0x3f')](a26_0x4727('0xcc'));exec(a26_0x4727('0xcd'),function(_0x2c5da3){console['log'](_0x2c5da3);});}[a26_0x4727('0x35')](){const _0x15e62c=format(this[a26_0x4727('0x2e')],this['playerId']);console[a26_0x4727('0x3f')](_0x15e62c);request({'url':_0x15e62c,'json':!![]},function(_0x399ada,_0x14bc8e,_0x15e213){if(_0x15e213[a26_0x4727('0x54')]>0x0){const _0x4864a0=_0x15e213[0x0];const _0x25ee9f=_0x4864a0[a26_0x4727('0xce')];const _0x49bd7e=_0x4864a0[a26_0x4727('0xcf')]==0x1;this[a26_0x4727('0xd0')](_0x25ee9f);this[a26_0x4727('0xd1')](_0x49bd7e);this[a26_0x4727('0x33')]();}console['log'](_0x15e213);}[a26_0x4727('0x37')](this));}[a26_0x4727('0xd2')](){this[a26_0x4727('0xd3')](a26_0x4727('0xd4'));}[a26_0x4727('0xd5')](){this[a26_0x4727('0xd3')](a26_0x4727('0xd6'));}['setRss'](_0x40daae){const _0x4175b3=_0x40daae!=null&&_0x40daae!='';const _0x3c2771='/home/osmc/.kodi/userdata/RssFeeds.xml';if(fsExtra[a26_0x4727('0x56')](_0x3c2771)){const _0x8055ea=fsExtra['readFileSync'](_0x3c2771);console[a26_0x4727('0x3f')](a26_0x4727('0xd7')+_0x8055ea);const _0x2afed5=require('xml2js');const _0x175307=_0x2afed5[a26_0x4727('0xd8')];_0x175307(_0x8055ea,function(_0x80af66,_0x423af1){console[a26_0x4727('0x3f')](a26_0x4727('0xd9'),_0x80af66);console[a26_0x4727('0x3f')](a26_0x4727('0xda'),_0x423af1);if(!_0x40daae||_0x40daae==null||_0x40daae==''){_0x40daae='none';}_0x423af1[a26_0x4727('0xdb')]['set'][0x0][a26_0x4727('0xdc')][0x0]['_']=_0x40daae;const _0x56c8d0=new _0x2afed5[(a26_0x4727('0xdd'))]();const _0x342b9c=_0x56c8d0['buildObject'](_0x423af1);console['log'](a26_0x4727('0xde'),_0x342b9c);fsExtra[a26_0x4727('0x42')](_0x3c2771,_0x342b9c);});this[a26_0x4727('0xd3')](a26_0x4727('0xdf'));this['jsonrpcClient'](a26_0x4727('0xe0'),{'setting':'lookandfeel.enablerssfeeds','value':_0x4175b3},function(_0x150cf9){console['log'](a26_0x4727('0xe1'));console[a26_0x4727('0x3f')](_0x150cf9);}['bind'](this));}}[a26_0x4727('0xd1')](_0x1e6969){this[a26_0x4727('0xc3')](a26_0x4727('0xe0'),{'setting':a26_0x4727('0xe2'),'value':_0x1e6969},function(_0x498424){console['log'](a26_0x4727('0xe3'));console['log'](_0x498424);}[a26_0x4727('0x37')](this));}['kodiCommandClient'](_0x2666ed){exec('kodi-send\x20--action=\x22'+_0x2666ed+'\x22',function(_0x26a061){console['log'](_0x26a061);});}[a26_0x4727('0xc3')](_0x717ecb,_0x2042f0,_0x3fee1a){const _0x5b1765={'jsonrpc':a26_0x4727('0xe4'),'method':_0x717ecb,'params':_0x2042f0,'id':0x1};const _0x33bf6f={'user':this['kodiUser'],'pass':this[a26_0x4727('0x21')]};console[a26_0x4727('0x3f')](a26_0x4727('0xe5'),_0x5b1765);console[a26_0x4727('0x3f')](a26_0x4727('0xe6'),_0x33bf6f);this[a26_0x4727('0x3d')][a26_0x4727('0x47')](this[a26_0x4727('0x30')]+'/jsonrpc',_0x5b1765,![],_0x33bf6f)[a26_0x4727('0x4')](function(_0x784fa9){_0x3fee1a(_0x784fa9);})[a26_0x4727('0x41')](function(_0x4e7ac6){});}}exports[a26_0x4727('0xe7')]=SyncPlaylistsService;
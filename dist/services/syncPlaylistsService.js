var a25_0x23ad=['register\x20response:\x20','catch','deviceUuid','player','getCurrentlyPlayingVideo','item','label','reportStatus','reportStatus\x20playingItem:\x20','reportStatusResponse','ensureDir','playlistChanged','push','length','download','forceReload','existsSync','emptyDirSync','removeSync','hasPlayListChanged','toString','path','media_type','substring','lastIndexOf','slice','join','split','youtube_single','.mp4','image','**********+','checkVideo','Downloading:\x20','downloadYouTube','m3uFileUpdate','refreshPlayer','videoFile:\x20','media','track','@type','Video','downloader','includes','splice','downloading:\x20','start','start:\x20','end','Downloaded:\x20','mediaType:\x20','stopped','destroyed','retry','downloadHTTPFile','Attempting\x20to\x20download\x20','\x20to\x20','Max\x20redirects\x20reached','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','downloadFile\x20callback\x20result\x20undefined:\x20','globalAgent','maxSockets','parse','host','pathname','\x20Progress:\x20unknown\x09','\x20Progress:\x20','statusCode','headers','content-length','stat','Have\x20already\x20downloaded\x20','size','And\x20the\x20file\x20size\x20matches\x20(',')\x20vs\x20New(','pipe','data','Downloaded\x20','Redirect\x20','302','\x20STATUS:\x20','abort','error','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','duration','video','downloadRequestFile','progress','Error\x20downloading\x20file','createImageVideo','createWriteStream','ffmpeg','1/2','-loop','glob','-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','stderr','stderr:\x20','finished\x20mp4\x20convert','http://www.youtube.com/watch?v=','youtubeURL:\x20','outFileName:\x20','--no-check-certificate','info','filename:\x20','_filename','size:\x20','complete','finished\x20youtube\x20downloading!','Finishing','copySync','Refreshing..','No\x20playlist\x20changes.','DateUtils','Parse','start_date','end_date','/home/osmc/luloclient/media/files/','trim','writeFileSync','kodiCommandClient','PlayMedia(//home/osmc/luloclient/media/files/lulo_playlist.m3u)','Rebooting','sudo\x20/sbin/reboot\x20-f','rss','header_active','enableClock','turnOffTV','turnOnTV','setRss','/home/osmc/.kodi/userdata/RssFeeds.xml','xmlContent:\x20','xml2js','parseString','err:\x20%j','none','rssfeeds','set','feed','Builder','buildObject','xml:\x20%j','RefreshRSS()','Settings.SetSettingValue','lookandfeel.enablerssfeeds','setRss:','jsonrpcClient','videoplayer.usedisplayasclock','2.0','jsonrpcClient\x20data','jsonrpcClient\x20options','/jsonrpc','SyncPlaylistsService','__awaiter','throw','done','next','defineProperty','__esModule','../infrastructure/HttpClientService','./playerService','../infrastructure/utils/dateUtils','node-mediainfo','http','fs-extra','request','request-progress','child_process','spawn','string-template','youtube-dl','config.json','package.json','url-exists','node-kodi','mt-files-downloader','media/','tempFolder','mediaFolder','temp/','filesFolder','files/','playListFile','playlist.txt','m3uFile','lulo_playlist.m3u','currentFile','downloadFiles','failDownloadFiles','newPlayList','http://192.168.0.109','kodiUser','.lulo123.','httpClientService','PlayerService','init','readFileSync','context','config','playerId','baseURL','env','WEB_SERVICE_URL','deploy/','playListServiceURL','api/player_playlist.php?player_id={0}','playerServiceURL','api/player.php?player_id={0}','kodi','kodiHost','kodiPassword','checkDependencies','registerClient','checkFolders','loadMediaList','updateSettings','getStatus','bind','checkSchedule','playlist','getItems','then','stringify','networkInterfaces','version','post','log'];(function(_0x19cb12,_0x5f1e44){var _0x195304=function(_0x5f4f85){while(--_0x5f4f85){_0x19cb12['push'](_0x19cb12['shift']());}};_0x195304(++_0x5f1e44);}(a25_0x23ad,0x9f));var a25_0x43b7=function(_0x596db0,_0x51ad3d){_0x596db0=_0x596db0-0x0;var _0x5d2498=a25_0x23ad[_0x596db0];return _0x5d2498;};'use strict';var __awaiter=this&&this[a25_0x43b7('0x0')]||function(_0x2d9b9c,_0x1a597f,_0x14e60c,_0x150736){function _0x51bf8b(_0x305e19){return _0x305e19 instanceof _0x14e60c?_0x305e19:new _0x14e60c(function(_0x5375ae){_0x5375ae(_0x305e19);});}return new(_0x14e60c||(_0x14e60c=Promise))(function(_0x417323,_0x405682){function _0xa7916a(_0x1eb0cf){try{_0x1db3a7(_0x150736['next'](_0x1eb0cf));}catch(_0x533f13){_0x405682(_0x533f13);}}function _0x1776ac(_0x33f697){try{_0x1db3a7(_0x150736[a25_0x43b7('0x1')](_0x33f697));}catch(_0x4323db){_0x405682(_0x4323db);}}function _0x1db3a7(_0x402cd2){_0x402cd2[a25_0x43b7('0x2')]?_0x417323(_0x402cd2['value']):_0x51bf8b(_0x402cd2['value'])['then'](_0xa7916a,_0x1776ac);}_0x1db3a7((_0x150736=_0x150736['apply'](_0x2d9b9c,_0x1a597f||[]))[a25_0x43b7('0x3')]());});};Object[a25_0x43b7('0x4')](exports,a25_0x43b7('0x5'),{'value':!![]});const HttpClientService_1=require(a25_0x43b7('0x6'));const playerService_1=require(a25_0x43b7('0x7'));const dateUtils_1=require(a25_0x43b7('0x8'));const mediainfo=require(a25_0x43b7('0x9'));const fs=require('fs');const url=require('url');const http=require(a25_0x43b7('0xa'));const fsExtra=require(a25_0x43b7('0xb'));const request=require(a25_0x43b7('0xc'));const progress=require(a25_0x43b7('0xd'));const spawn=require(a25_0x43b7('0xe'))[a25_0x43b7('0xf')];const exec=require(a25_0x43b7('0xe'))['exec'];const isImage=require('is-image');const format=require(a25_0x43b7('0x10'));const os=require('os');const youtubedl=require(a25_0x43b7('0x11'));const uuidv4=require('uuid/v4');const configFile=a25_0x43b7('0x12');const contextFile=a25_0x43b7('0x13');const urlExists=require(a25_0x43b7('0x14'));const kodi_rpc=require(a25_0x43b7('0x15'));const Downloader=require(a25_0x43b7('0x16'));class SyncPlaylistsService{constructor(){this['mediaFolder']=a25_0x43b7('0x17');this[a25_0x43b7('0x18')]=this[a25_0x43b7('0x19')]+a25_0x43b7('0x1a');this[a25_0x43b7('0x1b')]=this['mediaFolder']+a25_0x43b7('0x1c');this[a25_0x43b7('0x1d')]=this['mediaFolder']+a25_0x43b7('0x1e');this[a25_0x43b7('0x1f')]=this[a25_0x43b7('0x1b')]+a25_0x43b7('0x20');this[a25_0x43b7('0x21')]=0x0;this['playlistChanged']=![];this[a25_0x43b7('0x22')]=[];this[a25_0x43b7('0x23')]=[];this[a25_0x43b7('0x24')]={};this['kodiHost']=a25_0x43b7('0x25');this[a25_0x43b7('0x26')]='lulo';this['kodiPassword']=a25_0x43b7('0x27');this['forceReload']=![];this[a25_0x43b7('0x28')]=new HttpClientService_1['HttpClientService']();this['playerService']=new playerService_1[(a25_0x43b7('0x29'))]();}[a25_0x43b7('0x2a')](){this['config']=JSON['parse'](fs[a25_0x43b7('0x2b')](configFile));this[a25_0x43b7('0x2c')]=JSON['parse'](fs[a25_0x43b7('0x2b')](contextFile));this['playerId']=this[a25_0x43b7('0x2d')][a25_0x43b7('0x2e')];this[a25_0x43b7('0x2f')]=process[a25_0x43b7('0x30')][a25_0x43b7('0x31')]+a25_0x43b7('0x32');this[a25_0x43b7('0x33')]=this[a25_0x43b7('0x2f')]+a25_0x43b7('0x34');this[a25_0x43b7('0x35')]=this[a25_0x43b7('0x2f')]+a25_0x43b7('0x36');this[a25_0x43b7('0x37')]=new kodi_rpc({'url':this[a25_0x43b7('0x38')],'user':this[a25_0x43b7('0x26')],'password':this[a25_0x43b7('0x39')]});this[a25_0x43b7('0x3a')]();this[a25_0x43b7('0x3b')]();this[a25_0x43b7('0x3c')]();this[a25_0x43b7('0x3d')]();this[a25_0x43b7('0x3e')]();setInterval(function(){this[a25_0x43b7('0x3f')]();}[a25_0x43b7('0x40')](this),0x2710);setInterval(function(){this[a25_0x43b7('0x3b')]();}[a25_0x43b7('0x40')](this),0x493e0);setInterval(function(){this[a25_0x43b7('0x41')]();}[a25_0x43b7('0x40')](this),0x2710);}[a25_0x43b7('0x3a')](){}[a25_0x43b7('0x3b')](){this[a25_0x43b7('0x37')][a25_0x43b7('0x42')][a25_0x43b7('0x43')](0x1)[a25_0x43b7('0x44')](function(_0x5bb966){const _0x3ceca2=JSON[a25_0x43b7('0x45')](_0x5bb966);const _0x1103b8={'player_id':this[a25_0x43b7('0x2e')],'device_uuid':this[a25_0x43b7('0x2d')]['deviceUuid'],'network_info':JSON['stringify'](os[a25_0x43b7('0x46')]()),'firmware_info':JSON[a25_0x43b7('0x45')](this[a25_0x43b7('0x2c')][a25_0x43b7('0x47')]),'playlist':_0x3ceca2,'playing_item':'','status':0x0};this[a25_0x43b7('0x28')][a25_0x43b7('0x48')]('http://restapi.lulo.run/player_devices/register',_0x1103b8,![])[a25_0x43b7('0x44')](function(_0x4b5591){console[a25_0x43b7('0x49')](a25_0x43b7('0x4a')+Date());})[a25_0x43b7('0x4b')](function(_0x2b79e8){});console['log'](_0x1103b8);}[a25_0x43b7('0x40')](this));const _0x2d2049=this[a25_0x43b7('0x2d')][a25_0x43b7('0x4c')];if(!_0x2d2049||_0x2d2049==''){this['config']['deviceUuid']=uuidv4();this[a25_0x43b7('0x2d')]={'deviceUuid':this[a25_0x43b7('0x2d')][a25_0x43b7('0x4c')],'playerId':this[a25_0x43b7('0x2d')]['playerId']};fs['writeFileSync'](configFile,JSON[a25_0x43b7('0x45')](this[a25_0x43b7('0x2d')]));}}['getStatus'](){console[a25_0x43b7('0x49')]('getStatus');this['kodi'][a25_0x43b7('0x4d')][a25_0x43b7('0x4e')]()[a25_0x43b7('0x44')](function(_0x5b6491){const _0x5c5350=_0x5b6491[a25_0x43b7('0x4f')][a25_0x43b7('0x50')];this[a25_0x43b7('0x51')](_0x5c5350);}[a25_0x43b7('0x40')](this))[a25_0x43b7('0x4b')](function(_0x2936d9){console['log'](_0x2936d9);this[a25_0x43b7('0x51')](JSON[a25_0x43b7('0x45')](_0x2936d9));}[a25_0x43b7('0x40')](this));}[a25_0x43b7('0x51')](_0x403083){console['log'](a25_0x43b7('0x52')+_0x403083);const _0x2fa35c={'player_id':this[a25_0x43b7('0x2e')],'device_uuid':this[a25_0x43b7('0x2d')][a25_0x43b7('0x4c')],'status':_0x403083!=''&&_0x403083!=null?0x1:0x0,'playing_item':_0x403083};this['httpClientService'][a25_0x43b7('0x48')]('http://restapi.lulo.run/player_devices/report_status',_0x2fa35c,![])[a25_0x43b7('0x44')](function(_0x473641){console[a25_0x43b7('0x49')](a25_0x43b7('0x53'));})[a25_0x43b7('0x4b')](function(_0x380493){});}[a25_0x43b7('0x3c')](){fsExtra[a25_0x43b7('0x54')](this[a25_0x43b7('0x19')],_0xaf6bac=>{});fsExtra[a25_0x43b7('0x54')](this[a25_0x43b7('0x18')],_0x4eb8f7=>{});fsExtra[a25_0x43b7('0x54')](this[a25_0x43b7('0x1b')],_0xbef962=>{});}[a25_0x43b7('0x3d')](){const _0x22488f=format(this['playListServiceURL'],this[a25_0x43b7('0x2e')]);console[a25_0x43b7('0x49')](_0x22488f);request({'url':_0x22488f,'json':!![]},function(_0x2bd19b,_0x345c55,_0xdc9739){console[a25_0x43b7('0x49')]('loadMediaList:\x20');this[a25_0x43b7('0x24')]=_0xdc9739;this[a25_0x43b7('0x55')]=this['hasPlayListChanged']();fsExtra['emptyDirSync'](this['tempFolder']);this[a25_0x43b7('0x22')]=[];this[a25_0x43b7('0x23')]=[];this['currentFile']=0x0;for(const _0x5f017e in _0xdc9739){this[a25_0x43b7('0x22')][a25_0x43b7('0x56')](_0xdc9739[_0x5f017e]);}console[a25_0x43b7('0x49')]('Total\x20to\x20download:\x20'+this[a25_0x43b7('0x22')][a25_0x43b7('0x57')]);if(this[a25_0x43b7('0x22')][a25_0x43b7('0x57')]>0x0){this[a25_0x43b7('0x58')]();}}['bind'](this));}['reloadMediaList'](){this[a25_0x43b7('0x59')]=!![];if(fsExtra[a25_0x43b7('0x5a')](this[a25_0x43b7('0x18')])){fsExtra[a25_0x43b7('0x5b')](this[a25_0x43b7('0x18')]);}if(fsExtra['existsSync'](this['filesFolder'])){fsExtra[a25_0x43b7('0x5b')](this[a25_0x43b7('0x1b')]);}if(!fsExtra[a25_0x43b7('0x5a')](this[a25_0x43b7('0x1d')])){fsExtra[a25_0x43b7('0x5c')](this['playListFile']);}if(!fsExtra[a25_0x43b7('0x5a')](this[a25_0x43b7('0x1f')])){fsExtra[a25_0x43b7('0x5c')](this['m3uFile']);}this['loadMediaList']();}[a25_0x43b7('0x5d')](){const _0x117362=JSON[a25_0x43b7('0x45')](this[a25_0x43b7('0x24')]);try{if(!fsExtra[a25_0x43b7('0x5a')](this['playListFile'])){return!![];}else{const _0x1a7f00=fsExtra[a25_0x43b7('0x2b')](this[a25_0x43b7('0x1d')])[a25_0x43b7('0x5e')]();if(_0x1a7f00!=_0x117362){return!![];}}}catch(_0x3bd221){console[a25_0x43b7('0x49')](_0x3bd221);}return![];}[a25_0x43b7('0x58')](){console['log']('this.currentFile:\x20'+this['currentFile']+'\x20of\x20'+this[a25_0x43b7('0x22')][a25_0x43b7('0x57')]);if(this[a25_0x43b7('0x21')]>=this[a25_0x43b7('0x22')][a25_0x43b7('0x57')]){this['finishProcess']();return;}const _0x1db7fd=String(this[a25_0x43b7('0x22')][this['currentFile']][a25_0x43b7('0x5f')]);const _0x1d1fd0=this[a25_0x43b7('0x22')][this[a25_0x43b7('0x21')]][a25_0x43b7('0x60')];let _0x564982=_0x1db7fd[a25_0x43b7('0x61')](_0x1db7fd[a25_0x43b7('0x62')]('/')+0x1);const _0x10d1bd=_0x564982['split']('.')[a25_0x43b7('0x63')](0x0,-0x1)[a25_0x43b7('0x64')]('.');let _0x422840=this[a25_0x43b7('0x2f')]+_0x1db7fd;const _0x48175c=_0x422840[a25_0x43b7('0x65')]('.')[a25_0x43b7('0x63')](0x0,-0x1)[a25_0x43b7('0x64')]('.');if(_0x1d1fd0==a25_0x43b7('0x66')){_0x564982=_0x564982+a25_0x43b7('0x67');}else if(_0x1d1fd0==a25_0x43b7('0x68')){_0x564982=_0x10d1bd+'.mp4';_0x422840=_0x48175c+a25_0x43b7('0x67');}console[a25_0x43b7('0x49')](a25_0x43b7('0x69'));console[a25_0x43b7('0x49')](_0x1db7fd);console[a25_0x43b7('0x49')](_0x1d1fd0);console[a25_0x43b7('0x49')](_0x564982);console[a25_0x43b7('0x49')](_0x422840);console[a25_0x43b7('0x49')](_0x10d1bd);console[a25_0x43b7('0x49')](_0x48175c);console[a25_0x43b7('0x49')]('**********+');if(fsExtra[a25_0x43b7('0x5a')](this[a25_0x43b7('0x18')]+_0x564982)){this[a25_0x43b7('0x6a')](this['tempFolder']+_0x564982)[a25_0x43b7('0x44')](function(_0x33a1be){if(_0x33a1be){this[a25_0x43b7('0x21')]++;}else{this[a25_0x43b7('0x55')]=!![];}this[a25_0x43b7('0x58')]();}['bind'](this));}else if(fsExtra[a25_0x43b7('0x5a')](this[a25_0x43b7('0x1b')]+_0x564982)){this[a25_0x43b7('0x6a')](this['filesFolder']+_0x564982)[a25_0x43b7('0x44')](function(_0x5d62d3){if(_0x5d62d3){fsExtra['copySync'](this[a25_0x43b7('0x1b')]+_0x564982,this[a25_0x43b7('0x18')]+_0x564982);this[a25_0x43b7('0x21')]++;}else{this[a25_0x43b7('0x55')]=!![];}this[a25_0x43b7('0x58')]();}[a25_0x43b7('0x40')](this));}else{console['log'](a25_0x43b7('0x6b')+_0x422840);this[a25_0x43b7('0x55')]=!![];if(_0x1d1fd0==a25_0x43b7('0x66')){this[a25_0x43b7('0x6c')](_0x1db7fd);}else{this['downloader'](_0x422840,_0x564982,_0x1d1fd0);}}}[a25_0x43b7('0x41')](){const _0x2db6bd=this[a25_0x43b7('0x6d')]();console[a25_0x43b7('0x49')]('m3uFileUpdate',_0x2db6bd);if(_0x2db6bd){this[a25_0x43b7('0x6e')]();}}['checkVideo'](_0x51e2ac){return __awaiter(this,void 0x0,void 0x0,function*(){console[a25_0x43b7('0x49')](a25_0x43b7('0x6f')+_0x51e2ac);const _0xbe7587=yield mediainfo(_0x51e2ac)['catch'](_0x4ee0fe=>{console[a25_0x43b7('0x49')](_0x4ee0fe);fsExtra['removeSync'](_0x51e2ac);return![];});const _0x429981=_0xbe7587[a25_0x43b7('0x70')]['track'][a25_0x43b7('0x57')]>0x1&&_0xbe7587['media'][a25_0x43b7('0x71')][0x1][a25_0x43b7('0x72')]==a25_0x43b7('0x73');if(!_0x429981){fsExtra['removeSync'](_0x51e2ac);}console['log']('mediainfo\x20check:'+_0x429981);return _0x429981;});}[a25_0x43b7('0x74')](_0x5867ad,_0x7f2e59,_0x3c8e2b){const _0x568166=new Downloader();console[a25_0x43b7('0x49')](_0x5867ad);console[a25_0x43b7('0x49')](_0x7f2e59);console[a25_0x43b7('0x49')](_0x3c8e2b);const _0x1f9831=_0x568166[a25_0x43b7('0x58')](_0x5867ad,this['tempFolder']+_0x7f2e59);urlExists(_0x5867ad,function(_0x1c8d3e,_0x3292e4){if(_0x3292e4){if(this['failDownloadFiles'][a25_0x43b7('0x75')](this['currentFile'])){const _0x3b78d4=this['failDownloadFiles']['indexOf'](this[a25_0x43b7('0x21')]);if(_0x3b78d4>-0x1){this['failDownloadFiles'][a25_0x43b7('0x76')](_0x3b78d4,0x1);}}console[a25_0x43b7('0x49')](a25_0x43b7('0x77')+_0x5867ad);_0x1f9831[a25_0x43b7('0x78')]();}else{if(!this[a25_0x43b7('0x23')][a25_0x43b7('0x75')](this[a25_0x43b7('0x21')])){this[a25_0x43b7('0x23')]['push'](this[a25_0x43b7('0x21')]);}console[a25_0x43b7('0x49')]('Error:\x20'+_0x5867ad);this[a25_0x43b7('0x21')]++;this['download']();}}[a25_0x43b7('0x40')](this));_0x1f9831['on'](a25_0x43b7('0x78'),function(_0x1f9831){console[a25_0x43b7('0x49')](a25_0x43b7('0x79')+_0x5867ad);});_0x1f9831['on']('error',function(_0x1f9831){console[a25_0x43b7('0x49')]('error:\x20');this['download']();}[a25_0x43b7('0x40')](this));_0x1f9831['on'](a25_0x43b7('0x7a'),function(_0x1f9831){console[a25_0x43b7('0x49')](a25_0x43b7('0x7a'));console[a25_0x43b7('0x49')](a25_0x43b7('0x7b')+_0x7f2e59);console[a25_0x43b7('0x49')](a25_0x43b7('0x7c')+_0x3c8e2b);this['checkVideo'](this['tempFolder']+_0x7f2e59)[a25_0x43b7('0x44')](function(_0x3d392c){if(_0x3d392c){this['currentFile']++;}this[a25_0x43b7('0x58')]();}[a25_0x43b7('0x40')](this));}[a25_0x43b7('0x40')](this));_0x1f9831['on']('stopped',function(_0x1f9831){console['log'](a25_0x43b7('0x7d'));});_0x1f9831['on'](a25_0x43b7('0x7e'),function(_0x1f9831){console['log'](a25_0x43b7('0x7e'));});_0x1f9831['on'](a25_0x43b7('0x7f'),function(_0x1f9831){console['log'](a25_0x43b7('0x7f'));});}[a25_0x43b7('0x80')](_0x15da48,_0x1f1e40,_0x3cb002,_0x3f7950){console[a25_0x43b7('0x49')](a25_0x43b7('0x80'));console[a25_0x43b7('0x49')](_0x15da48);const _0x37f8ee=!![];let _0x1e9931=0x0;const _0x58222e='';console[a25_0x43b7('0x49')](a25_0x43b7('0x81')+_0x15da48+a25_0x43b7('0x82')+_0x1f1e40);if(_0x1e9931){if(_0x1e9931>0x5){_0x3f7950(a25_0x43b7('0x83'),_0x15da48,_0x3cb002,null);return;}}else{_0x1e9931=0x0;}const _0x55730c=this['tempFolder']+_0x1f1e40;let _0x2f9706;if(_0x3f7950===undefined){console[a25_0x43b7('0x49')](a25_0x43b7('0x84')+_0x15da48+'\x20to\x20'+_0x55730c);_0x3f7950=function(_0x717911,_0x14eb28){console[a25_0x43b7('0x49')](a25_0x43b7('0x85'),_0x717911,_0x14eb28);};}http[a25_0x43b7('0x86')][a25_0x43b7('0x87')]=0x64;const _0x6ab8ae={'host':url[a25_0x43b7('0x88')](_0x15da48)[a25_0x43b7('0x89')],'port':0x50,'path':url[a25_0x43b7('0x88')](_0x15da48)[a25_0x43b7('0x8a')],'agent':![]};const _0xd1aa43=http['get'](_0x6ab8ae,function(_0x3f47bd){let _0x518837=0x0;let _0x1c2a54=0x0;function _0x40aeba(){if(_0x518837===undefined){console[a25_0x43b7('0x49')](_0x1f1e40+a25_0x43b7('0x8b')+_0x1c2a54+'/'+'?');}const _0x418a82=_0x1c2a54/_0x518837*0x64;console[a25_0x43b7('0x49')](_0x1f1e40+a25_0x43b7('0x8c')+_0x418a82+'%\x09'+_0x1c2a54+'/'+_0x518837);}console[a25_0x43b7('0x49')](_0x1f1e40+'\x20'+_0x3f47bd['statusCode']);switch(_0x3f47bd[a25_0x43b7('0x8d')]){case 0xc8:_0x518837=_0x3f47bd[a25_0x43b7('0x8e')][a25_0x43b7('0x8f')]||_0x58222e;fs[a25_0x43b7('0x90')](_0x55730c,function(_0x349acb,_0x1218f3){if(!_0x349acb){console['log'](a25_0x43b7('0x91')+_0x55730c);if(_0x1218f3[a25_0x43b7('0x92')]==_0x518837){console['log'](a25_0x43b7('0x93')+_0x518837+')');console['log']('Redownloading');}else{console[a25_0x43b7('0x49')]('But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old('+_0x1218f3[a25_0x43b7('0x92')]+a25_0x43b7('0x94')+_0x518837+')');}}_0x2f9706=fs['createWriteStream'](_0x55730c);_0x3f47bd[a25_0x43b7('0x95')](_0x2f9706);_0x3f47bd['on'](a25_0x43b7('0x96'),function(_0x402b29){_0x1c2a54+=_0x402b29[a25_0x43b7('0x57')];_0x40aeba();});_0xd1aa43['on']('error',function(_0x349acb){console[a25_0x43b7('0x49')]('err:\x20');console['log'](_0x349acb);});_0x2f9706['on']('finish',function(){console[a25_0x43b7('0x49')](a25_0x43b7('0x97')+_0x15da48+a25_0x43b7('0x82')+_0x1f1e40);_0x3f7950(null,_0x1f1e40,_0x3cb002,_0x1f1e40);}['bind'](this));});break;case 0x12e:const _0x38fcc3=_0x3f47bd[a25_0x43b7('0x8e')]['location'];console[a25_0x43b7('0x49')](a25_0x43b7('0x98')+_0x15da48+a25_0x43b7('0x82')+_0x38fcc3);if(_0x1e9931<0x5){this[a25_0x43b7('0x80')](_0x38fcc3,_0x1f1e40,_0x3f7950,_0x1e9931++);}else{console['error']('Redirect\x20limit\x20encountered\x20for\x20'+_0x15da48+'.');_0x3f7950(a25_0x43b7('0x99'),null,null,null);}return;case 0x194:console[a25_0x43b7('0x49')]('File\x20Not\x20Found\x20'+_0x15da48);default:console['log']('Problem\x20downloading\x20'+_0x15da48+a25_0x43b7('0x9a')+_0x3f47bd[a25_0x43b7('0x8d')]);_0xd1aa43[a25_0x43b7('0x9b')]();_0x3f7950(_0x3f47bd[a25_0x43b7('0x8d')],null,null,null);return;}})['on'](a25_0x43b7('0x9c'),function(_0x332741){console[a25_0x43b7('0x49')](a25_0x43b7('0x9d')+_0x15da48+'\x20'+_0x332741[a25_0x43b7('0x9e')]);_0x3f7950(_0x332741,null,null,null);});}[a25_0x43b7('0x9f')](_0x1e6595,_0x2c1d2a,_0x4bd5c3,_0x3abd49){console['log'](a25_0x43b7('0x9f'));console[a25_0x43b7('0x49')](_0x1e6595);console[a25_0x43b7('0x49')](_0x2c1d2a);console['log'](_0x4bd5c3);console[a25_0x43b7('0x49')](_0x3abd49);if(_0x4bd5c3=='image'){const _0x41034f=this[a25_0x43b7('0x22')][this['currentFile']][a25_0x43b7('0xa0')]!=null?this[a25_0x43b7('0x22')][this[a25_0x43b7('0x21')]]['duration']:0x1e;this['createImageVideo'](_0x3abd49,_0x41034f);}else if(_0x4bd5c3==a25_0x43b7('0xa1')){if(_0x1e6595==null&&_0x2c1d2a!=''){this[a25_0x43b7('0x21')]++;}this[a25_0x43b7('0x58')]();}console[a25_0x43b7('0x49')](this[a25_0x43b7('0x21')]);}[a25_0x43b7('0xa2')](_0x50fc78,_0x474bcf,_0xfbf208){progress(request(_0x50fc78),{})['on'](a25_0x43b7('0xa3'),function(_0x4105dc){console['log'](_0x4105dc);})['on'](a25_0x43b7('0x9c'),function(_0x59a110){console[a25_0x43b7('0x49')](a25_0x43b7('0xa4'));this[a25_0x43b7('0x58')]();})['on'](a25_0x43b7('0x7a'),function(){console[a25_0x43b7('0x49')](a25_0x43b7('0x7b')+_0x474bcf);console[a25_0x43b7('0x49')]('mediaType:\x20'+_0xfbf208);if(_0xfbf208==a25_0x43b7('0x68')){const _0x4c3c27=this[a25_0x43b7('0x22')][this[a25_0x43b7('0x21')]][a25_0x43b7('0xa0')]!=null?this[a25_0x43b7('0x22')][this[a25_0x43b7('0x21')]][a25_0x43b7('0xa0')]:0x1e;this[a25_0x43b7('0xa5')](_0x474bcf,_0x4c3c27);}else if(_0xfbf208=='video'){this[a25_0x43b7('0x21')]++;this[a25_0x43b7('0x58')]();}}[a25_0x43b7('0x40')](this))[a25_0x43b7('0x95')](fs[a25_0x43b7('0xa6')](this[a25_0x43b7('0x18')]+_0x474bcf));}[a25_0x43b7('0xa5')](_0x11b1f3,_0x1d42b8=0x1e){const _0x32e8e2=this[a25_0x43b7('0x18')]+_0x11b1f3;console[a25_0x43b7('0x49')](_0x32e8e2);console['log'](_0x11b1f3);const _0x45f3de=_0x11b1f3[a25_0x43b7('0x65')]('.')[a25_0x43b7('0x63')](0x0,-0x1)['join']('.');const _0x4e28a0=a25_0x43b7('0xa7');const _0x10b199=['-y','-r',a25_0x43b7('0xa8'),a25_0x43b7('0xa9'),'1','-pattern_type',a25_0x43b7('0xaa'),'-i',_0x32e8e2,'-t',String(_0x1d42b8),'-c:v','libx264',a25_0x43b7('0xab'),a25_0x43b7('0xac'),'-r','25',a25_0x43b7('0xad'),a25_0x43b7('0xae'),this['tempFolder']+_0x45f3de+a25_0x43b7('0x67')];const _0x585711=spawn(_0x4e28a0,_0x10b199);_0x585711[a25_0x43b7('0xaf')]['on'](a25_0x43b7('0x96'),function(_0x4ba484){console[a25_0x43b7('0x49')]('Converting\x20'+_0x32e8e2);});_0x585711[a25_0x43b7('0xb0')]['on'](a25_0x43b7('0x96'),function(_0x18cc9a){console['log'](a25_0x43b7('0xb1')+_0x18cc9a);}['bind'](this));_0x585711['on']('close',function(){console['log'](a25_0x43b7('0xb2'));this[a25_0x43b7('0x21')]++;this[a25_0x43b7('0x58')]();}[a25_0x43b7('0x40')](this));}[a25_0x43b7('0x6c')](_0x410db4){const _0x5e94c3=this[a25_0x43b7('0x18')]+'/'+_0x410db4+a25_0x43b7('0x67');const _0x112250=a25_0x43b7('0xb3')+_0x410db4;console[a25_0x43b7('0x49')](a25_0x43b7('0xb4')+_0x112250);console[a25_0x43b7('0x49')](a25_0x43b7('0xb5')+_0x5e94c3);const _0x8a6bf2=youtubedl(_0x112250,['--format=18',a25_0x43b7('0xb6')],{'cwd':__dirname});_0x8a6bf2['on'](a25_0x43b7('0xb7'),function(_0x1506fe){console[a25_0x43b7('0x49')]('Download\x20started');console[a25_0x43b7('0x49')](a25_0x43b7('0xb8')+_0x1506fe[a25_0x43b7('0xb9')]);console[a25_0x43b7('0x49')](a25_0x43b7('0xba')+_0x1506fe[a25_0x43b7('0x92')]);});_0x8a6bf2['on'](a25_0x43b7('0xbb'),function complete(_0x3c17a1){'use strict';console[a25_0x43b7('0x49')](a25_0x43b7('0xb8')+_0x3c17a1[a25_0x43b7('0xb9')]+'\x20already\x20downloaded.');});_0x8a6bf2['on'](a25_0x43b7('0x7a'),function(){console[a25_0x43b7('0x49')](a25_0x43b7('0xbc'));this[a25_0x43b7('0x6a')](_0x5e94c3)[a25_0x43b7('0x44')](function(_0x12b8bc){if(_0x12b8bc){this[a25_0x43b7('0x21')]++;}this[a25_0x43b7('0x58')]();}[a25_0x43b7('0x40')](this));}[a25_0x43b7('0x40')](this));_0x8a6bf2[a25_0x43b7('0x95')](fs[a25_0x43b7('0xa6')](_0x5e94c3));}['finishProcess'](){console[a25_0x43b7('0x49')](a25_0x43b7('0xbd'));if(this[a25_0x43b7('0x55')]){if(this[a25_0x43b7('0x23')][a25_0x43b7('0x57')]==0x0){console[a25_0x43b7('0x49')]('this.playListFile:\x20'+this['playListFile']);fs['writeFileSync'](this[a25_0x43b7('0x1d')],JSON[a25_0x43b7('0x45')](this['newPlayList']));fsExtra[a25_0x43b7('0x5b')](this['filesFolder']);fsExtra[a25_0x43b7('0xbe')](this[a25_0x43b7('0x18')],this[a25_0x43b7('0x1b')]);fsExtra[a25_0x43b7('0x5b')](this[a25_0x43b7('0x18')]);const _0x1c047b=this[a25_0x43b7('0x6d')]();console[a25_0x43b7('0x49')](a25_0x43b7('0xbf'));this[a25_0x43b7('0x6e')]();}else{console[a25_0x43b7('0x49')]('Playlist\x20incomplete,\x20retry.');this[a25_0x43b7('0x21')]=0x0;setTimeout(function(){this[a25_0x43b7('0x58')]();}[a25_0x43b7('0x40')](this),0x1388);}}else{console['log'](a25_0x43b7('0xc0'));}}['m3uFileUpdate'](){let _0x4a50cb='#EXTCPlayListM3U::M3U'+'\x0d\x0a'+'#EXTINF:0,luloPlayList'+'\x0d\x0a';const _0x4ec6ef=new Date();for(const _0x5e3993 in this[a25_0x43b7('0x22')]){const _0x783a16=this[a25_0x43b7('0x22')][_0x5e3993]['path'];const _0x20b3dc=this[a25_0x43b7('0x22')][_0x5e3993][a25_0x43b7('0x60')];const _0x12c9b1=dateUtils_1[a25_0x43b7('0xc1')][a25_0x43b7('0xc2')](this[a25_0x43b7('0x22')][_0x5e3993][a25_0x43b7('0xc3')]);const _0x3d19d0=dateUtils_1[a25_0x43b7('0xc1')][a25_0x43b7('0xc2')](this[a25_0x43b7('0x22')][_0x5e3993][a25_0x43b7('0xc4')]);const _0x4cdcd1=_0x783a16['substring'](_0x783a16[a25_0x43b7('0x62')]('/')+0x1);let _0x59c8ec=_0x4cdcd1[a25_0x43b7('0x65')]('.')[a25_0x43b7('0x63')](0x0,-0x1)['join']('.');if(_0x20b3dc==a25_0x43b7('0x66')){_0x59c8ec=_0x783a16;}if((_0x12c9b1==null||_0x12c9b1<_0x4ec6ef)&&(_0x3d19d0==null||_0x3d19d0>_0x4ec6ef)){_0x4a50cb+=a25_0x43b7('0xc5')+_0x59c8ec+a25_0x43b7('0x67')+'\x0d\x0a';}}let _0x5640fb='';if(fsExtra[a25_0x43b7('0x5a')](this['m3uFile'])){_0x5640fb=fsExtra[a25_0x43b7('0x2b')](this['m3uFile']);_0x5640fb=_0x5640fb[a25_0x43b7('0x5e')]()[a25_0x43b7('0xc6')]();}_0x4a50cb=_0x4a50cb['toString']()[a25_0x43b7('0xc6')]();if(_0x5640fb!=_0x4a50cb){fsExtra[a25_0x43b7('0xc7')](this['m3uFile'],_0x4a50cb);return!![];}return![];}[a25_0x43b7('0x6e')](){console[a25_0x43b7('0x49')]('m3uFile',this[a25_0x43b7('0x1f')]);this[a25_0x43b7('0xc8')](a25_0x43b7('0xc9'));}['reboot'](){console[a25_0x43b7('0x49')](a25_0x43b7('0xca'));exec(a25_0x43b7('0xcb'),function(_0x3240ce){console[a25_0x43b7('0x49')](_0x3240ce);});}[a25_0x43b7('0x3e')](){const _0x34a9ec=format(this[a25_0x43b7('0x35')],this[a25_0x43b7('0x2e')]);console['log'](_0x34a9ec);request({'url':_0x34a9ec,'json':!![]},function(_0x3f8e2f,_0x147d75,_0x1a1fc5){if(_0x1a1fc5[a25_0x43b7('0x57')]>0x0){const _0x4edae2=_0x1a1fc5[0x0];const _0x556ebd=_0x4edae2[a25_0x43b7('0xcc')];const _0x11bbca=_0x4edae2[a25_0x43b7('0xcd')]==0x1;this['setRss'](_0x556ebd);this[a25_0x43b7('0xce')](_0x11bbca);this[a25_0x43b7('0x3b')]();}console[a25_0x43b7('0x49')](_0x1a1fc5);}[a25_0x43b7('0x40')](this));}[a25_0x43b7('0xcf')](){this[a25_0x43b7('0xc8')]('CECStandby()');}[a25_0x43b7('0xd0')](){this['kodiCommandClient']('CECActivateSource()');}[a25_0x43b7('0xd1')](_0x5af231){const _0x3bad9f=_0x5af231!=null&&_0x5af231!='';const _0x2910cd=a25_0x43b7('0xd2');if(fsExtra[a25_0x43b7('0x5a')](_0x2910cd)){const _0x49ff9b=fsExtra['readFileSync'](_0x2910cd);console[a25_0x43b7('0x49')](a25_0x43b7('0xd3')+_0x49ff9b);const _0x4e2de1=require(a25_0x43b7('0xd4'));const _0x48a8a5=_0x4e2de1[a25_0x43b7('0xd5')];_0x48a8a5(_0x49ff9b,function(_0x6c7a91,_0x25cc21){console['log'](a25_0x43b7('0xd6'),_0x6c7a91);console[a25_0x43b7('0x49')]('result:\x20%j',_0x25cc21);if(!_0x5af231||_0x5af231==null||_0x5af231==''){_0x5af231=a25_0x43b7('0xd7');}_0x25cc21[a25_0x43b7('0xd8')][a25_0x43b7('0xd9')][0x0][a25_0x43b7('0xda')][0x0]['_']=_0x5af231;const _0x44935d=new _0x4e2de1[(a25_0x43b7('0xdb'))]();const _0x437aac=_0x44935d[a25_0x43b7('0xdc')](_0x25cc21);console[a25_0x43b7('0x49')](a25_0x43b7('0xdd'),_0x437aac);fsExtra['writeFileSync'](_0x2910cd,_0x437aac);});this[a25_0x43b7('0xc8')](a25_0x43b7('0xde'));this['jsonrpcClient'](a25_0x43b7('0xdf'),{'setting':a25_0x43b7('0xe0'),'value':_0x3bad9f},function(_0x1df6e4){console[a25_0x43b7('0x49')](a25_0x43b7('0xe1'));console[a25_0x43b7('0x49')](_0x1df6e4);}['bind'](this));}}[a25_0x43b7('0xce')](_0x4244a9){this[a25_0x43b7('0xe2')](a25_0x43b7('0xdf'),{'setting':a25_0x43b7('0xe3'),'value':_0x4244a9},function(_0xcc0397){console['log']('enableClock:\x20');console['log'](_0xcc0397);}[a25_0x43b7('0x40')](this));}[a25_0x43b7('0xc8')](_0x149e99){exec('kodi-send\x20--action=\x22'+_0x149e99+'\x22',function(_0x5300f1){console[a25_0x43b7('0x49')](_0x5300f1);});}[a25_0x43b7('0xe2')](_0x38b837,_0x5c959f,_0x14434c){const _0x56d3e7={'jsonrpc':a25_0x43b7('0xe4'),'method':_0x38b837,'params':_0x5c959f,'id':0x1};const _0xa93589={'user':this[a25_0x43b7('0x26')],'pass':this[a25_0x43b7('0x39')]};console[a25_0x43b7('0x49')](a25_0x43b7('0xe5'),_0x56d3e7);console[a25_0x43b7('0x49')](a25_0x43b7('0xe6'),_0xa93589);this[a25_0x43b7('0x28')][a25_0x43b7('0x48')](this['kodiHost']+a25_0x43b7('0xe7'),_0x56d3e7,![],_0xa93589)[a25_0x43b7('0x44')](function(_0x1c0670){_0x14434c(_0x1c0670);})['catch'](function(_0x28ed99){});}}exports[a25_0x43b7('0xe8')]=SyncPlaylistsService;
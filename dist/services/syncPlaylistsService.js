var a23_0x1682=['request','request-progress','spawn','child_process','exec','is-image','string-template','youtube-dl','uuid/v4','config.json','context.json','url-exists','node-kodi','mt-files-downloader','mediaFolder','media/','tempFolder','files/','m3uFile','filesFolder','currentFile','playlistChanged','downloadFiles','failDownloadFiles','newPlayList','kodiHost','lulo','kodiPassword','.lulo123.','forceReload','HttpClientService','playerService','PlayerService','init','config','parse','readFileSync','playerId','baseURL','env','deploy/','playListServiceURL','playerServiceURL','kodiUser','checkDependencies','registerClient','checkFolders','loadMediaList','updateSettings','getStatus','bind','kodi','playlist','getItems','stringify','networkInterfaces','context','httpClientService','http://restapi.lulo.run/player_devices/register','log','catch','deviceUuid','writeFileSync','player','getCurrentlyPlayingVideo','item','label','reportStatus','playingItem:\x20','post','http://restapi.lulo.run/player_devices/report_status','reportStatusResponse:\x20','ensureDir','hasPlayListChanged','emptyDirSync','push','Total:\x20','length','reloadMediaList','existsSync','playListFile','removeSync','toString','\x20of\x20','path','media_type','substring','slice','join','split','youtube_single','.mp4','**********+','checkVideo','copySync','download','Downloading:\x20','media','@type','mediainfo\x20check:','downloader','includes','indexOf','splice','downloading:\x20','start','Error:\x20','start:\x20','error','error:\x20','end','Downloaded:\x20','mediaType:\x20','stopped','destroyed','downloadHTTPFile','\x20to\x20','Max\x20redirects\x20reached','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','downloadFile\x20callback\x20result\x20undefined:\x20','globalAgent','host','pathname','get','\x20Progress:\x20','statusCode','content-length','stat','size','And\x20the\x20file\x20size\x20matches\x20(','Redownloading',')\x20vs\x20New(','createWriteStream','pipe','data','err:\x20','headers','Redirect\x20','Redirect\x20limit\x20encountered\x20for\x20','302','File\x20Not\x20Found\x20','Problem\x20downloading\x20','\x20STATUS:\x20','message','downloadHTTPFileCallback','image','duration','createImageVideo','video','downloadRequestFile','progress','Error\x20downloading\x20file','ffmpeg','1/2','-loop','-pattern_type','-c:v','libx264','yuv420p','-vf','scale=1920:1080','stdout','Converting\x20','stderr:\x20','close','finished\x20mp4\x20convert','downloadYouTube','http://www.youtube.com/watch?v=','info','Download\x20started','filename:\x20','_filename','size:\x20','\x20already\x20downloaded.','finished\x20youtube\x20downloading!','Finishing','#EXTCPlayListM3U::M3U','#EXTINF:0,luloPlayList','lastIndexOf','/home/osmc/luloclient/media/files/','refreshPlayer','No\x20playlist\x20changes.','Playlist.Clear','Playlist.Cleared','jsonrpcClient','Playlist.Add','//home/osmc/luloclient/media/files/lulo_playlist.m3u','Playlist.Added','Player.Open','Playlist.Opened','Reboot()','rss','header_active','setRss','enableClock','/home/osmc/.kodi/userdata/RssFeeds.xml','xmlContent:\x20','xml2js','parseString','none','feed','Builder','buildObject','xml:\x20%j','kodiCommandClient','RefreshRSS()','lookandfeel.enablerssfeeds','setRss:','Settings.SetSettingValue','enableClock:\x20','kodi-send\x20--action=\x22','2.0','/jsonrpc','SyncPlaylistsService','__awaiter','throw','done','value','then','apply','next','defineProperty','__esModule','../infrastructure/HttpClientService','node-mediainfo','url','fs-extra'];(function(_0x112b95,_0x1bbf5e){var _0x59e097=function(_0x31496d){while(--_0x31496d){_0x112b95['push'](_0x112b95['shift']());}};_0x59e097(++_0x1bbf5e);}(a23_0x1682,0xd6));var a23_0x46f3=function(_0x59ccc7,_0x2d2112){_0x59ccc7=_0x59ccc7-0x0;var _0x5e3d94=a23_0x1682[_0x59ccc7];return _0x5e3d94;};'use strict';var __awaiter=this&&this[a23_0x46f3('0x0')]||function(_0x42c35e,_0x2c00eb,_0x5651a,_0x434dff){function _0x1fca3c(_0x303a21){return _0x303a21 instanceof _0x5651a?_0x303a21:new _0x5651a(function(_0x319176){_0x319176(_0x303a21);});}return new(_0x5651a||(_0x5651a=Promise))(function(_0x3be806,_0x2eb1f5){function _0x3d11de(_0x581338){try{_0x56bd18(_0x434dff['next'](_0x581338));}catch(_0x46a5d2){_0x2eb1f5(_0x46a5d2);}}function _0x586df6(_0x2e4d5d){try{_0x56bd18(_0x434dff[a23_0x46f3('0x1')](_0x2e4d5d));}catch(_0x5134ec){_0x2eb1f5(_0x5134ec);}}function _0x56bd18(_0x1227b0){_0x1227b0[a23_0x46f3('0x2')]?_0x3be806(_0x1227b0[a23_0x46f3('0x3')]):_0x1fca3c(_0x1227b0[a23_0x46f3('0x3')])[a23_0x46f3('0x4')](_0x3d11de,_0x586df6);}_0x56bd18((_0x434dff=_0x434dff[a23_0x46f3('0x5')](_0x42c35e,_0x2c00eb||[]))[a23_0x46f3('0x6')]());});};Object[a23_0x46f3('0x7')](exports,a23_0x46f3('0x8'),{'value':!![]});const HttpClientService_1=require(a23_0x46f3('0x9'));const playerService_1=require('./playerService');const mediainfo=require(a23_0x46f3('0xa'));const fs=require('fs');const url=require(a23_0x46f3('0xb'));const http=require('http');const fsExtra=require(a23_0x46f3('0xc'));const request=require(a23_0x46f3('0xd'));const progress=require(a23_0x46f3('0xe'));const spawn=require('child_process')[a23_0x46f3('0xf')];const exec=require(a23_0x46f3('0x10'))[a23_0x46f3('0x11')];const isImage=require(a23_0x46f3('0x12'));const format=require(a23_0x46f3('0x13'));const os=require('os');const youtubedl=require(a23_0x46f3('0x14'));const uuidv4=require(a23_0x46f3('0x15'));const configFile=a23_0x46f3('0x16');const contextFile=a23_0x46f3('0x17');const urlExists=require(a23_0x46f3('0x18'));const kodi_rpc=require(a23_0x46f3('0x19'));const Downloader=require(a23_0x46f3('0x1a'));class SyncPlaylistsService{constructor(){this[a23_0x46f3('0x1b')]=a23_0x46f3('0x1c');this[a23_0x46f3('0x1d')]=this['mediaFolder']+'temp/';this['filesFolder']=this['mediaFolder']+a23_0x46f3('0x1e');this['playListFile']=this[a23_0x46f3('0x1b')]+'playlist.txt';this[a23_0x46f3('0x1f')]=this[a23_0x46f3('0x20')]+'lulo_playlist.m3u';this[a23_0x46f3('0x21')]=0x0;this[a23_0x46f3('0x22')]=![];this[a23_0x46f3('0x23')]=[];this[a23_0x46f3('0x24')]=[];this[a23_0x46f3('0x25')]={};this[a23_0x46f3('0x26')]='http://localhost';this['kodiUser']=a23_0x46f3('0x27');this[a23_0x46f3('0x28')]=a23_0x46f3('0x29');this[a23_0x46f3('0x2a')]=![];this['httpClientService']=new HttpClientService_1[(a23_0x46f3('0x2b'))]();this[a23_0x46f3('0x2c')]=new playerService_1[(a23_0x46f3('0x2d'))]();}[a23_0x46f3('0x2e')](){this[a23_0x46f3('0x2f')]=JSON[a23_0x46f3('0x30')](fs[a23_0x46f3('0x31')](configFile));this['context']=JSON[a23_0x46f3('0x30')](fs[a23_0x46f3('0x31')](contextFile));this[a23_0x46f3('0x32')]=this[a23_0x46f3('0x2f')][a23_0x46f3('0x32')];this[a23_0x46f3('0x33')]=process[a23_0x46f3('0x34')]['WEB_SERVICE_URL']+a23_0x46f3('0x35');this[a23_0x46f3('0x36')]=this['baseURL']+'api/player_playlist.php?player_id={0}';this[a23_0x46f3('0x37')]=this[a23_0x46f3('0x33')]+'api/player.php?player_id={0}';this['kodi']=new kodi_rpc({'url':this[a23_0x46f3('0x26')],'user':this[a23_0x46f3('0x38')],'password':this[a23_0x46f3('0x28')]});this[a23_0x46f3('0x39')]();this[a23_0x46f3('0x3a')]();this[a23_0x46f3('0x3b')]();this[a23_0x46f3('0x3c')]();this[a23_0x46f3('0x3d')]();setInterval(function(){this[a23_0x46f3('0x3e')]();}[a23_0x46f3('0x3f')](this),0x2710);setInterval(function(){this[a23_0x46f3('0x3a')]();}['bind'](this),0x493e0);}[a23_0x46f3('0x39')](){}[a23_0x46f3('0x3a')](){this[a23_0x46f3('0x40')][a23_0x46f3('0x41')][a23_0x46f3('0x42')](0x1)[a23_0x46f3('0x4')](function(_0x33bf16){const _0x4ea23b=JSON[a23_0x46f3('0x43')](_0x33bf16);const _0x5fe0f4={'player_id':this[a23_0x46f3('0x32')],'device_uuid':this[a23_0x46f3('0x2f')]['deviceUuid'],'network_info':JSON['stringify'](os[a23_0x46f3('0x44')]()),'firmware_info':JSON[a23_0x46f3('0x43')](this[a23_0x46f3('0x45')]),'playlist':_0x4ea23b,'playing_item':'','status':0x0};this[a23_0x46f3('0x46')]['post'](a23_0x46f3('0x47'),_0x5fe0f4,![])[a23_0x46f3('0x4')](function(_0x2929f7){console[a23_0x46f3('0x48')]('register\x20response:\x20'+Date());})[a23_0x46f3('0x49')](function(_0x4b1bf8){});console[a23_0x46f3('0x48')](_0x5fe0f4);}[a23_0x46f3('0x3f')](this));const _0x3ad533=this[a23_0x46f3('0x2f')][a23_0x46f3('0x4a')];if(!_0x3ad533||_0x3ad533==''){this['config'][a23_0x46f3('0x4a')]=uuidv4();this[a23_0x46f3('0x2f')]={'deviceUuid':this[a23_0x46f3('0x2f')][a23_0x46f3('0x4a')],'playerId':this[a23_0x46f3('0x2f')][a23_0x46f3('0x32')]};fs[a23_0x46f3('0x4b')](configFile,JSON[a23_0x46f3('0x43')](this['config']));}}[a23_0x46f3('0x3e')](){console[a23_0x46f3('0x48')](a23_0x46f3('0x3e'));this['kodi'][a23_0x46f3('0x4c')][a23_0x46f3('0x4d')]()[a23_0x46f3('0x4')](function(_0x5669d0){const _0x5e4381=_0x5669d0[a23_0x46f3('0x4e')][a23_0x46f3('0x4f')];this[a23_0x46f3('0x50')](_0x5e4381);}[a23_0x46f3('0x3f')](this))[a23_0x46f3('0x49')](function(_0x1d6261){console[a23_0x46f3('0x48')](_0x1d6261);this[a23_0x46f3('0x50')](_0x1d6261);}[a23_0x46f3('0x3f')](this));}[a23_0x46f3('0x50')](_0x173ffb){console[a23_0x46f3('0x48')](a23_0x46f3('0x51')+_0x173ffb);const _0x2940ed={'player_id':this[a23_0x46f3('0x32')],'device_uuid':this[a23_0x46f3('0x2f')][a23_0x46f3('0x4a')],'status':_0x173ffb!=''&&_0x173ffb!=null?0x1:0x0,'playing_item':_0x173ffb};this[a23_0x46f3('0x46')][a23_0x46f3('0x52')](a23_0x46f3('0x53'),_0x2940ed,![])[a23_0x46f3('0x4')](function(_0x1fe455){console[a23_0x46f3('0x48')](a23_0x46f3('0x54')+Date());})[a23_0x46f3('0x49')](function(_0x180ce3){});}[a23_0x46f3('0x3b')](){fsExtra['ensureDir'](this['mediaFolder'],_0x1feeb1=>{});fsExtra[a23_0x46f3('0x55')](this[a23_0x46f3('0x1d')],_0x5a2734=>{});fsExtra[a23_0x46f3('0x55')](this[a23_0x46f3('0x20')],_0x4f94bb=>{});}['loadMediaList'](){const _0x5e0ec8=format(this[a23_0x46f3('0x36')],this[a23_0x46f3('0x32')]);console[a23_0x46f3('0x48')](_0x5e0ec8);request({'url':_0x5e0ec8,'json':!![]},function(_0x57896b,_0x2d8186,_0x4e4a0b){console[a23_0x46f3('0x48')]('loadMediaList:\x20');this[a23_0x46f3('0x25')]=_0x4e4a0b;this['playlistChanged']=this[a23_0x46f3('0x56')]();fsExtra[a23_0x46f3('0x57')](this['tempFolder']);this[a23_0x46f3('0x23')]=[];this[a23_0x46f3('0x24')]=[];this['currentFile']=0x0;for(const _0x1d50e5 in _0x4e4a0b){this[a23_0x46f3('0x23')][a23_0x46f3('0x58')](_0x4e4a0b[_0x1d50e5]);}console[a23_0x46f3('0x48')](a23_0x46f3('0x59')+this['downloadFiles'][a23_0x46f3('0x5a')]);if(this[a23_0x46f3('0x23')][a23_0x46f3('0x5a')]>0x0){this['download']();}}['bind'](this));}[a23_0x46f3('0x5b')](){this[a23_0x46f3('0x2a')]=!![];if(fsExtra['existsSync'](this[a23_0x46f3('0x1d')])){fsExtra[a23_0x46f3('0x57')](this[a23_0x46f3('0x1d')]);}if(fsExtra['existsSync'](this[a23_0x46f3('0x20')])){fsExtra[a23_0x46f3('0x57')](this[a23_0x46f3('0x20')]);}if(!fsExtra[a23_0x46f3('0x5c')](this[a23_0x46f3('0x5d')])){fsExtra[a23_0x46f3('0x5e')](this['playListFile']);}if(!fsExtra[a23_0x46f3('0x5c')](this[a23_0x46f3('0x1f')])){fsExtra[a23_0x46f3('0x5e')](this[a23_0x46f3('0x1f')]);}this[a23_0x46f3('0x3c')]();}['hasPlayListChanged'](){const _0x1417ac=JSON[a23_0x46f3('0x43')](this[a23_0x46f3('0x25')]);try{if(!fsExtra[a23_0x46f3('0x5c')](this[a23_0x46f3('0x5d')])){return!![];}else{const _0x6478f=fsExtra['readFileSync'](this[a23_0x46f3('0x5d')])[a23_0x46f3('0x5f')]();if(_0x6478f!=_0x1417ac){return!![];}}}catch(_0x27f0ec){console[a23_0x46f3('0x48')](_0x27f0ec);}return![];}['download'](){console[a23_0x46f3('0x48')]('this.currentFile:\x20'+this[a23_0x46f3('0x21')]+a23_0x46f3('0x60')+this['downloadFiles'][a23_0x46f3('0x5a')]);if(this[a23_0x46f3('0x21')]>=this['downloadFiles']['length']){this['finishProcess']();return;}const _0x506fcd=String(this[a23_0x46f3('0x23')][this['currentFile']][a23_0x46f3('0x61')]);const _0x458e86=this[a23_0x46f3('0x23')][this[a23_0x46f3('0x21')]][a23_0x46f3('0x62')];let _0x22d6c0=_0x506fcd[a23_0x46f3('0x63')](_0x506fcd['lastIndexOf']('/')+0x1);const _0x1206d0=_0x22d6c0['split']('.')[a23_0x46f3('0x64')](0x0,-0x1)[a23_0x46f3('0x65')]('.');let _0x401219=this[a23_0x46f3('0x33')]+_0x506fcd;const _0x23d18c=_0x401219[a23_0x46f3('0x66')]('.')[a23_0x46f3('0x64')](0x0,-0x1)[a23_0x46f3('0x65')]('.');if(_0x458e86==a23_0x46f3('0x67')){_0x22d6c0=_0x22d6c0+a23_0x46f3('0x68');}else if(_0x458e86=='image'){_0x22d6c0=_0x1206d0+a23_0x46f3('0x68');_0x401219=_0x23d18c+a23_0x46f3('0x68');}console[a23_0x46f3('0x48')]('**********+');console['log'](_0x506fcd);console[a23_0x46f3('0x48')](_0x458e86);console[a23_0x46f3('0x48')](_0x22d6c0);console[a23_0x46f3('0x48')](_0x401219);console[a23_0x46f3('0x48')](_0x1206d0);console['log'](_0x23d18c);console[a23_0x46f3('0x48')](a23_0x46f3('0x69'));if(fsExtra['existsSync'](this['tempFolder']+_0x22d6c0)){this['checkVideo'](this[a23_0x46f3('0x1d')]+_0x22d6c0)[a23_0x46f3('0x4')](function(_0x1346a5){if(_0x1346a5){this[a23_0x46f3('0x21')]++;}else{this['playlistChanged']=!![];}this['download']();}['bind'](this));}else if(fsExtra[a23_0x46f3('0x5c')](this[a23_0x46f3('0x20')]+_0x22d6c0)){this[a23_0x46f3('0x6a')](this[a23_0x46f3('0x20')]+_0x22d6c0)[a23_0x46f3('0x4')](function(_0x38ed02){if(_0x38ed02){fsExtra[a23_0x46f3('0x6b')](this[a23_0x46f3('0x20')]+_0x22d6c0,this[a23_0x46f3('0x1d')]+_0x22d6c0);this[a23_0x46f3('0x21')]++;}else{this['playlistChanged']=!![];}this[a23_0x46f3('0x6c')]();}[a23_0x46f3('0x3f')](this));}else{console[a23_0x46f3('0x48')](a23_0x46f3('0x6d')+_0x401219);this[a23_0x46f3('0x22')]=!![];if(_0x458e86=='youtube_single'){this['downloadYouTube'](_0x506fcd);}else{this['downloader'](_0x401219,_0x22d6c0,_0x458e86);}}}[a23_0x46f3('0x6a')](_0x41360b){return __awaiter(this,void 0x0,void 0x0,function*(){console[a23_0x46f3('0x48')]('videoFile:\x20'+_0x41360b);const _0x2e1d3f=yield mediainfo(_0x41360b)[a23_0x46f3('0x49')](_0x516b51=>{console[a23_0x46f3('0x48')](_0x516b51);fsExtra['removeSync'](_0x41360b);return![];});const _0x5e6fbc=_0x2e1d3f[a23_0x46f3('0x6e')]['track'][a23_0x46f3('0x5a')]>0x1&&_0x2e1d3f[a23_0x46f3('0x6e')]['track'][0x1][a23_0x46f3('0x6f')]=='Video';if(!_0x5e6fbc){fsExtra[a23_0x46f3('0x5e')](_0x41360b);}console['log'](a23_0x46f3('0x70')+_0x5e6fbc);return _0x5e6fbc;});}[a23_0x46f3('0x71')](_0x4f931f,_0x583ab2,_0x259627){const _0x4c8064=new Downloader();console[a23_0x46f3('0x48')](_0x4f931f);console['log'](_0x583ab2);console[a23_0x46f3('0x48')](_0x259627);const _0x342ea4=_0x4c8064[a23_0x46f3('0x6c')](_0x4f931f,this[a23_0x46f3('0x1d')]+_0x583ab2);urlExists(_0x4f931f,function(_0x4284fc,_0x21706e){if(_0x21706e){if(this['failDownloadFiles'][a23_0x46f3('0x72')](this[a23_0x46f3('0x21')])){const _0x52816f=this[a23_0x46f3('0x24')][a23_0x46f3('0x73')](this[a23_0x46f3('0x21')]);if(_0x52816f>-0x1){this[a23_0x46f3('0x24')][a23_0x46f3('0x74')](_0x52816f,0x1);}}console[a23_0x46f3('0x48')](a23_0x46f3('0x75')+_0x4f931f);_0x342ea4[a23_0x46f3('0x76')]();}else{if(!this[a23_0x46f3('0x24')][a23_0x46f3('0x72')](this[a23_0x46f3('0x21')])){this[a23_0x46f3('0x24')][a23_0x46f3('0x58')](this['currentFile']);}console[a23_0x46f3('0x48')](a23_0x46f3('0x77')+_0x4f931f);this[a23_0x46f3('0x21')]++;this[a23_0x46f3('0x6c')]();}}[a23_0x46f3('0x3f')](this));_0x342ea4['on']('start',function(_0x342ea4){console['log'](a23_0x46f3('0x78')+_0x4f931f);});_0x342ea4['on'](a23_0x46f3('0x79'),function(_0x342ea4){console[a23_0x46f3('0x48')](a23_0x46f3('0x7a'));this['download']();}[a23_0x46f3('0x3f')](this));_0x342ea4['on']('end',function(_0x342ea4){console[a23_0x46f3('0x48')](a23_0x46f3('0x7b'));console[a23_0x46f3('0x48')](a23_0x46f3('0x7c')+_0x583ab2);console[a23_0x46f3('0x48')](a23_0x46f3('0x7d')+_0x259627);this['checkVideo'](this[a23_0x46f3('0x1d')]+_0x583ab2)[a23_0x46f3('0x4')](function(_0x261b7e){if(_0x261b7e){this['currentFile']++;}this[a23_0x46f3('0x6c')]();}[a23_0x46f3('0x3f')](this));}[a23_0x46f3('0x3f')](this));_0x342ea4['on'](a23_0x46f3('0x7e'),function(_0x342ea4){console[a23_0x46f3('0x48')]('stopped');});_0x342ea4['on'](a23_0x46f3('0x7f'),function(_0x342ea4){console['log'](a23_0x46f3('0x7f'));});_0x342ea4['on']('retry',function(_0x342ea4){console[a23_0x46f3('0x48')]('retry');});}[a23_0x46f3('0x80')](_0x161288,_0x286fc3,_0x2bf773,_0x51e7c9){console[a23_0x46f3('0x48')]('downloadHTTPFile');console[a23_0x46f3('0x48')](_0x161288);const _0x920dce=!![];let _0x1b687c=0x0;const _0x59cd1d='';console[a23_0x46f3('0x48')]('Attempting\x20to\x20download\x20'+_0x161288+a23_0x46f3('0x81')+_0x286fc3);if(_0x1b687c){if(_0x1b687c>0x5){_0x51e7c9(a23_0x46f3('0x82'),_0x161288,_0x2bf773,null);return;}}else{_0x1b687c=0x0;}const _0x2bf786=this[a23_0x46f3('0x1d')]+_0x286fc3;let _0x1c38b4;if(_0x51e7c9===undefined){console['log'](a23_0x46f3('0x83')+_0x161288+a23_0x46f3('0x81')+_0x2bf786);_0x51e7c9=function(_0x454e36,_0x560d8b){console[a23_0x46f3('0x48')](a23_0x46f3('0x84'),_0x454e36,_0x560d8b);};}http[a23_0x46f3('0x85')]['maxSockets']=0x64;const _0x40bbe1={'host':url['parse'](_0x161288)[a23_0x46f3('0x86')],'port':0x50,'path':url[a23_0x46f3('0x30')](_0x161288)[a23_0x46f3('0x87')],'agent':![]};const _0x283b10=http[a23_0x46f3('0x88')](_0x40bbe1,function(_0x4a7a8c){let _0x2b9bb0=0x0;let _0x4b1fcc=0x0;function _0x476565(){if(_0x2b9bb0===undefined){console['log'](_0x286fc3+'\x20Progress:\x20unknown\x09'+_0x4b1fcc+'/'+'?');}const _0x309994=_0x4b1fcc/_0x2b9bb0*0x64;console[a23_0x46f3('0x48')](_0x286fc3+a23_0x46f3('0x89')+_0x309994+'%\x09'+_0x4b1fcc+'/'+_0x2b9bb0);}console[a23_0x46f3('0x48')](_0x286fc3+'\x20'+_0x4a7a8c[a23_0x46f3('0x8a')]);switch(_0x4a7a8c[a23_0x46f3('0x8a')]){case 0xc8:_0x2b9bb0=_0x4a7a8c['headers'][a23_0x46f3('0x8b')]||_0x59cd1d;fs[a23_0x46f3('0x8c')](_0x2bf786,function(_0x35be20,_0x19061b){if(!_0x35be20){console[a23_0x46f3('0x48')]('Have\x20already\x20downloaded\x20'+_0x2bf786);if(_0x19061b[a23_0x46f3('0x8d')]==_0x2b9bb0){console[a23_0x46f3('0x48')](a23_0x46f3('0x8e')+_0x2b9bb0+')');console[a23_0x46f3('0x48')](a23_0x46f3('0x8f'));}else{console[a23_0x46f3('0x48')]('But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old('+_0x19061b[a23_0x46f3('0x8d')]+a23_0x46f3('0x90')+_0x2b9bb0+')');}}_0x1c38b4=fs[a23_0x46f3('0x91')](_0x2bf786);_0x4a7a8c[a23_0x46f3('0x92')](_0x1c38b4);_0x4a7a8c['on'](a23_0x46f3('0x93'),function(_0x20c54b){_0x4b1fcc+=_0x20c54b['length'];_0x476565();});_0x283b10['on'](a23_0x46f3('0x79'),function(_0x35be20){console[a23_0x46f3('0x48')](a23_0x46f3('0x94'));console['log'](_0x35be20);});_0x1c38b4['on']('finish',function(){console[a23_0x46f3('0x48')]('Downloaded\x20'+_0x161288+a23_0x46f3('0x81')+_0x286fc3);_0x51e7c9(null,_0x286fc3,_0x2bf773,_0x286fc3);}['bind'](this));});break;case 0x12e:const _0x29724a=_0x4a7a8c[a23_0x46f3('0x95')]['location'];console['log'](a23_0x46f3('0x96')+_0x161288+'\x20to\x20'+_0x29724a);if(_0x1b687c<0x5){this[a23_0x46f3('0x80')](_0x29724a,_0x286fc3,_0x51e7c9,_0x1b687c++);}else{console[a23_0x46f3('0x79')](a23_0x46f3('0x97')+_0x161288+'.');_0x51e7c9(a23_0x46f3('0x98'),null,null,null);}return;case 0x194:console[a23_0x46f3('0x48')](a23_0x46f3('0x99')+_0x161288);default:console[a23_0x46f3('0x48')](a23_0x46f3('0x9a')+_0x161288+a23_0x46f3('0x9b')+_0x4a7a8c['statusCode']);_0x283b10['abort']();_0x51e7c9(_0x4a7a8c[a23_0x46f3('0x8a')],null,null,null);return;}})['on'](a23_0x46f3('0x79'),function(_0x3bff12){console[a23_0x46f3('0x48')]('Error\x20Downloading:\x20'+_0x161288+'\x20'+_0x3bff12[a23_0x46f3('0x9c')]);_0x51e7c9(_0x3bff12,null,null,null);});}[a23_0x46f3('0x9d')](_0x1534f2,_0x17a9ba,_0x4dbeb7,_0xed3f7d){console[a23_0x46f3('0x48')](a23_0x46f3('0x9d'));console[a23_0x46f3('0x48')](_0x1534f2);console[a23_0x46f3('0x48')](_0x17a9ba);console['log'](_0x4dbeb7);console['log'](_0xed3f7d);if(_0x4dbeb7==a23_0x46f3('0x9e')){const _0x5cbf6b=this['downloadFiles'][this['currentFile']][a23_0x46f3('0x9f')]!=null?this['downloadFiles'][this[a23_0x46f3('0x21')]][a23_0x46f3('0x9f')]:0x1e;this[a23_0x46f3('0xa0')](_0xed3f7d,_0x5cbf6b);}else if(_0x4dbeb7==a23_0x46f3('0xa1')){if(_0x1534f2==null&&_0x17a9ba!=''){this[a23_0x46f3('0x21')]++;}this[a23_0x46f3('0x6c')]();}console[a23_0x46f3('0x48')](this[a23_0x46f3('0x21')]);}[a23_0x46f3('0xa2')](_0x1a8f9e,_0x15168b,_0x2c7dbc){progress(request(_0x1a8f9e),{})['on'](a23_0x46f3('0xa3'),function(_0x5dc679){console[a23_0x46f3('0x48')](_0x5dc679);})['on'](a23_0x46f3('0x79'),function(_0x578446){console[a23_0x46f3('0x48')](a23_0x46f3('0xa4'));this[a23_0x46f3('0x6c')]();})['on']('end',function(){console[a23_0x46f3('0x48')](a23_0x46f3('0x7c')+_0x15168b);console[a23_0x46f3('0x48')]('mediaType:\x20'+_0x2c7dbc);if(_0x2c7dbc==a23_0x46f3('0x9e')){const _0xb01d97=this['downloadFiles'][this[a23_0x46f3('0x21')]][a23_0x46f3('0x9f')]!=null?this[a23_0x46f3('0x23')][this['currentFile']][a23_0x46f3('0x9f')]:0x1e;this[a23_0x46f3('0xa0')](_0x15168b,_0xb01d97);}else if(_0x2c7dbc==a23_0x46f3('0xa1')){this[a23_0x46f3('0x21')]++;this[a23_0x46f3('0x6c')]();}}[a23_0x46f3('0x3f')](this))[a23_0x46f3('0x92')](fs[a23_0x46f3('0x91')](this['tempFolder']+_0x15168b));}[a23_0x46f3('0xa0')](_0xd0a1f7,_0x601985=0x1e){const _0x1a7bb0=this[a23_0x46f3('0x1d')]+_0xd0a1f7;console[a23_0x46f3('0x48')](_0x1a7bb0);console[a23_0x46f3('0x48')](_0xd0a1f7);const _0x28627b=_0xd0a1f7['split']('.')['slice'](0x0,-0x1)['join']('.');const _0x124aef=a23_0x46f3('0xa5');const _0x3e3824=['-y','-r',a23_0x46f3('0xa6'),a23_0x46f3('0xa7'),'1',a23_0x46f3('0xa8'),'glob','-i',_0x1a7bb0,'-t',String(_0x601985),a23_0x46f3('0xa9'),a23_0x46f3('0xaa'),'-pix_fmt',a23_0x46f3('0xab'),'-r','25',a23_0x46f3('0xac'),a23_0x46f3('0xad'),this['tempFolder']+_0x28627b+'.mp4'];const _0x4883a1=spawn(_0x124aef,_0x3e3824);_0x4883a1[a23_0x46f3('0xae')]['on'](a23_0x46f3('0x93'),function(_0x228462){console[a23_0x46f3('0x48')](a23_0x46f3('0xaf')+_0x1a7bb0);});_0x4883a1['stderr']['on']('data',function(_0xfc756c){console[a23_0x46f3('0x48')](a23_0x46f3('0xb0')+_0xfc756c);}['bind'](this));_0x4883a1['on'](a23_0x46f3('0xb1'),function(){console[a23_0x46f3('0x48')](a23_0x46f3('0xb2'));this[a23_0x46f3('0x21')]++;this[a23_0x46f3('0x6c')]();}[a23_0x46f3('0x3f')](this));}[a23_0x46f3('0xb3')](_0x4992fa){const _0x5ad5f1=this[a23_0x46f3('0x1d')]+'/'+_0x4992fa+a23_0x46f3('0x68');const _0x148ec4=youtubedl(a23_0x46f3('0xb4')+_0x4992fa,['--format=18'],{'cwd':__dirname});_0x148ec4['on'](a23_0x46f3('0xb5'),function(_0x49bc69){console[a23_0x46f3('0x48')](a23_0x46f3('0xb6'));console[a23_0x46f3('0x48')](a23_0x46f3('0xb7')+_0x49bc69[a23_0x46f3('0xb8')]);console['log'](a23_0x46f3('0xb9')+_0x49bc69[a23_0x46f3('0x8d')]);});_0x148ec4['on']('complete',function complete(_0x13ef05){'use strict';console[a23_0x46f3('0x48')](a23_0x46f3('0xb7')+_0x13ef05[a23_0x46f3('0xb8')]+a23_0x46f3('0xba'));});_0x148ec4['on']('end',function(){console[a23_0x46f3('0x48')](a23_0x46f3('0xbb'));this['checkVideo'](_0x5ad5f1)[a23_0x46f3('0x4')](function(_0x3d995d){if(_0x3d995d){this[a23_0x46f3('0x21')]++;}this[a23_0x46f3('0x6c')]();}[a23_0x46f3('0x3f')](this));}[a23_0x46f3('0x3f')](this));_0x148ec4[a23_0x46f3('0x92')](fs[a23_0x46f3('0x91')](_0x5ad5f1));}['finishProcess'](){console['log'](a23_0x46f3('0xbc'));if(this['playlistChanged']){if(this[a23_0x46f3('0x24')]['length']==0x0){fs[a23_0x46f3('0x4b')](this[a23_0x46f3('0x5d')],JSON['stringify'](this[a23_0x46f3('0x25')]));let _0x3c0e87=a23_0x46f3('0xbd')+'\x0d\x0a'+a23_0x46f3('0xbe')+'\x0d\x0a';for(const _0x687307 in this[a23_0x46f3('0x23')]){const _0x362340=this[a23_0x46f3('0x23')][_0x687307]['path'];const _0x3c327d=this[a23_0x46f3('0x23')][_0x687307][a23_0x46f3('0x62')];const _0x4ccfec=_0x362340[a23_0x46f3('0x63')](_0x362340[a23_0x46f3('0xbf')]('/')+0x1);let _0xa894e2=_0x4ccfec[a23_0x46f3('0x66')]('.')[a23_0x46f3('0x64')](0x0,-0x1)[a23_0x46f3('0x65')]('.');if(_0x3c327d==a23_0x46f3('0x67')){_0xa894e2=_0x362340;}_0x3c0e87+=a23_0x46f3('0xc0')+_0xa894e2+a23_0x46f3('0x68')+'\x0d\x0a';}fsExtra[a23_0x46f3('0x57')](this[a23_0x46f3('0x20')]);fsExtra[a23_0x46f3('0x6b')](this[a23_0x46f3('0x1d')],this[a23_0x46f3('0x20')]);fsExtra[a23_0x46f3('0x4b')](this['m3uFile'],_0x3c0e87);fsExtra[a23_0x46f3('0x57')](this['tempFolder']);console[a23_0x46f3('0x48')]('Refreshing..');this[a23_0x46f3('0xc1')]();}else{console[a23_0x46f3('0x48')]('Playlist\x20incomplete,\x20retry.');this[a23_0x46f3('0x21')]=0x0;setTimeout(function(){this[a23_0x46f3('0x6c')]();}['bind'](this),0x1388);}}else{console[a23_0x46f3('0x48')](a23_0x46f3('0xc2'));}}[a23_0x46f3('0xc1')](){this['jsonrpcClient'](a23_0x46f3('0xc3'),{'playlistid':0x1},function(_0x1d71fe){console[a23_0x46f3('0x48')](a23_0x46f3('0xc4'));console['log'](_0x1d71fe);this[a23_0x46f3('0xc5')](a23_0x46f3('0xc6'),{'item':{'file':a23_0x46f3('0xc7')},'playlistid':0x1},function(_0x1d71fe){console[a23_0x46f3('0x48')](a23_0x46f3('0xc8'));console[a23_0x46f3('0x48')](_0x1d71fe);this[a23_0x46f3('0xc5')](a23_0x46f3('0xc9'),{'item':{'playlistid':0x1,'position':0x0}},function(_0x1d71fe){console[a23_0x46f3('0x48')](a23_0x46f3('0xca'));console[a23_0x46f3('0x48')](_0x1d71fe);if(this[a23_0x46f3('0x2a')]){this['forceReload']=![];this['kodiCommandClient']('RestartApp()');}}[a23_0x46f3('0x3f')](this));}[a23_0x46f3('0x3f')](this));}[a23_0x46f3('0x3f')](this));}['reboot'](){console[a23_0x46f3('0x48')]('Rebooting');this['kodiCommandClient'](a23_0x46f3('0xcb'));}[a23_0x46f3('0x3d')](){const _0x398c5b=format(this[a23_0x46f3('0x37')],this[a23_0x46f3('0x32')]);console['log'](_0x398c5b);request({'url':_0x398c5b,'json':!![]},function(_0x189f0e,_0x25cc99,_0x23bc56){if(_0x23bc56['length']>0x0){const _0xd66748=_0x23bc56[0x0];const _0x53f240=_0xd66748[a23_0x46f3('0xcc')];const _0x579ced=_0xd66748[a23_0x46f3('0xcd')]==0x1;this[a23_0x46f3('0xce')](_0x53f240);this[a23_0x46f3('0xcf')](_0x579ced);this[a23_0x46f3('0x3a')]();}console[a23_0x46f3('0x48')](_0x23bc56);}['bind'](this));}[a23_0x46f3('0xce')](_0x33f482){const _0xa1431a=_0x33f482!=null&&_0x33f482!='';const _0x72c05e=a23_0x46f3('0xd0');const _0x187cd7=fsExtra[a23_0x46f3('0x31')](_0x72c05e);console[a23_0x46f3('0x48')](a23_0x46f3('0xd1')+_0x187cd7);const _0x2cdbf9=require(a23_0x46f3('0xd2'));const _0x5c5a8d=_0x2cdbf9[a23_0x46f3('0xd3')];_0x5c5a8d(_0x187cd7,function(_0x3d91ea,_0x2be0da){console[a23_0x46f3('0x48')]('err:\x20%j',_0x3d91ea);console['log']('result:\x20%j',_0x2be0da);if(!_0x33f482||_0x33f482==null||_0x33f482==''){_0x33f482=a23_0x46f3('0xd4');}_0x2be0da['rssfeeds']['set'][0x0][a23_0x46f3('0xd5')][0x0]['_']=_0x33f482;const _0x7a0569=new _0x2cdbf9[(a23_0x46f3('0xd6'))]();const _0x18798c=_0x7a0569[a23_0x46f3('0xd7')](_0x2be0da);console[a23_0x46f3('0x48')](a23_0x46f3('0xd8'),_0x18798c);fsExtra[a23_0x46f3('0x4b')](_0x72c05e,_0x18798c);});this[a23_0x46f3('0xd9')](a23_0x46f3('0xda'));this[a23_0x46f3('0xc5')]('Settings.SetSettingValue',{'setting':a23_0x46f3('0xdb'),'value':_0xa1431a},function(_0x2dec82){console[a23_0x46f3('0x48')](a23_0x46f3('0xdc'));console[a23_0x46f3('0x48')](_0x2dec82);}[a23_0x46f3('0x3f')](this));}[a23_0x46f3('0xcf')](_0x3a3005){this[a23_0x46f3('0xc5')](a23_0x46f3('0xdd'),{'setting':'videoplayer.usedisplayasclock','value':_0x3a3005},function(_0x35f445){console[a23_0x46f3('0x48')](a23_0x46f3('0xde'));console[a23_0x46f3('0x48')](_0x35f445);}['bind'](this));}[a23_0x46f3('0xd9')](_0x5bfe88){exec(a23_0x46f3('0xdf')+_0x5bfe88+'\x22',function(_0x11ff6e){console['log'](_0x11ff6e);});}[a23_0x46f3('0xc5')](_0x22be21,_0x2d21fe,_0xcc5be5){const _0x16ff6c={'jsonrpc':a23_0x46f3('0xe0'),'method':_0x22be21,'params':_0x2d21fe,'id':0x1};this['httpClientService']['post'](this[a23_0x46f3('0x26')]+a23_0x46f3('0xe1'),_0x16ff6c,![],{'user':this[a23_0x46f3('0x38')],'pass':this['kodiPassword']})[a23_0x46f3('0x4')](function(_0x574544){_0xcc5be5(_0x574544);})[a23_0x46f3('0x49')](function(_0x3be07d){});}}exports[a23_0x46f3('0xe2')]=SyncPlaylistsService;
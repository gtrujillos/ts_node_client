var a25_0x4333=['checkFolders','loadMediaList','updateSettings','getStatus','bind','registerClient','checkSchedule','playlist','getItems','stringify','deviceUuid','context','version','post','http://restapi.lulo.run/player_devices/register','log','register\x20response:\x20','writeFileSync','player','getCurrentlyPlayingVideo','label','catch','reportStatus','http://restapi.lulo.run/player_devices/report_status','ensureDir','tempFolder','loadMediaList:\x20','newPlayList','playlistChanged','hasPlayListChanged','emptyDirSync','Total\x20to\x20download:\x20','length','download','reloadMediaList','forceReload','existsSync','removeSync','readFileSync','toString','this.currentFile:\x20','\x20of\x20','finishProcess','path','media_type','substring','lastIndexOf','split','slice','join','youtube_single','.mp4','image','**********+','checkVideo','copySync','Downloading:\x20','downloadYouTube','downloader','m3uFileUpdate','refreshPlayer','videoFile:\x20','media','track','@type','Video','mediainfo\x20check:','splice','downloading:\x20','start','push','Error:\x20','end','Downloaded:\x20','destroyed','retry','downloadHTTPFile','Attempting\x20to\x20download\x20','\x20to\x20','Max\x20redirects\x20reached','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','maxSockets','host','pathname','\x20Progress:\x20unknown\x09','\x20Progress:\x20','statusCode','headers','content-length','stat','Have\x20already\x20downloaded\x20','size','And\x20the\x20file\x20size\x20matches\x20(','Redownloading','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(','createWriteStream','pipe','data','error','err:\x20','finish','Downloaded\x20','location','Redirect\x20limit\x20encountered\x20for\x20','302','Problem\x20downloading\x20','\x20STATUS:\x20','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','duration','createImageVideo','downloadRequestFile','mediaType:\x20','video','ffmpeg','-loop','glob','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','http://www.youtube.com/watch?v=','outFileName:\x20','--format=18','--no-check-certificate','info','filename:\x20','_filename','complete','\x20already\x20downloaded.','finished\x20youtube\x20downloading!','Rebooting..','reboot','#EXTINF:0,luloPlayList','DateUtils','start_date','/home/osmc/luloclient/media/files/','trim','kodiCommandClient','PlayMedia(','Rebooting','sudo\x20/sbin/reboot\x20-f','setRss','enableClock','turnOffTV','CECStandby()','CECActivateSource()','/home/osmc/.kodi/userdata/RssFeeds.xml','parseString','err:\x20%j','result:\x20%j','none','rssfeeds','set','feed','Builder','xml:\x20%j','RefreshRSS()','jsonrpcClient','Settings.SetSettingValue','lookandfeel.enablerssfeeds','videoplayer.usedisplayasclock','enableClock:\x20','kodi-send\x20--action=\x22','jsonrpcClient\x20options','/jsonrpc','__awaiter','next','throw','value','then','apply','defineProperty','__esModule','../infrastructure/HttpClientService','./playerService','../infrastructure/utils/dateUtils','node-mediainfo','http','fs-extra','request','request-progress','child_process','spawn','exec','string-template','youtube-dl','uuid/v4','package.json','url-exists','node-kodi','mediaFolder','files/','playListFile','playlist.txt','m3uFile','filesFolder','lulo_playlist.m3u','currentFile','downloadFiles','failDownloadFiles','kodiHost','kodiUser','lulo','kodiPassword','httpClientService','HttpClientService','playerService','PlayerService','init','config','parse','playerId','baseURL','env','WEB_SERVICE_URL','playListServiceURL','api/player_playlist.php?player_id={0}','playerServiceURL','api/player.php?player_id={0}','kodi','checkDependencies'];(function(_0x21d288,_0x2ffa8f){var _0x38950a=function(_0xcfc1f1){while(--_0xcfc1f1){_0x21d288['push'](_0x21d288['shift']());}};_0x38950a(++_0x2ffa8f);}(a25_0x4333,0xad));var a25_0x2e41=function(_0x1648da,_0x417340){_0x1648da=_0x1648da-0x0;var _0x52e164=a25_0x4333[_0x1648da];return _0x52e164;};'use strict';var __awaiter=this&&this[a25_0x2e41('0x0')]||function(_0xcbf48d,_0x5c4bf1,_0x12173d,_0x171ea2){function _0x1adad0(_0x466de2){return _0x466de2 instanceof _0x12173d?_0x466de2:new _0x12173d(function(_0x13d5a8){_0x13d5a8(_0x466de2);});}return new(_0x12173d||(_0x12173d=Promise))(function(_0xa035e7,_0x1452f5){function _0x3cd222(_0x5e3e6c){try{_0x4d4491(_0x171ea2[a25_0x2e41('0x1')](_0x5e3e6c));}catch(_0x62fbac){_0x1452f5(_0x62fbac);}}function _0x39d0f1(_0x4b5244){try{_0x4d4491(_0x171ea2[a25_0x2e41('0x2')](_0x4b5244));}catch(_0x212462){_0x1452f5(_0x212462);}}function _0x4d4491(_0x337c38){_0x337c38['done']?_0xa035e7(_0x337c38['value']):_0x1adad0(_0x337c38[a25_0x2e41('0x3')])[a25_0x2e41('0x4')](_0x3cd222,_0x39d0f1);}_0x4d4491((_0x171ea2=_0x171ea2[a25_0x2e41('0x5')](_0xcbf48d,_0x5c4bf1||[]))[a25_0x2e41('0x1')]());});};Object[a25_0x2e41('0x6')](exports,a25_0x2e41('0x7'),{'value':!![]});const HttpClientService_1=require(a25_0x2e41('0x8'));const playerService_1=require(a25_0x2e41('0x9'));const dateUtils_1=require(a25_0x2e41('0xa'));const mediainfo=require(a25_0x2e41('0xb'));const fs=require('fs');const url=require('url');const http=require(a25_0x2e41('0xc'));const fsExtra=require(a25_0x2e41('0xd'));const request=require(a25_0x2e41('0xe'));const progress=require(a25_0x2e41('0xf'));const spawn=require(a25_0x2e41('0x10'))[a25_0x2e41('0x11')];const exec=require(a25_0x2e41('0x10'))[a25_0x2e41('0x12')];const isImage=require('is-image');const format=require(a25_0x2e41('0x13'));const os=require('os');const youtubedl=require(a25_0x2e41('0x14'));const uuidv4=require(a25_0x2e41('0x15'));const configFile='config.json';const contextFile=a25_0x2e41('0x16');const urlExists=require(a25_0x2e41('0x17'));const kodi_rpc=require(a25_0x2e41('0x18'));const Downloader=require('mt-files-downloader');class SyncPlaylistsService{constructor(){this[a25_0x2e41('0x19')]='media/';this['tempFolder']=this[a25_0x2e41('0x19')]+'temp/';this['filesFolder']=this[a25_0x2e41('0x19')]+a25_0x2e41('0x1a');this[a25_0x2e41('0x1b')]=this[a25_0x2e41('0x19')]+a25_0x2e41('0x1c');this[a25_0x2e41('0x1d')]=this[a25_0x2e41('0x1e')]+a25_0x2e41('0x1f');this[a25_0x2e41('0x20')]=0x0;this['playlistChanged']=![];this[a25_0x2e41('0x21')]=[];this[a25_0x2e41('0x22')]=[];this['newPlayList']={};this[a25_0x2e41('0x23')]='http://192.168.0.109';this[a25_0x2e41('0x24')]=a25_0x2e41('0x25');this[a25_0x2e41('0x26')]='.lulo123.';this['forceReload']=![];this[a25_0x2e41('0x27')]=new HttpClientService_1[(a25_0x2e41('0x28'))]();this[a25_0x2e41('0x29')]=new playerService_1[(a25_0x2e41('0x2a'))]();}[a25_0x2e41('0x2b')](){this[a25_0x2e41('0x2c')]=JSON[a25_0x2e41('0x2d')](fs['readFileSync'](configFile));this['context']=JSON[a25_0x2e41('0x2d')](fs['readFileSync'](contextFile));this[a25_0x2e41('0x2e')]=this[a25_0x2e41('0x2c')][a25_0x2e41('0x2e')];this[a25_0x2e41('0x2f')]=process[a25_0x2e41('0x30')][a25_0x2e41('0x31')]+'deploy/';this[a25_0x2e41('0x32')]=this[a25_0x2e41('0x2f')]+a25_0x2e41('0x33');this[a25_0x2e41('0x34')]=this[a25_0x2e41('0x2f')]+a25_0x2e41('0x35');this[a25_0x2e41('0x36')]=new kodi_rpc({'url':this['kodiHost'],'user':this['kodiUser'],'password':this['kodiPassword']});this[a25_0x2e41('0x37')]();this['registerClient']();this[a25_0x2e41('0x38')]();this[a25_0x2e41('0x39')]();this[a25_0x2e41('0x3a')]();setInterval(function(){this[a25_0x2e41('0x3b')]();}[a25_0x2e41('0x3c')](this),0x2710);setInterval(function(){this[a25_0x2e41('0x3d')]();}['bind'](this),0x493e0);setInterval(function(){this[a25_0x2e41('0x3e')]();}['bind'](this),0x2710);}['checkDependencies'](){}['registerClient'](){this[a25_0x2e41('0x36')][a25_0x2e41('0x3f')][a25_0x2e41('0x40')](0x1)[a25_0x2e41('0x4')](function(_0x58ec8a){const _0x2f5d7f=JSON[a25_0x2e41('0x41')](_0x58ec8a);const _0x3e347b={'player_id':this[a25_0x2e41('0x2e')],'device_uuid':this[a25_0x2e41('0x2c')][a25_0x2e41('0x42')],'network_info':JSON[a25_0x2e41('0x41')](os['networkInterfaces']()),'firmware_info':JSON[a25_0x2e41('0x41')](this[a25_0x2e41('0x43')][a25_0x2e41('0x44')]),'playlist':_0x2f5d7f,'playing_item':'','status':0x0};this[a25_0x2e41('0x27')][a25_0x2e41('0x45')](a25_0x2e41('0x46'),_0x3e347b,![])['then'](function(_0x261c4d){console[a25_0x2e41('0x47')](a25_0x2e41('0x48')+Date());})['catch'](function(_0x4f5184){});console[a25_0x2e41('0x47')](_0x3e347b);}[a25_0x2e41('0x3c')](this));const _0xdf3fb7=this[a25_0x2e41('0x2c')][a25_0x2e41('0x42')];if(!_0xdf3fb7||_0xdf3fb7==''){this['config'][a25_0x2e41('0x42')]=uuidv4();this[a25_0x2e41('0x2c')]={'deviceUuid':this[a25_0x2e41('0x2c')]['deviceUuid'],'playerId':this['config'][a25_0x2e41('0x2e')]};fs[a25_0x2e41('0x49')](configFile,JSON['stringify'](this[a25_0x2e41('0x2c')]));}}[a25_0x2e41('0x3b')](){console[a25_0x2e41('0x47')](a25_0x2e41('0x3b'));this[a25_0x2e41('0x36')][a25_0x2e41('0x4a')][a25_0x2e41('0x4b')]()[a25_0x2e41('0x4')](function(_0x405baf){const _0x52c4a7=_0x405baf['item'][a25_0x2e41('0x4c')];this['reportStatus'](_0x52c4a7);}['bind'](this))[a25_0x2e41('0x4d')](function(_0x6cb07e){console[a25_0x2e41('0x47')](_0x6cb07e);this[a25_0x2e41('0x4e')](JSON[a25_0x2e41('0x41')](_0x6cb07e));}['bind'](this));}[a25_0x2e41('0x4e')](_0x2c7937){console['log']('reportStatus\x20playingItem:\x20'+_0x2c7937);const _0x520e4d={'player_id':this[a25_0x2e41('0x2e')],'device_uuid':this[a25_0x2e41('0x2c')][a25_0x2e41('0x42')],'status':_0x2c7937!=''&&_0x2c7937!=null?0x1:0x0,'playing_item':_0x2c7937};this['httpClientService']['post'](a25_0x2e41('0x4f'),_0x520e4d,![])['then'](function(_0x985655){console[a25_0x2e41('0x47')]('reportStatusResponse');})[a25_0x2e41('0x4d')](function(_0x45fd29){});}[a25_0x2e41('0x38')](){fsExtra['ensureDir'](this['mediaFolder'],_0x172599=>{});fsExtra[a25_0x2e41('0x50')](this[a25_0x2e41('0x51')],_0xb1dc3f=>{});fsExtra[a25_0x2e41('0x50')](this[a25_0x2e41('0x1e')],_0x455775=>{});}[a25_0x2e41('0x39')](){const _0x276ce8=format(this[a25_0x2e41('0x32')],this[a25_0x2e41('0x2e')]);console[a25_0x2e41('0x47')](_0x276ce8);request({'url':_0x276ce8,'json':!![]},function(_0x4d846b,_0xf5fd3e,_0x27896a){console[a25_0x2e41('0x47')](a25_0x2e41('0x52'));this[a25_0x2e41('0x53')]=_0x27896a;this[a25_0x2e41('0x54')]=this[a25_0x2e41('0x55')]();fsExtra[a25_0x2e41('0x56')](this['tempFolder']);this['downloadFiles']=[];this['failDownloadFiles']=[];this[a25_0x2e41('0x20')]=0x0;for(const _0x467b8d in _0x27896a){this[a25_0x2e41('0x21')]['push'](_0x27896a[_0x467b8d]);}console[a25_0x2e41('0x47')](a25_0x2e41('0x57')+this[a25_0x2e41('0x21')][a25_0x2e41('0x58')]);if(this[a25_0x2e41('0x21')][a25_0x2e41('0x58')]>0x0){this[a25_0x2e41('0x59')]();}}['bind'](this));}[a25_0x2e41('0x5a')](){this[a25_0x2e41('0x5b')]=!![];if(fsExtra[a25_0x2e41('0x5c')](this[a25_0x2e41('0x51')])){fsExtra[a25_0x2e41('0x56')](this[a25_0x2e41('0x51')]);}if(fsExtra[a25_0x2e41('0x5c')](this[a25_0x2e41('0x1e')])){fsExtra[a25_0x2e41('0x56')](this['filesFolder']);}if(!fsExtra[a25_0x2e41('0x5c')](this[a25_0x2e41('0x1b')])){fsExtra[a25_0x2e41('0x5d')](this[a25_0x2e41('0x1b')]);}if(!fsExtra['existsSync'](this[a25_0x2e41('0x1d')])){fsExtra[a25_0x2e41('0x5d')](this[a25_0x2e41('0x1d')]);}this[a25_0x2e41('0x39')]();}[a25_0x2e41('0x55')](){const _0x1c22d6=JSON[a25_0x2e41('0x41')](this[a25_0x2e41('0x53')]);try{if(!fsExtra[a25_0x2e41('0x5c')](this[a25_0x2e41('0x1b')])){return!![];}else{const _0xe434ff=fsExtra[a25_0x2e41('0x5e')](this[a25_0x2e41('0x1b')])[a25_0x2e41('0x5f')]();if(_0xe434ff!=_0x1c22d6){return!![];}}}catch(_0x209e69){console[a25_0x2e41('0x47')](_0x209e69);}return![];}[a25_0x2e41('0x59')](){console[a25_0x2e41('0x47')](a25_0x2e41('0x60')+this[a25_0x2e41('0x20')]+a25_0x2e41('0x61')+this['downloadFiles'][a25_0x2e41('0x58')]);if(this[a25_0x2e41('0x20')]>=this[a25_0x2e41('0x21')]['length']){this[a25_0x2e41('0x62')]();return;}const _0x3b2ffc=String(this[a25_0x2e41('0x21')][this['currentFile']][a25_0x2e41('0x63')]);const _0x126492=this[a25_0x2e41('0x21')][this[a25_0x2e41('0x20')]][a25_0x2e41('0x64')];let _0x214238=_0x3b2ffc[a25_0x2e41('0x65')](_0x3b2ffc[a25_0x2e41('0x66')]('/')+0x1);const _0x45938f=_0x214238[a25_0x2e41('0x67')]('.')['slice'](0x0,-0x1)['join']('.');let _0x36d5c4=this[a25_0x2e41('0x2f')]+_0x3b2ffc;const _0xfd490a=_0x36d5c4['split']('.')[a25_0x2e41('0x68')](0x0,-0x1)[a25_0x2e41('0x69')]('.');if(_0x126492==a25_0x2e41('0x6a')){_0x214238=_0x214238+a25_0x2e41('0x6b');}else if(_0x126492==a25_0x2e41('0x6c')){_0x214238=_0x45938f+a25_0x2e41('0x6b');_0x36d5c4=_0xfd490a+a25_0x2e41('0x6b');}console['log']('**********+');console[a25_0x2e41('0x47')](_0x3b2ffc);console['log'](_0x126492);console[a25_0x2e41('0x47')](_0x214238);console[a25_0x2e41('0x47')](_0x36d5c4);console['log'](_0x45938f);console[a25_0x2e41('0x47')](_0xfd490a);console['log'](a25_0x2e41('0x6d'));if(fsExtra[a25_0x2e41('0x5c')](this[a25_0x2e41('0x51')]+_0x214238)){this[a25_0x2e41('0x6e')](this[a25_0x2e41('0x51')]+_0x214238)['then'](function(_0x391fab){if(_0x391fab){this[a25_0x2e41('0x20')]++;}else{this['playlistChanged']=!![];}this[a25_0x2e41('0x59')]();}[a25_0x2e41('0x3c')](this));}else if(fsExtra['existsSync'](this[a25_0x2e41('0x1e')]+_0x214238)){this[a25_0x2e41('0x6e')](this[a25_0x2e41('0x1e')]+_0x214238)[a25_0x2e41('0x4')](function(_0x45ad6d){if(_0x45ad6d){fsExtra[a25_0x2e41('0x6f')](this[a25_0x2e41('0x1e')]+_0x214238,this[a25_0x2e41('0x51')]+_0x214238);this[a25_0x2e41('0x20')]++;}else{this[a25_0x2e41('0x54')]=!![];}this['download']();}[a25_0x2e41('0x3c')](this));}else{console['log'](a25_0x2e41('0x70')+_0x36d5c4);this['playlistChanged']=!![];if(_0x126492==a25_0x2e41('0x6a')){this[a25_0x2e41('0x71')](_0x3b2ffc);}else{this[a25_0x2e41('0x72')](_0x36d5c4,_0x214238,_0x126492);}}}[a25_0x2e41('0x3e')](){const _0x3d27cd=this[a25_0x2e41('0x73')]();console['log'](a25_0x2e41('0x73'),_0x3d27cd);if(_0x3d27cd){this[a25_0x2e41('0x74')]();}}[a25_0x2e41('0x6e')](_0x246f07){return __awaiter(this,void 0x0,void 0x0,function*(){console[a25_0x2e41('0x47')](a25_0x2e41('0x75')+_0x246f07);const _0x5d312f=yield mediainfo(_0x246f07)[a25_0x2e41('0x4d')](_0x534bfc=>{console[a25_0x2e41('0x47')](_0x534bfc);fsExtra['removeSync'](_0x246f07);return![];});const _0x3cb909=_0x5d312f[a25_0x2e41('0x76')]['track'][a25_0x2e41('0x58')]>0x1&&_0x5d312f['media'][a25_0x2e41('0x77')][0x1][a25_0x2e41('0x78')]==a25_0x2e41('0x79');if(!_0x3cb909){fsExtra['removeSync'](_0x246f07);}console[a25_0x2e41('0x47')](a25_0x2e41('0x7a')+_0x3cb909);return _0x3cb909;});}[a25_0x2e41('0x72')](_0x3b3928,_0x258185,_0x23697b){const _0x21df47=new Downloader();console[a25_0x2e41('0x47')](_0x3b3928);console[a25_0x2e41('0x47')](_0x258185);console[a25_0x2e41('0x47')](_0x23697b);const _0x235ff0=_0x21df47[a25_0x2e41('0x59')](_0x3b3928,this[a25_0x2e41('0x51')]+_0x258185);urlExists(_0x3b3928,function(_0x5a57ed,_0x429c05){if(_0x429c05){if(this[a25_0x2e41('0x22')]['includes'](this[a25_0x2e41('0x20')])){const _0xb958d3=this[a25_0x2e41('0x22')]['indexOf'](this[a25_0x2e41('0x20')]);if(_0xb958d3>-0x1){this[a25_0x2e41('0x22')][a25_0x2e41('0x7b')](_0xb958d3,0x1);}}console['log'](a25_0x2e41('0x7c')+_0x3b3928);_0x235ff0[a25_0x2e41('0x7d')]();}else{if(!this[a25_0x2e41('0x22')]['includes'](this[a25_0x2e41('0x20')])){this[a25_0x2e41('0x22')][a25_0x2e41('0x7e')](this['currentFile']);}console[a25_0x2e41('0x47')](a25_0x2e41('0x7f')+_0x3b3928);this[a25_0x2e41('0x20')]++;this[a25_0x2e41('0x59')]();}}[a25_0x2e41('0x3c')](this));_0x235ff0['on'](a25_0x2e41('0x7d'),function(_0x235ff0){console[a25_0x2e41('0x47')]('start:\x20'+_0x3b3928);});_0x235ff0['on']('error',function(_0x235ff0){console[a25_0x2e41('0x47')]('error:\x20');this['download']();}[a25_0x2e41('0x3c')](this));_0x235ff0['on'](a25_0x2e41('0x80'),function(_0x235ff0){console[a25_0x2e41('0x47')](a25_0x2e41('0x80'));console[a25_0x2e41('0x47')](a25_0x2e41('0x81')+_0x258185);console[a25_0x2e41('0x47')]('mediaType:\x20'+_0x23697b);this[a25_0x2e41('0x6e')](this['tempFolder']+_0x258185)['then'](function(_0x387b24){if(_0x387b24){this[a25_0x2e41('0x20')]++;}this[a25_0x2e41('0x59')]();}[a25_0x2e41('0x3c')](this));}[a25_0x2e41('0x3c')](this));_0x235ff0['on']('stopped',function(_0x235ff0){console[a25_0x2e41('0x47')]('stopped');});_0x235ff0['on'](a25_0x2e41('0x82'),function(_0x235ff0){console[a25_0x2e41('0x47')](a25_0x2e41('0x82'));});_0x235ff0['on'](a25_0x2e41('0x83'),function(_0x235ff0){console['log']('retry');});}[a25_0x2e41('0x84')](_0x2ce4b3,_0x3040de,_0x54a690,_0x389874){console[a25_0x2e41('0x47')](a25_0x2e41('0x84'));console[a25_0x2e41('0x47')](_0x2ce4b3);const _0xf6db5d=!![];let _0x359a09=0x0;const _0x142df3='';console['log'](a25_0x2e41('0x85')+_0x2ce4b3+a25_0x2e41('0x86')+_0x3040de);if(_0x359a09){if(_0x359a09>0x5){_0x389874(a25_0x2e41('0x87'),_0x2ce4b3,_0x54a690,null);return;}}else{_0x359a09=0x0;}const _0x23c5aa=this['tempFolder']+_0x3040de;let _0x377170;if(_0x389874===undefined){console[a25_0x2e41('0x47')](a25_0x2e41('0x88')+_0x2ce4b3+a25_0x2e41('0x86')+_0x23c5aa);_0x389874=function(_0x3d1597,_0x47227a){console[a25_0x2e41('0x47')]('downloadFile\x20callback\x20result\x20undefined:\x20',_0x3d1597,_0x47227a);};}http['globalAgent'][a25_0x2e41('0x89')]=0x64;const _0x3aa008={'host':url[a25_0x2e41('0x2d')](_0x2ce4b3)[a25_0x2e41('0x8a')],'port':0x50,'path':url[a25_0x2e41('0x2d')](_0x2ce4b3)[a25_0x2e41('0x8b')],'agent':![]};const _0x54c511=http['get'](_0x3aa008,function(_0xd0aa37){let _0x80be9a=0x0;let _0x55a152=0x0;function _0x13b7be(){if(_0x80be9a===undefined){console[a25_0x2e41('0x47')](_0x3040de+a25_0x2e41('0x8c')+_0x55a152+'/'+'?');}const _0x293053=_0x55a152/_0x80be9a*0x64;console[a25_0x2e41('0x47')](_0x3040de+a25_0x2e41('0x8d')+_0x293053+'%\x09'+_0x55a152+'/'+_0x80be9a);}console['log'](_0x3040de+'\x20'+_0xd0aa37[a25_0x2e41('0x8e')]);switch(_0xd0aa37[a25_0x2e41('0x8e')]){case 0xc8:_0x80be9a=_0xd0aa37[a25_0x2e41('0x8f')][a25_0x2e41('0x90')]||_0x142df3;fs[a25_0x2e41('0x91')](_0x23c5aa,function(_0x532f44,_0x40277c){if(!_0x532f44){console[a25_0x2e41('0x47')](a25_0x2e41('0x92')+_0x23c5aa);if(_0x40277c[a25_0x2e41('0x93')]==_0x80be9a){console['log'](a25_0x2e41('0x94')+_0x80be9a+')');console[a25_0x2e41('0x47')](a25_0x2e41('0x95'));}else{console[a25_0x2e41('0x47')](a25_0x2e41('0x96')+_0x40277c[a25_0x2e41('0x93')]+')\x20vs\x20New('+_0x80be9a+')');}}_0x377170=fs[a25_0x2e41('0x97')](_0x23c5aa);_0xd0aa37[a25_0x2e41('0x98')](_0x377170);_0xd0aa37['on'](a25_0x2e41('0x99'),function(_0x169de3){_0x55a152+=_0x169de3[a25_0x2e41('0x58')];_0x13b7be();});_0x54c511['on'](a25_0x2e41('0x9a'),function(_0x532f44){console[a25_0x2e41('0x47')](a25_0x2e41('0x9b'));console[a25_0x2e41('0x47')](_0x532f44);});_0x377170['on'](a25_0x2e41('0x9c'),function(){console['log'](a25_0x2e41('0x9d')+_0x2ce4b3+'\x20to\x20'+_0x3040de);_0x389874(null,_0x3040de,_0x54a690,_0x3040de);}[a25_0x2e41('0x3c')](this));});break;case 0x12e:const _0x16f53a=_0xd0aa37[a25_0x2e41('0x8f')][a25_0x2e41('0x9e')];console[a25_0x2e41('0x47')]('Redirect\x20'+_0x2ce4b3+'\x20to\x20'+_0x16f53a);if(_0x359a09<0x5){this[a25_0x2e41('0x84')](_0x16f53a,_0x3040de,_0x389874,_0x359a09++);}else{console['error'](a25_0x2e41('0x9f')+_0x2ce4b3+'.');_0x389874(a25_0x2e41('0xa0'),null,null,null);}return;case 0x194:console[a25_0x2e41('0x47')]('File\x20Not\x20Found\x20'+_0x2ce4b3);default:console[a25_0x2e41('0x47')](a25_0x2e41('0xa1')+_0x2ce4b3+a25_0x2e41('0xa2')+_0xd0aa37[a25_0x2e41('0x8e')]);_0x54c511['abort']();_0x389874(_0xd0aa37[a25_0x2e41('0x8e')],null,null,null);return;}})['on'](a25_0x2e41('0x9a'),function(_0xbbd1d4){console[a25_0x2e41('0x47')](a25_0x2e41('0xa3')+_0x2ce4b3+'\x20'+_0xbbd1d4[a25_0x2e41('0xa4')]);_0x389874(_0xbbd1d4,null,null,null);});}[a25_0x2e41('0xa5')](_0x4908bc,_0x501a52,_0x18e543,_0x5c52ea){console[a25_0x2e41('0x47')](a25_0x2e41('0xa5'));console['log'](_0x4908bc);console[a25_0x2e41('0x47')](_0x501a52);console[a25_0x2e41('0x47')](_0x18e543);console[a25_0x2e41('0x47')](_0x5c52ea);if(_0x18e543==a25_0x2e41('0x6c')){const _0x31e73d=this['downloadFiles'][this['currentFile']]['duration']!=null?this[a25_0x2e41('0x21')][this[a25_0x2e41('0x20')]][a25_0x2e41('0xa6')]:0x1e;this[a25_0x2e41('0xa7')](_0x5c52ea,_0x31e73d);}else if(_0x18e543=='video'){if(_0x4908bc==null&&_0x501a52!=''){this[a25_0x2e41('0x20')]++;}this[a25_0x2e41('0x59')]();}console[a25_0x2e41('0x47')](this[a25_0x2e41('0x20')]);}[a25_0x2e41('0xa8')](_0x1dd7d5,_0x4d525b,_0x8f3663){progress(request(_0x1dd7d5),{})['on']('progress',function(_0x3bddf5){console[a25_0x2e41('0x47')](_0x3bddf5);})['on'](a25_0x2e41('0x9a'),function(_0x590c22){console['log']('Error\x20downloading\x20file');this[a25_0x2e41('0x59')]();})['on'](a25_0x2e41('0x80'),function(){console[a25_0x2e41('0x47')]('Downloaded:\x20'+_0x4d525b);console[a25_0x2e41('0x47')](a25_0x2e41('0xa9')+_0x8f3663);if(_0x8f3663==a25_0x2e41('0x6c')){const _0x12b917=this[a25_0x2e41('0x21')][this[a25_0x2e41('0x20')]][a25_0x2e41('0xa6')]!=null?this[a25_0x2e41('0x21')][this['currentFile']]['duration']:0x1e;this['createImageVideo'](_0x4d525b,_0x12b917);}else if(_0x8f3663==a25_0x2e41('0xaa')){this[a25_0x2e41('0x20')]++;this[a25_0x2e41('0x59')]();}}['bind'](this))['pipe'](fs['createWriteStream'](this[a25_0x2e41('0x51')]+_0x4d525b));}[a25_0x2e41('0xa7')](_0x3a9a15,_0x1c7a80=0x1e){const _0x16a391=this['tempFolder']+_0x3a9a15;console['log'](_0x16a391);console['log'](_0x3a9a15);const _0x461ccc=_0x3a9a15['split']('.')['slice'](0x0,-0x1)[a25_0x2e41('0x69')]('.');const _0x13d455=a25_0x2e41('0xab');const _0x454826=['-y','-r','1/2',a25_0x2e41('0xac'),'1','-pattern_type',a25_0x2e41('0xad'),'-i',_0x16a391,'-t',String(_0x1c7a80),'-c:v',a25_0x2e41('0xae'),a25_0x2e41('0xaf'),a25_0x2e41('0xb0'),'-r','25',a25_0x2e41('0xb1'),a25_0x2e41('0xb2'),this[a25_0x2e41('0x51')]+_0x461ccc+a25_0x2e41('0x6b')];const _0x32867b=spawn(_0x13d455,_0x454826);_0x32867b['stdout']['on'](a25_0x2e41('0x99'),function(_0x28de39){console[a25_0x2e41('0x47')](a25_0x2e41('0xb3')+_0x16a391);});_0x32867b[a25_0x2e41('0xb4')]['on']('data',function(_0x55c22e){console[a25_0x2e41('0x47')](a25_0x2e41('0xb5')+_0x55c22e);}['bind'](this));_0x32867b['on'](a25_0x2e41('0xb6'),function(){console[a25_0x2e41('0x47')](a25_0x2e41('0xb7'));this['currentFile']++;this[a25_0x2e41('0x59')]();}[a25_0x2e41('0x3c')](this));}[a25_0x2e41('0x71')](_0x17a4b8){const _0x4236b8=this[a25_0x2e41('0x51')]+'/'+_0x17a4b8+a25_0x2e41('0x6b');const _0x3dbe2d=a25_0x2e41('0xb8')+_0x17a4b8;console['log']('youtubeURL:\x20'+_0x3dbe2d);console[a25_0x2e41('0x47')](a25_0x2e41('0xb9')+_0x4236b8);const _0x3f6a59=youtubedl(_0x3dbe2d,[a25_0x2e41('0xba'),a25_0x2e41('0xbb')],{'cwd':__dirname});_0x3f6a59['on'](a25_0x2e41('0xbc'),function(_0x32d2ac){console[a25_0x2e41('0x47')]('Download\x20started');console[a25_0x2e41('0x47')](a25_0x2e41('0xbd')+_0x32d2ac[a25_0x2e41('0xbe')]);console[a25_0x2e41('0x47')]('size:\x20'+_0x32d2ac[a25_0x2e41('0x93')]);});_0x3f6a59['on'](a25_0x2e41('0xbf'),function complete(_0x3effa1){'use strict';console[a25_0x2e41('0x47')](a25_0x2e41('0xbd')+_0x3effa1[a25_0x2e41('0xbe')]+a25_0x2e41('0xc0'));});_0x3f6a59['on']('end',function(){console[a25_0x2e41('0x47')](a25_0x2e41('0xc1'));this[a25_0x2e41('0x6e')](_0x4236b8)[a25_0x2e41('0x4')](function(_0x101e2a){if(_0x101e2a){this[a25_0x2e41('0x20')]++;}this['download']();}[a25_0x2e41('0x3c')](this));}[a25_0x2e41('0x3c')](this));_0x3f6a59[a25_0x2e41('0x98')](fs[a25_0x2e41('0x97')](_0x4236b8));}[a25_0x2e41('0x62')](){console['log']('Finishing');if(this[a25_0x2e41('0x54')]){if(this[a25_0x2e41('0x22')][a25_0x2e41('0x58')]==0x0){console[a25_0x2e41('0x47')]('this.playListFile:\x20'+this[a25_0x2e41('0x1b')]);fs['writeFileSync'](this['playListFile'],JSON[a25_0x2e41('0x41')](this[a25_0x2e41('0x53')]));fsExtra[a25_0x2e41('0x56')](this[a25_0x2e41('0x1e')]);fsExtra[a25_0x2e41('0x6f')](this[a25_0x2e41('0x51')],this[a25_0x2e41('0x1e')]);fsExtra[a25_0x2e41('0x56')](this[a25_0x2e41('0x51')]);const _0x40bcde=this[a25_0x2e41('0x73')]();console['log'](a25_0x2e41('0xc2'));this[a25_0x2e41('0xc3')]();}else{console['log']('Playlist\x20incomplete,\x20retry.');this[a25_0x2e41('0x20')]=0x0;setTimeout(function(){this['download']();}[a25_0x2e41('0x3c')](this),0x1388);}}else{console['log']('No\x20playlist\x20changes.');}}['m3uFileUpdate'](){let _0x1bcae6='#EXTCPlayListM3U::M3U'+'\x0d\x0a'+a25_0x2e41('0xc4')+'\x0d\x0a';const _0xc3590e=new Date();for(const _0x2b7192 in this[a25_0x2e41('0x21')]){const _0x1763bb=this[a25_0x2e41('0x21')][_0x2b7192][a25_0x2e41('0x63')];const _0x158d82=this[a25_0x2e41('0x21')][_0x2b7192][a25_0x2e41('0x64')];const _0x2db0a2=dateUtils_1[a25_0x2e41('0xc5')]['Parse'](this['downloadFiles'][_0x2b7192][a25_0x2e41('0xc6')]);const _0x4cc878=dateUtils_1[a25_0x2e41('0xc5')]['Parse'](this['downloadFiles'][_0x2b7192]['end_date']);const _0xbc0455=_0x1763bb[a25_0x2e41('0x65')](_0x1763bb[a25_0x2e41('0x66')]('/')+0x1);let _0x40c98f=_0xbc0455[a25_0x2e41('0x67')]('.')[a25_0x2e41('0x68')](0x0,-0x1)[a25_0x2e41('0x69')]('.');if(_0x158d82==a25_0x2e41('0x6a')){_0x40c98f=_0x1763bb;}if((_0x2db0a2==null||_0x2db0a2<_0xc3590e)&&(_0x4cc878==null||_0x4cc878>_0xc3590e)){_0x1bcae6+=a25_0x2e41('0xc7')+_0x40c98f+'.mp4'+'\x0d\x0a';}}let _0x5705df='';if(fsExtra[a25_0x2e41('0x5c')](this[a25_0x2e41('0x1d')])){_0x5705df=fsExtra[a25_0x2e41('0x5e')](this[a25_0x2e41('0x1d')]);_0x5705df=_0x5705df[a25_0x2e41('0x5f')]()['trim']();}_0x1bcae6=_0x1bcae6['toString']()[a25_0x2e41('0xc8')]();if(_0x5705df!=_0x1bcae6){fsExtra[a25_0x2e41('0x49')](this[a25_0x2e41('0x1d')],_0x1bcae6);return!![];}return![];}[a25_0x2e41('0x74')](){this[a25_0x2e41('0xc9')](a25_0x2e41('0xca')+this[a25_0x2e41('0x1d')]+')');}['reboot'](){console[a25_0x2e41('0x47')](a25_0x2e41('0xcb'));exec(a25_0x2e41('0xcc'),function(_0xd5ad68){console[a25_0x2e41('0x47')](_0xd5ad68);});}['updateSettings'](){const _0x302d63=format(this[a25_0x2e41('0x34')],this[a25_0x2e41('0x2e')]);console[a25_0x2e41('0x47')](_0x302d63);request({'url':_0x302d63,'json':!![]},function(_0x2b1521,_0x283303,_0xb41d07){if(_0xb41d07[a25_0x2e41('0x58')]>0x0){const _0x39981a=_0xb41d07[0x0];const _0x14619b=_0x39981a['rss'];const _0x3d509c=_0x39981a['header_active']==0x1;this[a25_0x2e41('0xcd')](_0x14619b);this[a25_0x2e41('0xce')](_0x3d509c);this['registerClient']();}console[a25_0x2e41('0x47')](_0xb41d07);}[a25_0x2e41('0x3c')](this));}[a25_0x2e41('0xcf')](){this[a25_0x2e41('0xc9')](a25_0x2e41('0xd0'));}['turnOnTV'](){this[a25_0x2e41('0xc9')](a25_0x2e41('0xd1'));}[a25_0x2e41('0xcd')](_0xf221bf){const _0x5b195c=_0xf221bf!=null&&_0xf221bf!='';const _0x4eb16f=a25_0x2e41('0xd2');if(fsExtra[a25_0x2e41('0x5c')](_0x4eb16f)){const _0x1e5fed=fsExtra[a25_0x2e41('0x5e')](_0x4eb16f);console[a25_0x2e41('0x47')]('xmlContent:\x20'+_0x1e5fed);const _0xe6b293=require('xml2js');const _0x308ab4=_0xe6b293[a25_0x2e41('0xd3')];_0x308ab4(_0x1e5fed,function(_0x11ffad,_0x2fef8f){console[a25_0x2e41('0x47')](a25_0x2e41('0xd4'),_0x11ffad);console[a25_0x2e41('0x47')](a25_0x2e41('0xd5'),_0x2fef8f);if(!_0xf221bf||_0xf221bf==null||_0xf221bf==''){_0xf221bf=a25_0x2e41('0xd6');}_0x2fef8f[a25_0x2e41('0xd7')][a25_0x2e41('0xd8')][0x0][a25_0x2e41('0xd9')][0x0]['_']=_0xf221bf;const _0x47ec01=new _0xe6b293[(a25_0x2e41('0xda'))]();const _0x3cca9f=_0x47ec01['buildObject'](_0x2fef8f);console[a25_0x2e41('0x47')](a25_0x2e41('0xdb'),_0x3cca9f);fsExtra[a25_0x2e41('0x49')](_0x4eb16f,_0x3cca9f);});this['kodiCommandClient'](a25_0x2e41('0xdc'));this[a25_0x2e41('0xdd')](a25_0x2e41('0xde'),{'setting':a25_0x2e41('0xdf'),'value':_0x5b195c},function(_0x3a2c26){console['log']('setRss:');console['log'](_0x3a2c26);}[a25_0x2e41('0x3c')](this));}}[a25_0x2e41('0xce')](_0x3c04df){this['jsonrpcClient']('Settings.SetSettingValue',{'setting':a25_0x2e41('0xe0'),'value':_0x3c04df},function(_0x521479){console['log'](a25_0x2e41('0xe1'));console[a25_0x2e41('0x47')](_0x521479);}[a25_0x2e41('0x3c')](this));}[a25_0x2e41('0xc9')](_0x2ca185){exec(a25_0x2e41('0xe2')+_0x2ca185+'\x22',function(_0x1a266f){console[a25_0x2e41('0x47')](_0x1a266f);});}[a25_0x2e41('0xdd')](_0x4e44cd,_0xdc76e3,_0x27a141){const _0x47f1af={'jsonrpc':'2.0','method':_0x4e44cd,'params':_0xdc76e3,'id':0x1};const _0x2715c9={'user':this[a25_0x2e41('0x24')],'pass':this['kodiPassword']};console['log']('jsonrpcClient\x20data',_0x47f1af);console[a25_0x2e41('0x47')](a25_0x2e41('0xe3'),_0x2715c9);this['httpClientService'][a25_0x2e41('0x45')](this[a25_0x2e41('0x23')]+a25_0x2e41('0xe4'),_0x47f1af,![],_0x2715c9)[a25_0x2e41('0x4')](function(_0x235514){_0x27a141(_0x235514);})['catch'](function(_0x76918c){});}}exports['SyncPlaylistsService']=SyncPlaylistsService;
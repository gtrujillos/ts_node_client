var a23_0x24c9=['url','http','request','request-progress','child_process','spawn','is-image','string-template','youtube-dl','uuid/v4','config.json','node-kodi','mediaFolder','media/','filesFolder','files/','playListFile','playlist.txt','m3uFile','lulo_playlist.m3u','currentFile','downloadFiles','failDownloadFiles','newPlayList','kodiHost','http://localhost','kodiUser','lulo','kodiPassword','forceReload','httpClientService','HttpClientService','PlayerService','config','parse','readFileSync','context','playerId','env','WEB_SERVICE_URL','deploy/','playListServiceURL','baseURL','api/player_playlist.php?player_id={0}','playerServiceURL','api/player.php?player_id={0}','registerClient','checkFolders','loadMediaList','updateSettings','getStatus','bind','checkDependencies','kodi','stringify','deviceUuid','http://restapi.lulo.run/player_devices/register','log','catch','getCurrentlyPlayingVideo','label','reportStatus','reportStatusResponse:\x20','ensureDir','playlistChanged','hasPlayListChanged','emptyDirSync','tempFolder','push','existsSync','removeSync','toString','download','this.currentFile:\x20','\x20of\x20','length','finishProcess','media_type','lastIndexOf','join','slice','youtube_single','.mp4','image','**********+','checkVideo','copySync','Downloading:\x20','downloadYouTube','downloader','videoFile:\x20','media','track','@type','Video','mediainfo\x20check:','includes','indexOf','downloading:\x20','start','start:\x20','error','error:\x20','end','Downloaded:\x20','mediaType:\x20','stopped','retry','downloadHTTPFile','\x20to\x20','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','downloadFile\x20callback\x20result\x20undefined:\x20','maxSockets','host','pathname','get','\x20Progress:\x20unknown\x09','\x20Progress:\x20','statusCode','headers','content-length','stat','size','And\x20the\x20file\x20size\x20matches\x20(','Redownloading','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(',')\x20vs\x20New(','createWriteStream','pipe','data','err:\x20','finish','Downloaded\x20','Redirect\x20','Redirect\x20limit\x20encountered\x20for\x20','302','File\x20Not\x20Found\x20','Problem\x20downloading\x20','\x20STATUS:\x20','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','duration','video','downloadRequestFile','progress','Error\x20downloading\x20file','createImageVideo','split','ffmpeg','1/2','-pattern_type','glob','libx264','-pix_fmt','-vf','scale=1920:1080','stdout','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','--format=18','info','Download\x20started','filename:\x20','_filename','size:\x20','complete','\x20already\x20downloaded.','writeFileSync','#EXTINF:0,luloPlayList','path','/home/osmc/luloclient/media/files/','Refreshing..','refreshPlayer','Playlist\x20incomplete,\x20retry.','jsonrpcClient','Playlist.Clear','Playlist.Cleared','Playlist.Add','//home/osmc/luloclient/media/files/lulo_playlist.m3u','Player.Open','kodiCommandClient','RestartApp()','reboot','Rebooting','Reboot()','rss','setRss','/home/osmc/.kodi/userdata/RssFeeds.xml','xmlContent:\x20','xml2js','parseString','err:\x20%j','result:\x20%j','rssfeeds','feed','Builder','lookandfeel.enablerssfeeds','Settings.SetSettingValue','videoplayer.usedisplayasclock','enableClock:\x20','kodi-send\x20--action=\x22','2.0','post','/jsonrpc','SyncPlaylistsService','__awaiter','throw','done','value','then','apply','next','defineProperty','__esModule','../infrastructure/HttpClientService','./playerService','node-mediainfo'];(function(_0x581b98,_0x12fab9){var _0x2fb98b=function(_0x3faea1){while(--_0x3faea1){_0x581b98['push'](_0x581b98['shift']());}};_0x2fb98b(++_0x12fab9);}(a23_0x24c9,0x1ae));var a23_0x27cf=function(_0x350d1e,_0x1600a3){_0x350d1e=_0x350d1e-0x0;var _0x16e0e8=a23_0x24c9[_0x350d1e];return _0x16e0e8;};'use strict';var __awaiter=this&&this[a23_0x27cf('0x0')]||function(_0x42ade7,_0x4bfbfe,_0x2bf99b,_0x3b7aad){function _0x28733c(_0x5b1bfd){return _0x5b1bfd instanceof _0x2bf99b?_0x5b1bfd:new _0x2bf99b(function(_0x22003b){_0x22003b(_0x5b1bfd);});}return new(_0x2bf99b||(_0x2bf99b=Promise))(function(_0x447fb4,_0x570226){function _0x169565(_0x31567b){try{_0x864539(_0x3b7aad['next'](_0x31567b));}catch(_0x4b74b8){_0x570226(_0x4b74b8);}}function _0x2936e7(_0x2afa91){try{_0x864539(_0x3b7aad[a23_0x27cf('0x1')](_0x2afa91));}catch(_0x305d85){_0x570226(_0x305d85);}}function _0x864539(_0x52b5fb){_0x52b5fb[a23_0x27cf('0x2')]?_0x447fb4(_0x52b5fb[a23_0x27cf('0x3')]):_0x28733c(_0x52b5fb[a23_0x27cf('0x3')])[a23_0x27cf('0x4')](_0x169565,_0x2936e7);}_0x864539((_0x3b7aad=_0x3b7aad[a23_0x27cf('0x5')](_0x42ade7,_0x4bfbfe||[]))[a23_0x27cf('0x6')]());});};Object[a23_0x27cf('0x7')](exports,a23_0x27cf('0x8'),{'value':!![]});const HttpClientService_1=require(a23_0x27cf('0x9'));const playerService_1=require(a23_0x27cf('0xa'));const mediainfo=require(a23_0x27cf('0xb'));const fs=require('fs');const url=require(a23_0x27cf('0xc'));const http=require(a23_0x27cf('0xd'));const fsExtra=require('fs-extra');const request=require(a23_0x27cf('0xe'));const progress=require(a23_0x27cf('0xf'));const spawn=require(a23_0x27cf('0x10'))[a23_0x27cf('0x11')];const exec=require(a23_0x27cf('0x10'))['exec'];const isImage=require(a23_0x27cf('0x12'));const format=require(a23_0x27cf('0x13'));const os=require('os');const youtubedl=require(a23_0x27cf('0x14'));const uuidv4=require(a23_0x27cf('0x15'));const configFile=a23_0x27cf('0x16');const contextFile='context.json';const urlExists=require('url-exists');const kodi_rpc=require(a23_0x27cf('0x17'));const Downloader=require('mt-files-downloader');class SyncPlaylistsService{constructor(){this[a23_0x27cf('0x18')]=a23_0x27cf('0x19');this['tempFolder']=this[a23_0x27cf('0x18')]+'temp/';this[a23_0x27cf('0x1a')]=this[a23_0x27cf('0x18')]+a23_0x27cf('0x1b');this[a23_0x27cf('0x1c')]=this[a23_0x27cf('0x18')]+a23_0x27cf('0x1d');this[a23_0x27cf('0x1e')]=this[a23_0x27cf('0x1a')]+a23_0x27cf('0x1f');this[a23_0x27cf('0x20')]=0x0;this['playlistChanged']=![];this[a23_0x27cf('0x21')]=[];this[a23_0x27cf('0x22')]=[];this[a23_0x27cf('0x23')]={};this[a23_0x27cf('0x24')]=a23_0x27cf('0x25');this[a23_0x27cf('0x26')]=a23_0x27cf('0x27');this[a23_0x27cf('0x28')]='.lulo123.';this[a23_0x27cf('0x29')]=![];this[a23_0x27cf('0x2a')]=new HttpClientService_1[(a23_0x27cf('0x2b'))]();this['playerService']=new playerService_1[(a23_0x27cf('0x2c'))]();}['init'](){this[a23_0x27cf('0x2d')]=JSON[a23_0x27cf('0x2e')](fs[a23_0x27cf('0x2f')](configFile));this[a23_0x27cf('0x30')]=JSON[a23_0x27cf('0x2e')](fs[a23_0x27cf('0x2f')](contextFile));this[a23_0x27cf('0x31')]=this[a23_0x27cf('0x2d')]['playerId'];this['baseURL']=process[a23_0x27cf('0x32')][a23_0x27cf('0x33')]+a23_0x27cf('0x34');this[a23_0x27cf('0x35')]=this[a23_0x27cf('0x36')]+a23_0x27cf('0x37');this[a23_0x27cf('0x38')]=this[a23_0x27cf('0x36')]+a23_0x27cf('0x39');this['kodi']=new kodi_rpc({'url':this[a23_0x27cf('0x24')],'user':this[a23_0x27cf('0x26')],'password':this[a23_0x27cf('0x28')]});this['checkDependencies']();this[a23_0x27cf('0x3a')]();this[a23_0x27cf('0x3b')]();this[a23_0x27cf('0x3c')]();this[a23_0x27cf('0x3d')]();setInterval(function(){this[a23_0x27cf('0x3e')]();}[a23_0x27cf('0x3f')](this),0x2710);setInterval(function(){this[a23_0x27cf('0x3a')]();}[a23_0x27cf('0x3f')](this),0x493e0);}[a23_0x27cf('0x40')](){}[a23_0x27cf('0x3a')](){this[a23_0x27cf('0x41')]['playlist']['getItems'](0x1)[a23_0x27cf('0x4')](function(_0x149e0d){const _0x6ddf96=JSON[a23_0x27cf('0x42')](_0x149e0d);const _0x3f6d90={'player_id':this[a23_0x27cf('0x31')],'device_uuid':this[a23_0x27cf('0x2d')][a23_0x27cf('0x43')],'network_info':JSON['stringify'](os['networkInterfaces']()),'firmware_info':JSON['stringify'](this[a23_0x27cf('0x30')]),'playlist':_0x6ddf96,'playing_item':'','status':0x0};this[a23_0x27cf('0x2a')]['post'](a23_0x27cf('0x44'),_0x3f6d90,![])[a23_0x27cf('0x4')](function(_0x25250e){console[a23_0x27cf('0x45')]('register\x20response:\x20'+Date());})[a23_0x27cf('0x46')](function(_0x1525df){});console[a23_0x27cf('0x45')](_0x3f6d90);}[a23_0x27cf('0x3f')](this));const _0x148096=this[a23_0x27cf('0x2d')][a23_0x27cf('0x43')];if(!_0x148096||_0x148096==''){this[a23_0x27cf('0x2d')]['deviceUuid']=uuidv4();this[a23_0x27cf('0x2d')]={'deviceUuid':this['config']['deviceUuid'],'playerId':this[a23_0x27cf('0x2d')][a23_0x27cf('0x31')]};fs['writeFileSync'](configFile,JSON[a23_0x27cf('0x42')](this[a23_0x27cf('0x2d')]));}}[a23_0x27cf('0x3e')](){console[a23_0x27cf('0x45')](a23_0x27cf('0x3e'));this[a23_0x27cf('0x41')]['player'][a23_0x27cf('0x47')]()[a23_0x27cf('0x4')](function(_0x4ce6d4){const _0x44ad05=_0x4ce6d4['item'][a23_0x27cf('0x48')];this[a23_0x27cf('0x49')](_0x44ad05);}['bind'](this))['catch'](function(_0x283074){console[a23_0x27cf('0x45')](_0x283074);this[a23_0x27cf('0x49')](_0x283074);}['bind'](this));}[a23_0x27cf('0x49')](_0x534a77){console[a23_0x27cf('0x45')]('playingItem:\x20'+_0x534a77);const _0x7c1782={'player_id':this[a23_0x27cf('0x31')],'device_uuid':this[a23_0x27cf('0x2d')][a23_0x27cf('0x43')],'status':_0x534a77!=''&&_0x534a77!=null?0x1:0x0,'playing_item':_0x534a77};this[a23_0x27cf('0x2a')]['post']('http://restapi.lulo.run/player_devices/report_status',_0x7c1782,![])[a23_0x27cf('0x4')](function(_0x17f9e6){console[a23_0x27cf('0x45')](a23_0x27cf('0x4a')+Date());})['catch'](function(_0x3cfc05){});}[a23_0x27cf('0x3b')](){fsExtra[a23_0x27cf('0x4b')](this[a23_0x27cf('0x18')],_0x277104=>{});fsExtra[a23_0x27cf('0x4b')](this['tempFolder'],_0x35a50d=>{});fsExtra['ensureDir'](this['filesFolder'],_0x4dc9d1=>{});}['loadMediaList'](){const _0x2992e6=format(this[a23_0x27cf('0x35')],this[a23_0x27cf('0x31')]);console[a23_0x27cf('0x45')](_0x2992e6);request({'url':_0x2992e6,'json':!![]},function(_0x139df7,_0x3a81e9,_0xa711b5){console[a23_0x27cf('0x45')]('loadMediaList:\x20');this[a23_0x27cf('0x23')]=_0xa711b5;this[a23_0x27cf('0x4c')]=this[a23_0x27cf('0x4d')]();fsExtra[a23_0x27cf('0x4e')](this[a23_0x27cf('0x4f')]);this['downloadFiles']=[];this['failDownloadFiles']=[];this[a23_0x27cf('0x20')]=0x0;for(const _0x3c2f5e in _0xa711b5){this[a23_0x27cf('0x21')][a23_0x27cf('0x50')](_0xa711b5[_0x3c2f5e]);}console[a23_0x27cf('0x45')]('Total:\x20'+this[a23_0x27cf('0x21')]['length']);if(this[a23_0x27cf('0x21')]['length']>0x0){this['download']();}}[a23_0x27cf('0x3f')](this));}['reloadMediaList'](){this[a23_0x27cf('0x29')]=!![];if(fsExtra['existsSync'](this[a23_0x27cf('0x4f')])){fsExtra[a23_0x27cf('0x4e')](this[a23_0x27cf('0x4f')]);}if(fsExtra[a23_0x27cf('0x51')](this['filesFolder'])){fsExtra[a23_0x27cf('0x4e')](this['filesFolder']);}if(!fsExtra[a23_0x27cf('0x51')](this['playListFile'])){fsExtra[a23_0x27cf('0x52')](this[a23_0x27cf('0x1c')]);}if(!fsExtra['existsSync'](this[a23_0x27cf('0x1e')])){fsExtra[a23_0x27cf('0x52')](this[a23_0x27cf('0x1e')]);}this[a23_0x27cf('0x3c')]();}[a23_0x27cf('0x4d')](){const _0x2622b4=JSON[a23_0x27cf('0x42')](this['newPlayList']);try{if(!fsExtra[a23_0x27cf('0x51')](this[a23_0x27cf('0x1c')])){return!![];}else{const _0x443b0e=fsExtra[a23_0x27cf('0x2f')](this['playListFile'])[a23_0x27cf('0x53')]();if(_0x443b0e!=_0x2622b4){return!![];}}}catch(_0x2aea37){console[a23_0x27cf('0x45')](_0x2aea37);}return![];}[a23_0x27cf('0x54')](){console[a23_0x27cf('0x45')](a23_0x27cf('0x55')+this[a23_0x27cf('0x20')]+a23_0x27cf('0x56')+this[a23_0x27cf('0x21')][a23_0x27cf('0x57')]);if(this[a23_0x27cf('0x20')]>=this[a23_0x27cf('0x21')][a23_0x27cf('0x57')]){this[a23_0x27cf('0x58')]();return;}const _0x1656de=String(this[a23_0x27cf('0x21')][this['currentFile']]['path']);const _0x12536d=this['downloadFiles'][this[a23_0x27cf('0x20')]][a23_0x27cf('0x59')];let _0x15c6f8=_0x1656de['substring'](_0x1656de[a23_0x27cf('0x5a')]('/')+0x1);const _0x1ada95=_0x15c6f8['split']('.')['slice'](0x0,-0x1)[a23_0x27cf('0x5b')]('.');let _0x15abc4=this[a23_0x27cf('0x36')]+_0x1656de;const _0x3206c3=_0x15abc4['split']('.')[a23_0x27cf('0x5c')](0x0,-0x1)[a23_0x27cf('0x5b')]('.');if(_0x12536d==a23_0x27cf('0x5d')){_0x15c6f8=_0x15c6f8+a23_0x27cf('0x5e');}else if(_0x12536d==a23_0x27cf('0x5f')){_0x15c6f8=_0x1ada95+'.mp4';_0x15abc4=_0x3206c3+a23_0x27cf('0x5e');}console[a23_0x27cf('0x45')](a23_0x27cf('0x60'));console[a23_0x27cf('0x45')](_0x1656de);console[a23_0x27cf('0x45')](_0x12536d);console[a23_0x27cf('0x45')](_0x15c6f8);console[a23_0x27cf('0x45')](_0x15abc4);console['log'](_0x1ada95);console['log'](_0x3206c3);console[a23_0x27cf('0x45')]('**********+');if(fsExtra[a23_0x27cf('0x51')](this[a23_0x27cf('0x4f')]+_0x15c6f8)){this['checkVideo'](this[a23_0x27cf('0x4f')]+_0x15c6f8)[a23_0x27cf('0x4')](function(_0x4d3886){if(_0x4d3886){this[a23_0x27cf('0x20')]++;}else{this[a23_0x27cf('0x4c')]=!![];}this[a23_0x27cf('0x54')]();}[a23_0x27cf('0x3f')](this));}else if(fsExtra[a23_0x27cf('0x51')](this['filesFolder']+_0x15c6f8)){this[a23_0x27cf('0x61')](this[a23_0x27cf('0x1a')]+_0x15c6f8)[a23_0x27cf('0x4')](function(_0x48ee42){if(_0x48ee42){fsExtra[a23_0x27cf('0x62')](this[a23_0x27cf('0x1a')]+_0x15c6f8,this[a23_0x27cf('0x4f')]+_0x15c6f8);this[a23_0x27cf('0x20')]++;}else{this[a23_0x27cf('0x4c')]=!![];}this[a23_0x27cf('0x54')]();}[a23_0x27cf('0x3f')](this));}else{console[a23_0x27cf('0x45')](a23_0x27cf('0x63')+_0x15abc4);this['playlistChanged']=!![];if(_0x12536d==a23_0x27cf('0x5d')){this[a23_0x27cf('0x64')](_0x1656de);}else{this[a23_0x27cf('0x65')](_0x15abc4,_0x15c6f8,_0x12536d);}}}[a23_0x27cf('0x61')](_0x466835){return __awaiter(this,void 0x0,void 0x0,function*(){console[a23_0x27cf('0x45')](a23_0x27cf('0x66')+_0x466835);const _0x287974=yield mediainfo(_0x466835)[a23_0x27cf('0x46')](_0x302680=>{console[a23_0x27cf('0x45')](_0x302680);fsExtra['removeSync'](_0x466835);return![];});const _0x320fe6=_0x287974[a23_0x27cf('0x67')][a23_0x27cf('0x68')][a23_0x27cf('0x57')]>0x1&&_0x287974[a23_0x27cf('0x67')][a23_0x27cf('0x68')][0x1][a23_0x27cf('0x69')]==a23_0x27cf('0x6a');if(!_0x320fe6){fsExtra['removeSync'](_0x466835);}console[a23_0x27cf('0x45')](a23_0x27cf('0x6b')+_0x320fe6);return _0x320fe6;});}['downloader'](_0x5d362f,_0x147856,_0xadffac){const _0x3469c1=new Downloader();console[a23_0x27cf('0x45')](_0x5d362f);console['log'](_0x147856);console['log'](_0xadffac);const _0x33c39a=_0x3469c1['download'](_0x5d362f,this['tempFolder']+_0x147856);urlExists(_0x5d362f,function(_0x5113fc,_0x58da43){if(_0x58da43){if(this[a23_0x27cf('0x22')][a23_0x27cf('0x6c')](this[a23_0x27cf('0x20')])){const _0x567d19=this[a23_0x27cf('0x22')][a23_0x27cf('0x6d')](this[a23_0x27cf('0x20')]);if(_0x567d19>-0x1){this[a23_0x27cf('0x22')]['splice'](_0x567d19,0x1);}}console[a23_0x27cf('0x45')](a23_0x27cf('0x6e')+_0x5d362f);_0x33c39a['start']();}else{if(!this[a23_0x27cf('0x22')][a23_0x27cf('0x6c')](this[a23_0x27cf('0x20')])){this[a23_0x27cf('0x22')][a23_0x27cf('0x50')](this[a23_0x27cf('0x20')]);}console[a23_0x27cf('0x45')]('Error:\x20'+_0x5d362f);this['currentFile']++;this[a23_0x27cf('0x54')]();}}[a23_0x27cf('0x3f')](this));_0x33c39a['on'](a23_0x27cf('0x6f'),function(_0x33c39a){console['log'](a23_0x27cf('0x70')+_0x5d362f);});_0x33c39a['on'](a23_0x27cf('0x71'),function(_0x33c39a){console[a23_0x27cf('0x45')](a23_0x27cf('0x72'));this[a23_0x27cf('0x54')]();}[a23_0x27cf('0x3f')](this));_0x33c39a['on'](a23_0x27cf('0x73'),function(_0x33c39a){console[a23_0x27cf('0x45')]('end');console[a23_0x27cf('0x45')](a23_0x27cf('0x74')+_0x147856);console[a23_0x27cf('0x45')](a23_0x27cf('0x75')+_0xadffac);this[a23_0x27cf('0x61')](this[a23_0x27cf('0x4f')]+_0x147856)[a23_0x27cf('0x4')](function(_0x2ae053){if(_0x2ae053){this['currentFile']++;}this[a23_0x27cf('0x54')]();}[a23_0x27cf('0x3f')](this));}[a23_0x27cf('0x3f')](this));_0x33c39a['on']('stopped',function(_0x33c39a){console[a23_0x27cf('0x45')](a23_0x27cf('0x76'));});_0x33c39a['on']('destroyed',function(_0x33c39a){console[a23_0x27cf('0x45')]('destroyed');});_0x33c39a['on'](a23_0x27cf('0x77'),function(_0x33c39a){console[a23_0x27cf('0x45')](a23_0x27cf('0x77'));});}[a23_0x27cf('0x78')](_0x437098,_0x242665,_0x4c67ec,_0x1f2be3){console[a23_0x27cf('0x45')](a23_0x27cf('0x78'));console[a23_0x27cf('0x45')](_0x437098);const _0x98d0fb=!![];let _0x1fea60=0x0;const _0x435dcb='';console[a23_0x27cf('0x45')]('Attempting\x20to\x20download\x20'+_0x437098+a23_0x27cf('0x79')+_0x242665);if(_0x1fea60){if(_0x1fea60>0x5){_0x1f2be3('Max\x20redirects\x20reached',_0x437098,_0x4c67ec,null);return;}}else{_0x1fea60=0x0;}const _0x2aef6e=this[a23_0x27cf('0x4f')]+_0x242665;let _0x3ef605;if(_0x1f2be3===undefined){console[a23_0x27cf('0x45')](a23_0x27cf('0x7a')+_0x437098+a23_0x27cf('0x79')+_0x2aef6e);_0x1f2be3=function(_0x795c23,_0x32b961){console[a23_0x27cf('0x45')](a23_0x27cf('0x7b'),_0x795c23,_0x32b961);};}http['globalAgent'][a23_0x27cf('0x7c')]=0x64;const _0x208864={'host':url['parse'](_0x437098)[a23_0x27cf('0x7d')],'port':0x50,'path':url[a23_0x27cf('0x2e')](_0x437098)[a23_0x27cf('0x7e')],'agent':![]};const _0x4abbec=http[a23_0x27cf('0x7f')](_0x208864,function(_0x5c39b1){let _0x5a7d28=0x0;let _0x3d2860=0x0;function _0x4da539(){if(_0x5a7d28===undefined){console[a23_0x27cf('0x45')](_0x242665+a23_0x27cf('0x80')+_0x3d2860+'/'+'?');}const _0x4167a7=_0x3d2860/_0x5a7d28*0x64;console[a23_0x27cf('0x45')](_0x242665+a23_0x27cf('0x81')+_0x4167a7+'%\x09'+_0x3d2860+'/'+_0x5a7d28);}console[a23_0x27cf('0x45')](_0x242665+'\x20'+_0x5c39b1['statusCode']);switch(_0x5c39b1[a23_0x27cf('0x82')]){case 0xc8:_0x5a7d28=_0x5c39b1[a23_0x27cf('0x83')][a23_0x27cf('0x84')]||_0x435dcb;fs[a23_0x27cf('0x85')](_0x2aef6e,function(_0x5da839,_0x45fcb1){if(!_0x5da839){console[a23_0x27cf('0x45')]('Have\x20already\x20downloaded\x20'+_0x2aef6e);if(_0x45fcb1[a23_0x27cf('0x86')]==_0x5a7d28){console[a23_0x27cf('0x45')](a23_0x27cf('0x87')+_0x5a7d28+')');console[a23_0x27cf('0x45')](a23_0x27cf('0x88'));}else{console['log'](a23_0x27cf('0x89')+_0x45fcb1['size']+a23_0x27cf('0x8a')+_0x5a7d28+')');}}_0x3ef605=fs[a23_0x27cf('0x8b')](_0x2aef6e);_0x5c39b1[a23_0x27cf('0x8c')](_0x3ef605);_0x5c39b1['on'](a23_0x27cf('0x8d'),function(_0x1120ec){_0x3d2860+=_0x1120ec[a23_0x27cf('0x57')];_0x4da539();});_0x4abbec['on'](a23_0x27cf('0x71'),function(_0x5da839){console['log'](a23_0x27cf('0x8e'));console[a23_0x27cf('0x45')](_0x5da839);});_0x3ef605['on'](a23_0x27cf('0x8f'),function(){console['log'](a23_0x27cf('0x90')+_0x437098+'\x20to\x20'+_0x242665);_0x1f2be3(null,_0x242665,_0x4c67ec,_0x242665);}[a23_0x27cf('0x3f')](this));});break;case 0x12e:const _0x5a5861=_0x5c39b1[a23_0x27cf('0x83')]['location'];console[a23_0x27cf('0x45')](a23_0x27cf('0x91')+_0x437098+a23_0x27cf('0x79')+_0x5a5861);if(_0x1fea60<0x5){this[a23_0x27cf('0x78')](_0x5a5861,_0x242665,_0x1f2be3,_0x1fea60++);}else{console[a23_0x27cf('0x71')](a23_0x27cf('0x92')+_0x437098+'.');_0x1f2be3(a23_0x27cf('0x93'),null,null,null);}return;case 0x194:console[a23_0x27cf('0x45')](a23_0x27cf('0x94')+_0x437098);default:console['log'](a23_0x27cf('0x95')+_0x437098+a23_0x27cf('0x96')+_0x5c39b1[a23_0x27cf('0x82')]);_0x4abbec['abort']();_0x1f2be3(_0x5c39b1['statusCode'],null,null,null);return;}})['on']('error',function(_0x5efe8e){console['log'](a23_0x27cf('0x97')+_0x437098+'\x20'+_0x5efe8e[a23_0x27cf('0x98')]);_0x1f2be3(_0x5efe8e,null,null,null);});}['downloadHTTPFileCallback'](_0x7c0e65,_0x195227,_0x1f61df,_0x4826be){console['log'](a23_0x27cf('0x99'));console[a23_0x27cf('0x45')](_0x7c0e65);console[a23_0x27cf('0x45')](_0x195227);console[a23_0x27cf('0x45')](_0x1f61df);console[a23_0x27cf('0x45')](_0x4826be);if(_0x1f61df==a23_0x27cf('0x5f')){const _0x327732=this['downloadFiles'][this['currentFile']][a23_0x27cf('0x9a')]!=null?this[a23_0x27cf('0x21')][this[a23_0x27cf('0x20')]][a23_0x27cf('0x9a')]:0x1e;this['createImageVideo'](_0x4826be,_0x327732);}else if(_0x1f61df==a23_0x27cf('0x9b')){if(_0x7c0e65==null&&_0x195227!=''){this[a23_0x27cf('0x20')]++;}this[a23_0x27cf('0x54')]();}console[a23_0x27cf('0x45')](this[a23_0x27cf('0x20')]);}[a23_0x27cf('0x9c')](_0x234f62,_0x288685,_0x50b5d7){progress(request(_0x234f62),{})['on'](a23_0x27cf('0x9d'),function(_0x12bb45){console[a23_0x27cf('0x45')](_0x12bb45);})['on'](a23_0x27cf('0x71'),function(_0x46cc3b){console['log'](a23_0x27cf('0x9e'));this['download']();})['on']('end',function(){console[a23_0x27cf('0x45')](a23_0x27cf('0x74')+_0x288685);console[a23_0x27cf('0x45')]('mediaType:\x20'+_0x50b5d7);if(_0x50b5d7==a23_0x27cf('0x5f')){const _0x1791bc=this[a23_0x27cf('0x21')][this[a23_0x27cf('0x20')]][a23_0x27cf('0x9a')]!=null?this['downloadFiles'][this['currentFile']][a23_0x27cf('0x9a')]:0x1e;this[a23_0x27cf('0x9f')](_0x288685,_0x1791bc);}else if(_0x50b5d7=='video'){this[a23_0x27cf('0x20')]++;this[a23_0x27cf('0x54')]();}}[a23_0x27cf('0x3f')](this))[a23_0x27cf('0x8c')](fs[a23_0x27cf('0x8b')](this['tempFolder']+_0x288685));}[a23_0x27cf('0x9f')](_0x5b1ff8,_0x22cc35=0x1e){const _0x2ffca3=this['tempFolder']+_0x5b1ff8;console[a23_0x27cf('0x45')](_0x2ffca3);console['log'](_0x5b1ff8);const _0x1322eb=_0x5b1ff8[a23_0x27cf('0xa0')]('.')[a23_0x27cf('0x5c')](0x0,-0x1)[a23_0x27cf('0x5b')]('.');const _0x5a19b5=a23_0x27cf('0xa1');const _0x574723=['-y','-r',a23_0x27cf('0xa2'),'-loop','1',a23_0x27cf('0xa3'),a23_0x27cf('0xa4'),'-i',_0x2ffca3,'-t',String(_0x22cc35),'-c:v',a23_0x27cf('0xa5'),a23_0x27cf('0xa6'),'yuv420p','-r','25',a23_0x27cf('0xa7'),a23_0x27cf('0xa8'),this[a23_0x27cf('0x4f')]+_0x1322eb+a23_0x27cf('0x5e')];const _0x80f1be=spawn(_0x5a19b5,_0x574723);_0x80f1be[a23_0x27cf('0xa9')]['on'](a23_0x27cf('0x8d'),function(_0x1e4004){console[a23_0x27cf('0x45')](a23_0x27cf('0xaa')+_0x2ffca3);});_0x80f1be[a23_0x27cf('0xab')]['on'](a23_0x27cf('0x8d'),function(_0x397a07){console[a23_0x27cf('0x45')](a23_0x27cf('0xac')+_0x397a07);}['bind'](this));_0x80f1be['on'](a23_0x27cf('0xad'),function(){console[a23_0x27cf('0x45')](a23_0x27cf('0xae'));this[a23_0x27cf('0x20')]++;this[a23_0x27cf('0x54')]();}['bind'](this));}['downloadYouTube'](_0x3a9f1){const _0x2e7859=this['tempFolder']+'/'+_0x3a9f1+a23_0x27cf('0x5e');const _0x451bc3=youtubedl('http://www.youtube.com/watch?v='+_0x3a9f1,[a23_0x27cf('0xaf')],{'cwd':__dirname});_0x451bc3['on'](a23_0x27cf('0xb0'),function(_0x22e3f1){console[a23_0x27cf('0x45')](a23_0x27cf('0xb1'));console[a23_0x27cf('0x45')](a23_0x27cf('0xb2')+_0x22e3f1[a23_0x27cf('0xb3')]);console[a23_0x27cf('0x45')](a23_0x27cf('0xb4')+_0x22e3f1['size']);});_0x451bc3['on'](a23_0x27cf('0xb5'),function complete(_0x5469de){'use strict';console[a23_0x27cf('0x45')](a23_0x27cf('0xb2')+_0x5469de[a23_0x27cf('0xb3')]+a23_0x27cf('0xb6'));});_0x451bc3['on']('end',function(){console['log']('finished\x20youtube\x20downloading!');this[a23_0x27cf('0x61')](_0x2e7859)[a23_0x27cf('0x4')](function(_0x31143d){if(_0x31143d){this[a23_0x27cf('0x20')]++;}this['download']();}[a23_0x27cf('0x3f')](this));}[a23_0x27cf('0x3f')](this));_0x451bc3[a23_0x27cf('0x8c')](fs['createWriteStream'](_0x2e7859));}['finishProcess'](){console['log']('Finishing');if(this[a23_0x27cf('0x4c')]){if(this[a23_0x27cf('0x22')]['length']==0x0){fs[a23_0x27cf('0xb7')](this[a23_0x27cf('0x1c')],JSON[a23_0x27cf('0x42')](this[a23_0x27cf('0x23')]));let _0x17186c='#EXTCPlayListM3U::M3U'+'\x0d\x0a'+a23_0x27cf('0xb8')+'\x0d\x0a';for(const _0x3d83cd in this[a23_0x27cf('0x21')]){const _0x100a94=this['downloadFiles'][_0x3d83cd][a23_0x27cf('0xb9')];const _0x54d194=this[a23_0x27cf('0x21')][_0x3d83cd][a23_0x27cf('0x59')];const _0x212e64=_0x100a94['substring'](_0x100a94[a23_0x27cf('0x5a')]('/')+0x1);let _0x192296=_0x212e64[a23_0x27cf('0xa0')]('.')[a23_0x27cf('0x5c')](0x0,-0x1)['join']('.');if(_0x54d194==a23_0x27cf('0x5d')){_0x192296=_0x100a94;}_0x17186c+=a23_0x27cf('0xba')+_0x192296+a23_0x27cf('0x5e')+'\x0d\x0a';}fsExtra[a23_0x27cf('0x4e')](this[a23_0x27cf('0x1a')]);fsExtra['copySync'](this['tempFolder'],this[a23_0x27cf('0x1a')]);fsExtra[a23_0x27cf('0xb7')](this[a23_0x27cf('0x1e')],_0x17186c);fsExtra[a23_0x27cf('0x4e')](this['tempFolder']);console['log'](a23_0x27cf('0xbb'));this[a23_0x27cf('0xbc')]();}else{console['log'](a23_0x27cf('0xbd'));this[a23_0x27cf('0x20')]=0x0;setTimeout(function(){this[a23_0x27cf('0x54')]();}['bind'](this),0x1388);}}else{console['log']('No\x20playlist\x20changes.');}}[a23_0x27cf('0xbc')](){this[a23_0x27cf('0xbe')](a23_0x27cf('0xbf'),{'playlistid':0x1},function(_0x4a92d8){console['log'](a23_0x27cf('0xc0'));console[a23_0x27cf('0x45')](_0x4a92d8);this[a23_0x27cf('0xbe')](a23_0x27cf('0xc1'),{'item':{'file':a23_0x27cf('0xc2')},'playlistid':0x1},function(_0x4a92d8){console[a23_0x27cf('0x45')]('Playlist.Added');console[a23_0x27cf('0x45')](_0x4a92d8);this[a23_0x27cf('0xbe')](a23_0x27cf('0xc3'),{'item':{'playlistid':0x1,'position':0x0}},function(_0x4a92d8){console[a23_0x27cf('0x45')]('Playlist.Opened');console[a23_0x27cf('0x45')](_0x4a92d8);if(this[a23_0x27cf('0x29')]){this[a23_0x27cf('0x29')]=![];this[a23_0x27cf('0xc4')](a23_0x27cf('0xc5'));}}[a23_0x27cf('0x3f')](this));}[a23_0x27cf('0x3f')](this));}[a23_0x27cf('0x3f')](this));}[a23_0x27cf('0xc6')](){console[a23_0x27cf('0x45')](a23_0x27cf('0xc7'));this['kodiCommandClient'](a23_0x27cf('0xc8'));}[a23_0x27cf('0x3d')](){const _0x330cfb=format(this[a23_0x27cf('0x38')],this['playerId']);console[a23_0x27cf('0x45')](_0x330cfb);request({'url':_0x330cfb,'json':!![]},function(_0x514256,_0x17a9f5,_0x2fcecd){if(_0x2fcecd[a23_0x27cf('0x57')]>0x0){const _0xfe896c=_0x2fcecd[0x0];const _0x3aa03f=_0xfe896c[a23_0x27cf('0xc9')];const _0x31c8bd=_0xfe896c['header_active']==0x1;this[a23_0x27cf('0xca')](_0x3aa03f);this['enableClock'](_0x31c8bd);}console['log'](_0x2fcecd);}[a23_0x27cf('0x3f')](this));}[a23_0x27cf('0xca')](_0x53ff63){const _0xf7cc54=_0x53ff63!=null&&_0x53ff63!='';const _0x5a7843=a23_0x27cf('0xcb');const _0x2530ce=fsExtra[a23_0x27cf('0x2f')](_0x5a7843);console[a23_0x27cf('0x45')](a23_0x27cf('0xcc')+_0x2530ce);const _0x26b4bd=require(a23_0x27cf('0xcd'));const _0x3a5b66=_0x26b4bd[a23_0x27cf('0xce')];_0x3a5b66(_0x2530ce,function(_0x2fbd71,_0x2ba788){console['log'](a23_0x27cf('0xcf'),_0x2fbd71);console[a23_0x27cf('0x45')](a23_0x27cf('0xd0'),_0x2ba788);if(!_0x53ff63||_0x53ff63==null||_0x53ff63==''){_0x53ff63='none';}_0x2ba788[a23_0x27cf('0xd1')]['set'][0x0][a23_0x27cf('0xd2')][0x0]['_']=_0x53ff63;const _0x293561=new _0x26b4bd[(a23_0x27cf('0xd3'))]();const _0x884db9=_0x293561['buildObject'](_0x2ba788);console['log']('xml:\x20%j',_0x884db9);fsExtra[a23_0x27cf('0xb7')](_0x5a7843,_0x884db9);});this['kodiCommandClient']('RefreshRSS()');this[a23_0x27cf('0xbe')]('Settings.SetSettingValue',{'setting':a23_0x27cf('0xd4'),'value':_0xf7cc54},function(_0x318694){console[a23_0x27cf('0x45')]('setRss:');console[a23_0x27cf('0x45')](_0x318694);}['bind'](this));}['enableClock'](_0x129567){this[a23_0x27cf('0xbe')](a23_0x27cf('0xd5'),{'setting':a23_0x27cf('0xd6'),'value':_0x129567},function(_0x31d6ef){console[a23_0x27cf('0x45')](a23_0x27cf('0xd7'));console['log'](_0x31d6ef);}[a23_0x27cf('0x3f')](this));}[a23_0x27cf('0xc4')](_0x187de9){exec(a23_0x27cf('0xd8')+_0x187de9+'\x22',function(_0x2d30a3){console[a23_0x27cf('0x45')](_0x2d30a3);});}[a23_0x27cf('0xbe')](_0x2e6be9,_0x19eff4,_0x559d3c){const _0x12765c={'jsonrpc':a23_0x27cf('0xd9'),'method':_0x2e6be9,'params':_0x19eff4,'id':0x1};this[a23_0x27cf('0x2a')][a23_0x27cf('0xda')](this[a23_0x27cf('0x24')]+a23_0x27cf('0xdb'),_0x12765c,![],{'user':this[a23_0x27cf('0x26')],'pass':this['kodiPassword']})[a23_0x27cf('0x4')](function(_0x5b2cbc){_0x559d3c(_0x5b2cbc);})[a23_0x27cf('0x46')](function(_0x164f3d){});}}exports[a23_0x27cf('0xdc')]=SyncPlaylistsService;
var a23_0x3aaa=['track','includes','indexOf','downloading:\x20','start','Error:\x20','start:\x20','error','error:\x20','end','stopped','destroyed','retry','downloadHTTPFile','\x20to\x20','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','maxSockets','pathname','get','\x20Progress:\x20unknown\x09','\x20Progress:\x20','statusCode','headers','Have\x20already\x20downloaded\x20','size','And\x20the\x20file\x20size\x20matches\x20(','Redownloading','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(',')\x20vs\x20New(','createWriteStream','pipe','Downloaded\x20','location','Redirect\x20','Problem\x20downloading\x20','\x20STATUS:\x20','abort','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','duration','video','downloadRequestFile','Downloaded:\x20','mediaType:\x20','createImageVideo','ffmpeg','-loop','-pattern_type','glob','-vf','scale=1920:1080','Converting\x20','stderr','finished\x20mp4\x20convert','--format=18','Download\x20started','_filename','size:\x20','filename:\x20','\x20already\x20downloaded.','finished\x20youtube\x20downloading!','Finishing','this.playListFile:\x20','#EXTCPlayListM3U::M3U','#EXTINF:0,luloPlayList','media_type','/home/osmc/luloclient/media/files/','m3uContent:\x20','writeFileSync:\x20','emptyDirSync:\x20','Rebooting..','reboot','Playlist\x20incomplete,\x20retry.','No\x20playlist\x20changes.','refreshPlayer','jsonrpcClient','Playlist.Cleared','Playlist.Add','Playlist.Added','Playlist.Opened','kodiCommandClient','RestartApp()','Rebooting','rss','header_active','setRss','enableClock','turnOffTV','CECStandby()','turnOnTV','/home/osmc/.kodi/userdata/RssFeeds.xml','xmlContent:\x20','xml2js','parseString','err:\x20%j','result:\x20%j','none','rssfeeds','set','feed','Builder','lookandfeel.enablerssfeeds','setRss:','videoplayer.usedisplayasclock','kodi-send\x20--action=\x22','httpClientService','/jsonrpc','__awaiter','next','done','value','then','__esModule','../infrastructure/HttpClientService','./playerService','node-mediainfo','url','fs-extra','request','request-progress','spawn','child_process','is-image','youtube-dl','uuid/v4','config.json','context.json','url-exists','node-kodi','mt-files-downloader','mediaFolder','media/','tempFolder','filesFolder','playListFile','m3uFile','lulo_playlist.m3u','currentFile','playlistChanged','downloadFiles','failDownloadFiles','newPlayList','kodiHost','kodiUser','lulo','kodiPassword','.lulo123.','forceReload','HttpClientService','PlayerService','init','config','parse','context','readFileSync','playerId','baseURL','WEB_SERVICE_URL','checkDependencies','registerClient','checkFolders','updateSettings','getStatus','bind','getItems','stringify','deviceUuid','post','http://restapi.lulo.run/player_devices/register','log','writeFileSync','kodi','getCurrentlyPlayingVideo','item','label','reportStatus','catch','http://restapi.lulo.run/player_devices/report_status','reportStatusResponse:\x20','ensureDir','playListServiceURL','loadMediaList:\x20','push','Total:\x20','length','download','reloadMediaList','existsSync','emptyDirSync','removeSync','toString','this.currentFile:\x20','finishProcess','path','substring','lastIndexOf','split','slice','join','youtube_single','.mp4','image','**********+','checkVideo','copySync','downloadYouTube','downloader','media'];(function(_0x5ab3be,_0xf2c706){var _0x3dd00d=function(_0x3ece85){while(--_0x3ece85){_0x5ab3be['push'](_0x5ab3be['shift']());}};_0x3dd00d(++_0xf2c706);}(a23_0x3aaa,0x6c));var a23_0x4bf2=function(_0x14496d,_0xc6abdc){_0x14496d=_0x14496d-0x0;var _0x5930b9=a23_0x3aaa[_0x14496d];return _0x5930b9;};'use strict';var __awaiter=this&&this[a23_0x4bf2('0x0')]||function(_0x19cbd8,_0x309308,_0x250869,_0x1ec184){function _0x1298e4(_0x5894f9){return _0x5894f9 instanceof _0x250869?_0x5894f9:new _0x250869(function(_0x4c00ce){_0x4c00ce(_0x5894f9);});}return new(_0x250869||(_0x250869=Promise))(function(_0x2ee534,_0x4ed319){function _0xf48415(_0x32d738){try{_0x4f34c8(_0x1ec184[a23_0x4bf2('0x1')](_0x32d738));}catch(_0x3b6e26){_0x4ed319(_0x3b6e26);}}function _0x28263a(_0x910900){try{_0x4f34c8(_0x1ec184['throw'](_0x910900));}catch(_0x260833){_0x4ed319(_0x260833);}}function _0x4f34c8(_0x4800b4){_0x4800b4[a23_0x4bf2('0x2')]?_0x2ee534(_0x4800b4['value']):_0x1298e4(_0x4800b4[a23_0x4bf2('0x3')])[a23_0x4bf2('0x4')](_0xf48415,_0x28263a);}_0x4f34c8((_0x1ec184=_0x1ec184['apply'](_0x19cbd8,_0x309308||[]))[a23_0x4bf2('0x1')]());});};Object['defineProperty'](exports,a23_0x4bf2('0x5'),{'value':!![]});const HttpClientService_1=require(a23_0x4bf2('0x6'));const playerService_1=require(a23_0x4bf2('0x7'));const mediainfo=require(a23_0x4bf2('0x8'));const fs=require('fs');const url=require(a23_0x4bf2('0x9'));const http=require('http');const fsExtra=require(a23_0x4bf2('0xa'));const request=require(a23_0x4bf2('0xb'));const progress=require(a23_0x4bf2('0xc'));const spawn=require('child_process')[a23_0x4bf2('0xd')];const exec=require(a23_0x4bf2('0xe'))['exec'];const isImage=require(a23_0x4bf2('0xf'));const format=require('string-template');const os=require('os');const youtubedl=require(a23_0x4bf2('0x10'));const uuidv4=require(a23_0x4bf2('0x11'));const configFile=a23_0x4bf2('0x12');const contextFile=a23_0x4bf2('0x13');const urlExists=require(a23_0x4bf2('0x14'));const kodi_rpc=require(a23_0x4bf2('0x15'));const Downloader=require(a23_0x4bf2('0x16'));class SyncPlaylistsService{constructor(){this[a23_0x4bf2('0x17')]=a23_0x4bf2('0x18');this[a23_0x4bf2('0x19')]=this[a23_0x4bf2('0x17')]+'temp/';this[a23_0x4bf2('0x1a')]=this['mediaFolder']+'files/';this[a23_0x4bf2('0x1b')]=this[a23_0x4bf2('0x17')]+'playlist.txt';this[a23_0x4bf2('0x1c')]=this['filesFolder']+a23_0x4bf2('0x1d');this[a23_0x4bf2('0x1e')]=0x0;this[a23_0x4bf2('0x1f')]=![];this[a23_0x4bf2('0x20')]=[];this[a23_0x4bf2('0x21')]=[];this[a23_0x4bf2('0x22')]={};this[a23_0x4bf2('0x23')]='http://localhost';this[a23_0x4bf2('0x24')]=a23_0x4bf2('0x25');this[a23_0x4bf2('0x26')]=a23_0x4bf2('0x27');this[a23_0x4bf2('0x28')]=![];this['httpClientService']=new HttpClientService_1[(a23_0x4bf2('0x29'))]();this['playerService']=new playerService_1[(a23_0x4bf2('0x2a'))]();}[a23_0x4bf2('0x2b')](){this[a23_0x4bf2('0x2c')]=JSON[a23_0x4bf2('0x2d')](fs['readFileSync'](configFile));this[a23_0x4bf2('0x2e')]=JSON['parse'](fs[a23_0x4bf2('0x2f')](contextFile));this[a23_0x4bf2('0x30')]=this[a23_0x4bf2('0x2c')][a23_0x4bf2('0x30')];this[a23_0x4bf2('0x31')]=process['env'][a23_0x4bf2('0x32')]+'deploy/';this['playListServiceURL']=this[a23_0x4bf2('0x31')]+'api/player_playlist.php?player_id={0}';this['playerServiceURL']=this['baseURL']+'api/player.php?player_id={0}';this['kodi']=new kodi_rpc({'url':this[a23_0x4bf2('0x23')],'user':this[a23_0x4bf2('0x24')],'password':this[a23_0x4bf2('0x26')]});this[a23_0x4bf2('0x33')]();this[a23_0x4bf2('0x34')]();this[a23_0x4bf2('0x35')]();this['loadMediaList']();this[a23_0x4bf2('0x36')]();setInterval(function(){this[a23_0x4bf2('0x37')]();}[a23_0x4bf2('0x38')](this),0x2710);setInterval(function(){this[a23_0x4bf2('0x34')]();}['bind'](this),0x493e0);}[a23_0x4bf2('0x33')](){}[a23_0x4bf2('0x34')](){this['kodi']['playlist'][a23_0x4bf2('0x39')](0x1)['then'](function(_0x5e2af9){const _0x2e736f=JSON[a23_0x4bf2('0x3a')](_0x5e2af9);const _0x44d6f2={'player_id':this[a23_0x4bf2('0x30')],'device_uuid':this[a23_0x4bf2('0x2c')][a23_0x4bf2('0x3b')],'network_info':JSON['stringify'](os['networkInterfaces']()),'firmware_info':JSON[a23_0x4bf2('0x3a')](this['context']),'playlist':_0x2e736f,'playing_item':'','status':0x0};this['httpClientService'][a23_0x4bf2('0x3c')](a23_0x4bf2('0x3d'),_0x44d6f2,![])[a23_0x4bf2('0x4')](function(_0x24ac46){console[a23_0x4bf2('0x3e')]('register\x20response:\x20'+Date());})['catch'](function(_0x52f27a){});console['log'](_0x44d6f2);}['bind'](this));const _0x309560=this[a23_0x4bf2('0x2c')]['deviceUuid'];if(!_0x309560||_0x309560==''){this['config']['deviceUuid']=uuidv4();this[a23_0x4bf2('0x2c')]={'deviceUuid':this['config'][a23_0x4bf2('0x3b')],'playerId':this['config'][a23_0x4bf2('0x30')]};fs[a23_0x4bf2('0x3f')](configFile,JSON['stringify'](this['config']));}}[a23_0x4bf2('0x37')](){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x37'));this[a23_0x4bf2('0x40')]['player'][a23_0x4bf2('0x41')]()[a23_0x4bf2('0x4')](function(_0xcc9e01){const _0xed38dc=_0xcc9e01[a23_0x4bf2('0x42')][a23_0x4bf2('0x43')];this[a23_0x4bf2('0x44')](_0xed38dc);}[a23_0x4bf2('0x38')](this))[a23_0x4bf2('0x45')](function(_0x58fd3b){console[a23_0x4bf2('0x3e')](_0x58fd3b);this[a23_0x4bf2('0x44')](JSON[a23_0x4bf2('0x3a')](_0x58fd3b));}[a23_0x4bf2('0x38')](this));}[a23_0x4bf2('0x44')](_0x131955){console[a23_0x4bf2('0x3e')]('playingItem:\x20'+_0x131955);const _0x3eddaf={'player_id':this[a23_0x4bf2('0x30')],'device_uuid':this[a23_0x4bf2('0x2c')]['deviceUuid'],'status':_0x131955!=''&&_0x131955!=null?0x1:0x0,'playing_item':_0x131955};this['httpClientService']['post'](a23_0x4bf2('0x46'),_0x3eddaf,![])['then'](function(_0xb1895e){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x47')+JSON[a23_0x4bf2('0x3a')](_0xb1895e));})[a23_0x4bf2('0x45')](function(_0x4b5a18){});}['checkFolders'](){fsExtra[a23_0x4bf2('0x48')](this[a23_0x4bf2('0x17')],_0x4995bc=>{});fsExtra[a23_0x4bf2('0x48')](this[a23_0x4bf2('0x19')],_0x2c2bfe=>{});fsExtra[a23_0x4bf2('0x48')](this[a23_0x4bf2('0x1a')],_0x531fab=>{});}['loadMediaList'](){const _0x362cd1=format(this[a23_0x4bf2('0x49')],this['playerId']);console[a23_0x4bf2('0x3e')](_0x362cd1);request({'url':_0x362cd1,'json':!![]},function(_0x162b73,_0x5d4bb1,_0x94fb0b){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x4a'));this[a23_0x4bf2('0x22')]=_0x94fb0b;this[a23_0x4bf2('0x1f')]=this['hasPlayListChanged']();fsExtra['emptyDirSync'](this['tempFolder']);this[a23_0x4bf2('0x20')]=[];this['failDownloadFiles']=[];this[a23_0x4bf2('0x1e')]=0x0;for(const _0x42babf in _0x94fb0b){this['downloadFiles'][a23_0x4bf2('0x4b')](_0x94fb0b[_0x42babf]);}console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x4c')+this['downloadFiles'][a23_0x4bf2('0x4d')]);if(this[a23_0x4bf2('0x20')][a23_0x4bf2('0x4d')]>0x0){this[a23_0x4bf2('0x4e')]();}}['bind'](this));}[a23_0x4bf2('0x4f')](){this['forceReload']=!![];if(fsExtra[a23_0x4bf2('0x50')](this['tempFolder'])){fsExtra[a23_0x4bf2('0x51')](this[a23_0x4bf2('0x19')]);}if(fsExtra[a23_0x4bf2('0x50')](this[a23_0x4bf2('0x1a')])){fsExtra[a23_0x4bf2('0x51')](this[a23_0x4bf2('0x1a')]);}if(!fsExtra['existsSync'](this['playListFile'])){fsExtra[a23_0x4bf2('0x52')](this[a23_0x4bf2('0x1b')]);}if(!fsExtra[a23_0x4bf2('0x50')](this[a23_0x4bf2('0x1c')])){fsExtra[a23_0x4bf2('0x52')](this[a23_0x4bf2('0x1c')]);}this['loadMediaList']();}['hasPlayListChanged'](){const _0x13a41c=JSON[a23_0x4bf2('0x3a')](this[a23_0x4bf2('0x22')]);try{if(!fsExtra[a23_0x4bf2('0x50')](this[a23_0x4bf2('0x1b')])){return!![];}else{const _0x637c3=fsExtra['readFileSync'](this[a23_0x4bf2('0x1b')])[a23_0x4bf2('0x53')]();if(_0x637c3!=_0x13a41c){return!![];}}}catch(_0x3807f2){console[a23_0x4bf2('0x3e')](_0x3807f2);}return![];}[a23_0x4bf2('0x4e')](){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x54')+this[a23_0x4bf2('0x1e')]+'\x20of\x20'+this['downloadFiles'][a23_0x4bf2('0x4d')]);if(this[a23_0x4bf2('0x1e')]>=this[a23_0x4bf2('0x20')][a23_0x4bf2('0x4d')]){this[a23_0x4bf2('0x55')]();return;}const _0xfe1c43=String(this[a23_0x4bf2('0x20')][this[a23_0x4bf2('0x1e')]][a23_0x4bf2('0x56')]);const _0x13eaf6=this['downloadFiles'][this['currentFile']]['media_type'];let _0x2be72a=_0xfe1c43[a23_0x4bf2('0x57')](_0xfe1c43[a23_0x4bf2('0x58')]('/')+0x1);const _0x134349=_0x2be72a[a23_0x4bf2('0x59')]('.')[a23_0x4bf2('0x5a')](0x0,-0x1)[a23_0x4bf2('0x5b')]('.');let _0x1ce68e=this[a23_0x4bf2('0x31')]+_0xfe1c43;const _0x52f25b=_0x1ce68e[a23_0x4bf2('0x59')]('.')[a23_0x4bf2('0x5a')](0x0,-0x1)[a23_0x4bf2('0x5b')]('.');if(_0x13eaf6==a23_0x4bf2('0x5c')){_0x2be72a=_0x2be72a+a23_0x4bf2('0x5d');}else if(_0x13eaf6==a23_0x4bf2('0x5e')){_0x2be72a=_0x134349+a23_0x4bf2('0x5d');_0x1ce68e=_0x52f25b+'.mp4';}console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x5f'));console[a23_0x4bf2('0x3e')](_0xfe1c43);console[a23_0x4bf2('0x3e')](_0x13eaf6);console[a23_0x4bf2('0x3e')](_0x2be72a);console[a23_0x4bf2('0x3e')](_0x1ce68e);console[a23_0x4bf2('0x3e')](_0x134349);console['log'](_0x52f25b);console[a23_0x4bf2('0x3e')]('**********+');if(fsExtra['existsSync'](this[a23_0x4bf2('0x19')]+_0x2be72a)){this[a23_0x4bf2('0x60')](this['tempFolder']+_0x2be72a)[a23_0x4bf2('0x4')](function(_0x5faae5){if(_0x5faae5){this['currentFile']++;}else{this[a23_0x4bf2('0x1f')]=!![];}this[a23_0x4bf2('0x4e')]();}[a23_0x4bf2('0x38')](this));}else if(fsExtra['existsSync'](this[a23_0x4bf2('0x1a')]+_0x2be72a)){this[a23_0x4bf2('0x60')](this[a23_0x4bf2('0x1a')]+_0x2be72a)[a23_0x4bf2('0x4')](function(_0x232acf){if(_0x232acf){fsExtra[a23_0x4bf2('0x61')](this['filesFolder']+_0x2be72a,this[a23_0x4bf2('0x19')]+_0x2be72a);this['currentFile']++;}else{this[a23_0x4bf2('0x1f')]=!![];}this['download']();}['bind'](this));}else{console[a23_0x4bf2('0x3e')]('Downloading:\x20'+_0x1ce68e);this[a23_0x4bf2('0x1f')]=!![];if(_0x13eaf6==a23_0x4bf2('0x5c')){this[a23_0x4bf2('0x62')](_0xfe1c43);}else{this[a23_0x4bf2('0x63')](_0x1ce68e,_0x2be72a,_0x13eaf6);}}}[a23_0x4bf2('0x60')](_0x5a9d37){return __awaiter(this,void 0x0,void 0x0,function*(){console[a23_0x4bf2('0x3e')]('videoFile:\x20'+_0x5a9d37);const _0x427e73=yield mediainfo(_0x5a9d37)[a23_0x4bf2('0x45')](_0x14b874=>{console[a23_0x4bf2('0x3e')](_0x14b874);fsExtra[a23_0x4bf2('0x52')](_0x5a9d37);return![];});const _0x40a5fd=_0x427e73[a23_0x4bf2('0x64')][a23_0x4bf2('0x65')]['length']>0x1&&_0x427e73[a23_0x4bf2('0x64')][a23_0x4bf2('0x65')][0x1]['@type']=='Video';if(!_0x40a5fd){fsExtra['removeSync'](_0x5a9d37);}console['log']('mediainfo\x20check:'+_0x40a5fd);return _0x40a5fd;});}[a23_0x4bf2('0x63')](_0x2dbe32,_0x203432,_0x5b80f6){const _0x5396aa=new Downloader();console[a23_0x4bf2('0x3e')](_0x2dbe32);console[a23_0x4bf2('0x3e')](_0x203432);console['log'](_0x5b80f6);const _0x178f87=_0x5396aa['download'](_0x2dbe32,this[a23_0x4bf2('0x19')]+_0x203432);urlExists(_0x2dbe32,function(_0x14fb7a,_0xdfda2f){if(_0xdfda2f){if(this[a23_0x4bf2('0x21')][a23_0x4bf2('0x66')](this['currentFile'])){const _0x360e4d=this['failDownloadFiles'][a23_0x4bf2('0x67')](this[a23_0x4bf2('0x1e')]);if(_0x360e4d>-0x1){this[a23_0x4bf2('0x21')]['splice'](_0x360e4d,0x1);}}console['log'](a23_0x4bf2('0x68')+_0x2dbe32);_0x178f87[a23_0x4bf2('0x69')]();}else{if(!this['failDownloadFiles']['includes'](this[a23_0x4bf2('0x1e')])){this[a23_0x4bf2('0x21')][a23_0x4bf2('0x4b')](this[a23_0x4bf2('0x1e')]);}console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x6a')+_0x2dbe32);this[a23_0x4bf2('0x1e')]++;this[a23_0x4bf2('0x4e')]();}}[a23_0x4bf2('0x38')](this));_0x178f87['on'](a23_0x4bf2('0x69'),function(_0x178f87){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x6b')+_0x2dbe32);});_0x178f87['on'](a23_0x4bf2('0x6c'),function(_0x178f87){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x6d'));this[a23_0x4bf2('0x4e')]();}[a23_0x4bf2('0x38')](this));_0x178f87['on'](a23_0x4bf2('0x6e'),function(_0x178f87){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x6e'));console['log']('Downloaded:\x20'+_0x203432);console['log']('mediaType:\x20'+_0x5b80f6);this[a23_0x4bf2('0x60')](this[a23_0x4bf2('0x19')]+_0x203432)[a23_0x4bf2('0x4')](function(_0x5b36c1){if(_0x5b36c1){this[a23_0x4bf2('0x1e')]++;}this['download']();}[a23_0x4bf2('0x38')](this));}['bind'](this));_0x178f87['on'](a23_0x4bf2('0x6f'),function(_0x178f87){console['log'](a23_0x4bf2('0x6f'));});_0x178f87['on'](a23_0x4bf2('0x70'),function(_0x178f87){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x70'));});_0x178f87['on'](a23_0x4bf2('0x71'),function(_0x178f87){console[a23_0x4bf2('0x3e')]('retry');});}['downloadHTTPFile'](_0x427de2,_0x7431b,_0x1599cc,_0x725b0){console['log'](a23_0x4bf2('0x72'));console[a23_0x4bf2('0x3e')](_0x427de2);const _0x17138f=!![];let _0x11738b=0x0;const _0x477acd='';console[a23_0x4bf2('0x3e')]('Attempting\x20to\x20download\x20'+_0x427de2+a23_0x4bf2('0x73')+_0x7431b);if(_0x11738b){if(_0x11738b>0x5){_0x725b0('Max\x20redirects\x20reached',_0x427de2,_0x1599cc,null);return;}}else{_0x11738b=0x0;}const _0x44f47d=this[a23_0x4bf2('0x19')]+_0x7431b;let _0x595b65;if(_0x725b0===undefined){console['log'](a23_0x4bf2('0x74')+_0x427de2+a23_0x4bf2('0x73')+_0x44f47d);_0x725b0=function(_0x3bb555,_0xd5b97e){console[a23_0x4bf2('0x3e')]('downloadFile\x20callback\x20result\x20undefined:\x20',_0x3bb555,_0xd5b97e);};}http['globalAgent'][a23_0x4bf2('0x75')]=0x64;const _0x4aaf2f={'host':url[a23_0x4bf2('0x2d')](_0x427de2)['host'],'port':0x50,'path':url['parse'](_0x427de2)[a23_0x4bf2('0x76')],'agent':![]};const _0x2f34a6=http[a23_0x4bf2('0x77')](_0x4aaf2f,function(_0x1f8fec){let _0xcf6727=0x0;let _0x13b6ca=0x0;function _0x2546f5(){if(_0xcf6727===undefined){console[a23_0x4bf2('0x3e')](_0x7431b+a23_0x4bf2('0x78')+_0x13b6ca+'/'+'?');}const _0x57e826=_0x13b6ca/_0xcf6727*0x64;console[a23_0x4bf2('0x3e')](_0x7431b+a23_0x4bf2('0x79')+_0x57e826+'%\x09'+_0x13b6ca+'/'+_0xcf6727);}console['log'](_0x7431b+'\x20'+_0x1f8fec[a23_0x4bf2('0x7a')]);switch(_0x1f8fec[a23_0x4bf2('0x7a')]){case 0xc8:_0xcf6727=_0x1f8fec[a23_0x4bf2('0x7b')]['content-length']||_0x477acd;fs['stat'](_0x44f47d,function(_0x505ff3,_0x1840aa){if(!_0x505ff3){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x7c')+_0x44f47d);if(_0x1840aa[a23_0x4bf2('0x7d')]==_0xcf6727){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x7e')+_0xcf6727+')');console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x7f'));}else{console['log'](a23_0x4bf2('0x80')+_0x1840aa[a23_0x4bf2('0x7d')]+a23_0x4bf2('0x81')+_0xcf6727+')');}}_0x595b65=fs[a23_0x4bf2('0x82')](_0x44f47d);_0x1f8fec[a23_0x4bf2('0x83')](_0x595b65);_0x1f8fec['on']('data',function(_0x1a02d8){_0x13b6ca+=_0x1a02d8[a23_0x4bf2('0x4d')];_0x2546f5();});_0x2f34a6['on']('error',function(_0x505ff3){console['log']('err:\x20');console[a23_0x4bf2('0x3e')](_0x505ff3);});_0x595b65['on']('finish',function(){console['log'](a23_0x4bf2('0x84')+_0x427de2+a23_0x4bf2('0x73')+_0x7431b);_0x725b0(null,_0x7431b,_0x1599cc,_0x7431b);}[a23_0x4bf2('0x38')](this));});break;case 0x12e:const _0x62300e=_0x1f8fec[a23_0x4bf2('0x7b')][a23_0x4bf2('0x85')];console['log'](a23_0x4bf2('0x86')+_0x427de2+a23_0x4bf2('0x73')+_0x62300e);if(_0x11738b<0x5){this[a23_0x4bf2('0x72')](_0x62300e,_0x7431b,_0x725b0,_0x11738b++);}else{console[a23_0x4bf2('0x6c')]('Redirect\x20limit\x20encountered\x20for\x20'+_0x427de2+'.');_0x725b0('302',null,null,null);}return;case 0x194:console[a23_0x4bf2('0x3e')]('File\x20Not\x20Found\x20'+_0x427de2);default:console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x87')+_0x427de2+a23_0x4bf2('0x88')+_0x1f8fec[a23_0x4bf2('0x7a')]);_0x2f34a6[a23_0x4bf2('0x89')]();_0x725b0(_0x1f8fec[a23_0x4bf2('0x7a')],null,null,null);return;}})['on'](a23_0x4bf2('0x6c'),function(_0x3cd3fb){console['log'](a23_0x4bf2('0x8a')+_0x427de2+'\x20'+_0x3cd3fb[a23_0x4bf2('0x8b')]);_0x725b0(_0x3cd3fb,null,null,null);});}[a23_0x4bf2('0x8c')](_0x1350a9,_0x4bf310,_0xba5358,_0x1b9772){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x8c'));console[a23_0x4bf2('0x3e')](_0x1350a9);console['log'](_0x4bf310);console[a23_0x4bf2('0x3e')](_0xba5358);console[a23_0x4bf2('0x3e')](_0x1b9772);if(_0xba5358==a23_0x4bf2('0x5e')){const _0x1f510d=this['downloadFiles'][this[a23_0x4bf2('0x1e')]][a23_0x4bf2('0x8d')]!=null?this[a23_0x4bf2('0x20')][this[a23_0x4bf2('0x1e')]][a23_0x4bf2('0x8d')]:0x1e;this['createImageVideo'](_0x1b9772,_0x1f510d);}else if(_0xba5358==a23_0x4bf2('0x8e')){if(_0x1350a9==null&&_0x4bf310!=''){this[a23_0x4bf2('0x1e')]++;}this[a23_0x4bf2('0x4e')]();}console[a23_0x4bf2('0x3e')](this[a23_0x4bf2('0x1e')]);}[a23_0x4bf2('0x8f')](_0x32a07b,_0x19b5df,_0x135600){progress(request(_0x32a07b),{})['on']('progress',function(_0x2d0221){console[a23_0x4bf2('0x3e')](_0x2d0221);})['on'](a23_0x4bf2('0x6c'),function(_0x915180){console[a23_0x4bf2('0x3e')]('Error\x20downloading\x20file');this[a23_0x4bf2('0x4e')]();})['on'](a23_0x4bf2('0x6e'),function(){console['log'](a23_0x4bf2('0x90')+_0x19b5df);console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x91')+_0x135600);if(_0x135600=='image'){const _0x5d4d30=this[a23_0x4bf2('0x20')][this['currentFile']][a23_0x4bf2('0x8d')]!=null?this[a23_0x4bf2('0x20')][this[a23_0x4bf2('0x1e')]][a23_0x4bf2('0x8d')]:0x1e;this[a23_0x4bf2('0x92')](_0x19b5df,_0x5d4d30);}else if(_0x135600==a23_0x4bf2('0x8e')){this['currentFile']++;this[a23_0x4bf2('0x4e')]();}}[a23_0x4bf2('0x38')](this))['pipe'](fs[a23_0x4bf2('0x82')](this[a23_0x4bf2('0x19')]+_0x19b5df));}[a23_0x4bf2('0x92')](_0x282cdc,_0x4217ec=0x1e){const _0x3b9538=this[a23_0x4bf2('0x19')]+_0x282cdc;console[a23_0x4bf2('0x3e')](_0x3b9538);console[a23_0x4bf2('0x3e')](_0x282cdc);const _0x3ace60=_0x282cdc[a23_0x4bf2('0x59')]('.')[a23_0x4bf2('0x5a')](0x0,-0x1)['join']('.');const _0x42ed1c=a23_0x4bf2('0x93');const _0x255c51=['-y','-r','1/2',a23_0x4bf2('0x94'),'1',a23_0x4bf2('0x95'),a23_0x4bf2('0x96'),'-i',_0x3b9538,'-t',String(_0x4217ec),'-c:v','libx264','-pix_fmt','yuv420p','-r','25',a23_0x4bf2('0x97'),a23_0x4bf2('0x98'),this[a23_0x4bf2('0x19')]+_0x3ace60+a23_0x4bf2('0x5d')];const _0x50d2cd=spawn(_0x42ed1c,_0x255c51);_0x50d2cd['stdout']['on']('data',function(_0x3210dc){console['log'](a23_0x4bf2('0x99')+_0x3b9538);});_0x50d2cd[a23_0x4bf2('0x9a')]['on']('data',function(_0x45ecce){console[a23_0x4bf2('0x3e')]('stderr:\x20'+_0x45ecce);}['bind'](this));_0x50d2cd['on']('close',function(){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x9b'));this[a23_0x4bf2('0x1e')]++;this[a23_0x4bf2('0x4e')]();}[a23_0x4bf2('0x38')](this));}['downloadYouTube'](_0x466205){const _0x551c4f=this[a23_0x4bf2('0x19')]+'/'+_0x466205+a23_0x4bf2('0x5d');const _0x1aa9db=youtubedl('http://www.youtube.com/watch?v='+_0x466205,[a23_0x4bf2('0x9c')],{'cwd':__dirname});_0x1aa9db['on']('info',function(_0x1d6af4){console['log'](a23_0x4bf2('0x9d'));console[a23_0x4bf2('0x3e')]('filename:\x20'+_0x1d6af4[a23_0x4bf2('0x9e')]);console[a23_0x4bf2('0x3e')](a23_0x4bf2('0x9f')+_0x1d6af4['size']);});_0x1aa9db['on']('complete',function complete(_0x53badf){'use strict';console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xa0')+_0x53badf[a23_0x4bf2('0x9e')]+a23_0x4bf2('0xa1'));});_0x1aa9db['on'](a23_0x4bf2('0x6e'),function(){console['log'](a23_0x4bf2('0xa2'));this[a23_0x4bf2('0x60')](_0x551c4f)[a23_0x4bf2('0x4')](function(_0x494e89){if(_0x494e89){this[a23_0x4bf2('0x1e')]++;}this[a23_0x4bf2('0x4e')]();}[a23_0x4bf2('0x38')](this));}['bind'](this));_0x1aa9db[a23_0x4bf2('0x83')](fs['createWriteStream'](_0x551c4f));}[a23_0x4bf2('0x55')](){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xa3'));if(this[a23_0x4bf2('0x1f')]){if(this[a23_0x4bf2('0x21')][a23_0x4bf2('0x4d')]==0x0){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xa4')+this['playListFile']);fs[a23_0x4bf2('0x3f')](this[a23_0x4bf2('0x1b')],JSON[a23_0x4bf2('0x3a')](this[a23_0x4bf2('0x22')]));let _0x11d19b=a23_0x4bf2('0xa5')+'\x0d\x0a'+a23_0x4bf2('0xa6')+'\x0d\x0a';for(const _0x8e48a in this[a23_0x4bf2('0x20')]){const _0x5d2b69=this[a23_0x4bf2('0x20')][_0x8e48a][a23_0x4bf2('0x56')];const _0x5a2182=this[a23_0x4bf2('0x20')][_0x8e48a][a23_0x4bf2('0xa7')];const _0x314090=_0x5d2b69[a23_0x4bf2('0x57')](_0x5d2b69[a23_0x4bf2('0x58')]('/')+0x1);let _0xc06015=_0x314090[a23_0x4bf2('0x59')]('.')['slice'](0x0,-0x1)['join']('.');if(_0x5a2182==a23_0x4bf2('0x5c')){_0xc06015=_0x5d2b69;}_0x11d19b+=a23_0x4bf2('0xa8')+_0xc06015+a23_0x4bf2('0x5d')+'\x0d\x0a';console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xa9')+_0x11d19b);}console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xa9')+_0x11d19b);fsExtra[a23_0x4bf2('0x51')](this[a23_0x4bf2('0x1a')]);console['log']('copySync:\x20'+this[a23_0x4bf2('0x19')]);fsExtra[a23_0x4bf2('0x61')](this[a23_0x4bf2('0x19')],this['filesFolder']);console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xaa')+this[a23_0x4bf2('0x1c')]);fsExtra[a23_0x4bf2('0x3f')](this[a23_0x4bf2('0x1c')],_0x11d19b);console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xab')+this[a23_0x4bf2('0x19')]);fsExtra['emptyDirSync'](this[a23_0x4bf2('0x19')]);console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xac'));this[a23_0x4bf2('0xad')]();}else{console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xae'));this[a23_0x4bf2('0x1e')]=0x0;setTimeout(function(){this['download']();}[a23_0x4bf2('0x38')](this),0x1388);}}else{console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xaf'));}}[a23_0x4bf2('0xb0')](){this[a23_0x4bf2('0xb1')]('Playlist.Clear',{'playlistid':0x1},function(_0x23b39d){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xb2'));console['log'](_0x23b39d);this[a23_0x4bf2('0xb1')](a23_0x4bf2('0xb3'),{'item':{'file':'//home/osmc/luloclient/media/files/lulo_playlist.m3u'},'playlistid':0x1},function(_0x23b39d){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xb4'));console[a23_0x4bf2('0x3e')](_0x23b39d);this[a23_0x4bf2('0xb1')]('Player.Open',{'item':{'playlistid':0x1,'position':0x0}},function(_0x23b39d){console['log'](a23_0x4bf2('0xb5'));console[a23_0x4bf2('0x3e')](_0x23b39d);this[a23_0x4bf2('0xb6')](a23_0x4bf2('0xb7'));}['bind'](this));}[a23_0x4bf2('0x38')](this));}[a23_0x4bf2('0x38')](this));}[a23_0x4bf2('0xad')](){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xb8'));exec('shutdown\x20-r\x20now',function(_0x4630af){console[a23_0x4bf2('0x3e')](_0x4630af);});}[a23_0x4bf2('0x36')](){const _0x56f7e1=format(this['playerServiceURL'],this['playerId']);console[a23_0x4bf2('0x3e')](_0x56f7e1);request({'url':_0x56f7e1,'json':!![]},function(_0x4ec42d,_0x3aa289,_0x5c5a7b){if(_0x5c5a7b[a23_0x4bf2('0x4d')]>0x0){const _0x813eff=_0x5c5a7b[0x0];const _0x24eb8f=_0x813eff[a23_0x4bf2('0xb9')];const _0xc47e57=_0x813eff[a23_0x4bf2('0xba')]==0x1;this[a23_0x4bf2('0xbb')](_0x24eb8f);this[a23_0x4bf2('0xbc')](_0xc47e57);this['registerClient']();}console[a23_0x4bf2('0x3e')](_0x5c5a7b);}[a23_0x4bf2('0x38')](this));}[a23_0x4bf2('0xbd')](){this['kodiCommandClient'](a23_0x4bf2('0xbe'));}[a23_0x4bf2('0xbf')](){this[a23_0x4bf2('0xb6')]('CECActivateSource()');}['setRss'](_0x49ad8b){const _0x3775ae=_0x49ad8b!=null&&_0x49ad8b!='';const _0xbce307=a23_0x4bf2('0xc0');const _0x2a5b3a=fsExtra[a23_0x4bf2('0x2f')](_0xbce307);console['log'](a23_0x4bf2('0xc1')+_0x2a5b3a);const _0x2e8301=require(a23_0x4bf2('0xc2'));const _0x59a2af=_0x2e8301[a23_0x4bf2('0xc3')];_0x59a2af(_0x2a5b3a,function(_0x4e30f3,_0x1aefb0){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xc4'),_0x4e30f3);console['log'](a23_0x4bf2('0xc5'),_0x1aefb0);if(!_0x49ad8b||_0x49ad8b==null||_0x49ad8b==''){_0x49ad8b=a23_0x4bf2('0xc6');}_0x1aefb0[a23_0x4bf2('0xc7')][a23_0x4bf2('0xc8')][0x0][a23_0x4bf2('0xc9')][0x0]['_']=_0x49ad8b;const _0x15ca35=new _0x2e8301[(a23_0x4bf2('0xca'))]();const _0x3e2dda=_0x15ca35['buildObject'](_0x1aefb0);console[a23_0x4bf2('0x3e')]('xml:\x20%j',_0x3e2dda);fsExtra[a23_0x4bf2('0x3f')](_0xbce307,_0x3e2dda);});this[a23_0x4bf2('0xb6')]('RefreshRSS()');this[a23_0x4bf2('0xb1')]('Settings.SetSettingValue',{'setting':a23_0x4bf2('0xcb'),'value':_0x3775ae},function(_0x36729f){console[a23_0x4bf2('0x3e')](a23_0x4bf2('0xcc'));console['log'](_0x36729f);}['bind'](this));}[a23_0x4bf2('0xbc')](_0x9a1726){this[a23_0x4bf2('0xb1')]('Settings.SetSettingValue',{'setting':a23_0x4bf2('0xcd'),'value':_0x9a1726},function(_0x3ad8a1){console['log']('enableClock:\x20');console[a23_0x4bf2('0x3e')](_0x3ad8a1);}[a23_0x4bf2('0x38')](this));}[a23_0x4bf2('0xb6')](_0x5c789f){exec(a23_0x4bf2('0xce')+_0x5c789f+'\x22',function(_0x2446e9){console[a23_0x4bf2('0x3e')](_0x2446e9);});}[a23_0x4bf2('0xb1')](_0x315448,_0x9b41f0,_0x27ade7){const _0x235344={'jsonrpc':'2.0','method':_0x315448,'params':_0x9b41f0,'id':0x1};this[a23_0x4bf2('0xcf')][a23_0x4bf2('0x3c')](this[a23_0x4bf2('0x23')]+a23_0x4bf2('0xd0'),_0x235344,![],{'user':this[a23_0x4bf2('0x24')],'pass':this[a23_0x4bf2('0x26')]})[a23_0x4bf2('0x4')](function(_0x33fb01){_0x27ade7(_0x33fb01);})[a23_0x4bf2('0x45')](function(_0x1f00be){});}}exports['SyncPlaylistsService']=SyncPlaylistsService;
var a23_0x2c24=['catch','deviceUuid','writeFileSync','getStatus','player','item','reportStatus','http://restapi.lulo.run/player_devices/report_status','ensureDir','playlistChanged','hasPlayListChanged','emptyDirSync','downloadFiles','push','Total:\x20','length','reloadMediaList','existsSync','playListFile','removeSync','readFileSync','\x20of\x20','finishProcess','path','substring','lastIndexOf','split','slice','join','youtube_single','.mp4','image','**********+','checkVideo','download','copySync','Downloading:\x20','downloadYouTube','downloader','videoFile:\x20','media','track','@type','Video','mediainfo\x20check:','includes','splice','start','Error:\x20','start:\x20','error:\x20','end','stopped','destroyed','downloadHTTPFile','Attempting\x20to\x20download\x20','\x20to\x20','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','maxSockets','pathname','get','\x20Progress:\x20unknown\x09','\x20Progress:\x20','statusCode','headers','content-length','stat','Have\x20already\x20downloaded\x20','size','Redownloading',')\x20vs\x20New(','createWriteStream','data','err:\x20','finish','Downloaded\x20','location','error','Redirect\x20limit\x20encountered\x20for\x20','File\x20Not\x20Found\x20','Problem\x20downloading\x20','\x20STATUS:\x20','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','duration','video','downloadRequestFile','progress','Error\x20downloading\x20file','Downloaded:\x20','mediaType:\x20','createImageVideo','ffmpeg','1/2','glob','-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','Converting\x20','stderr:\x20','close','finished\x20mp4\x20convert','http://www.youtube.com/watch?v=','--format=18','info','Download\x20started','filename:\x20','_filename','complete','finished\x20youtube\x20downloading!','pipe','Finishing','#EXTINF:0,luloPlayList','/home/osmc/luloclient/media/files/','Refreshing..','refreshPlayer','Playlist\x20incomplete,\x20retry.','No\x20playlist\x20changes.','Playlist.Clear','Playlist.Cleared','jsonrpcClient','Playlist.Add','//home/osmc/luloclient/media/files/lulo_playlist.m3u','Playlist.Added','Player.Open','kodiCommandClient','RestartApp()','reboot','Reboot()','rss','header_active','setRss','enableClock','turnOffTV','CECStandby()','turnOnTV','CECActivateSource()','/home/osmc/.kodi/userdata/RssFeeds.xml','parseString','err:\x20%j','result:\x20%j','none','set','feed','Builder','RefreshRSS()','lookandfeel.enablerssfeeds','Settings.SetSettingValue','enableClock:\x20','kodi-send\x20--action=\x22','/jsonrpc','SyncPlaylistsService','__awaiter','next','done','then','defineProperty','__esModule','../infrastructure/HttpClientService','./playerService','node-mediainfo','url','http','fs-extra','request','request-progress','child_process','spawn','exec','is-image','string-template','youtube-dl','uuid/v4','context.json','url-exists','node-kodi','mt-files-downloader','mediaFolder','media/','tempFolder','filesFolder','files/','playlist.txt','m3uFile','lulo_playlist.m3u','currentFile','failDownloadFiles','newPlayList','http://localhost','lulo','.lulo123.','forceReload','httpClientService','playerService','PlayerService','init','config','parse','context','playerId','baseURL','env','WEB_SERVICE_URL','deploy/','playListServiceURL','api/player_playlist.php?player_id={0}','api/player.php?player_id={0}','kodi','kodiUser','kodiPassword','checkDependencies','registerClient','checkFolders','loadMediaList','updateSettings','bind','playlist','getItems','stringify','post','http://restapi.lulo.run/player_devices/register','log','register\x20response:\x20'];(function(_0x1a2628,_0x528615){var _0x4025a2=function(_0x2a0bf2){while(--_0x2a0bf2){_0x1a2628['push'](_0x1a2628['shift']());}};_0x4025a2(++_0x528615);}(a23_0x2c24,0x17f));var a23_0x26fc=function(_0x5eeba0,_0x46f471){_0x5eeba0=_0x5eeba0-0x0;var _0x4631dd=a23_0x2c24[_0x5eeba0];return _0x4631dd;};'use strict';var __awaiter=this&&this[a23_0x26fc('0x0')]||function(_0x17132a,_0x370270,_0x113b8f,_0x4d7f35){function _0x5b8e01(_0x4a5b71){return _0x4a5b71 instanceof _0x113b8f?_0x4a5b71:new _0x113b8f(function(_0x5d1628){_0x5d1628(_0x4a5b71);});}return new(_0x113b8f||(_0x113b8f=Promise))(function(_0x15f992,_0xc4230){function _0x187b76(_0x10e741){try{_0x411b83(_0x4d7f35[a23_0x26fc('0x1')](_0x10e741));}catch(_0x4665a7){_0xc4230(_0x4665a7);}}function _0x21eb29(_0x224f4b){try{_0x411b83(_0x4d7f35['throw'](_0x224f4b));}catch(_0x41fb9e){_0xc4230(_0x41fb9e);}}function _0x411b83(_0x4ccc62){_0x4ccc62[a23_0x26fc('0x2')]?_0x15f992(_0x4ccc62['value']):_0x5b8e01(_0x4ccc62['value'])[a23_0x26fc('0x3')](_0x187b76,_0x21eb29);}_0x411b83((_0x4d7f35=_0x4d7f35['apply'](_0x17132a,_0x370270||[]))[a23_0x26fc('0x1')]());});};Object[a23_0x26fc('0x4')](exports,a23_0x26fc('0x5'),{'value':!![]});const HttpClientService_1=require(a23_0x26fc('0x6'));const playerService_1=require(a23_0x26fc('0x7'));const mediainfo=require(a23_0x26fc('0x8'));const fs=require('fs');const url=require(a23_0x26fc('0x9'));const http=require(a23_0x26fc('0xa'));const fsExtra=require(a23_0x26fc('0xb'));const request=require(a23_0x26fc('0xc'));const progress=require(a23_0x26fc('0xd'));const spawn=require(a23_0x26fc('0xe'))[a23_0x26fc('0xf')];const exec=require(a23_0x26fc('0xe'))[a23_0x26fc('0x10')];const isImage=require(a23_0x26fc('0x11'));const format=require(a23_0x26fc('0x12'));const os=require('os');const youtubedl=require(a23_0x26fc('0x13'));const uuidv4=require(a23_0x26fc('0x14'));const configFile='config.json';const contextFile=a23_0x26fc('0x15');const urlExists=require(a23_0x26fc('0x16'));const kodi_rpc=require(a23_0x26fc('0x17'));const Downloader=require(a23_0x26fc('0x18'));class SyncPlaylistsService{constructor(){this[a23_0x26fc('0x19')]=a23_0x26fc('0x1a');this[a23_0x26fc('0x1b')]=this[a23_0x26fc('0x19')]+'temp/';this[a23_0x26fc('0x1c')]=this[a23_0x26fc('0x19')]+a23_0x26fc('0x1d');this['playListFile']=this['mediaFolder']+a23_0x26fc('0x1e');this[a23_0x26fc('0x1f')]=this['filesFolder']+a23_0x26fc('0x20');this[a23_0x26fc('0x21')]=0x0;this['playlistChanged']=![];this['downloadFiles']=[];this[a23_0x26fc('0x22')]=[];this[a23_0x26fc('0x23')]={};this['kodiHost']=a23_0x26fc('0x24');this['kodiUser']=a23_0x26fc('0x25');this['kodiPassword']=a23_0x26fc('0x26');this[a23_0x26fc('0x27')]=![];this[a23_0x26fc('0x28')]=new HttpClientService_1['HttpClientService']();this[a23_0x26fc('0x29')]=new playerService_1[(a23_0x26fc('0x2a'))]();}[a23_0x26fc('0x2b')](){this[a23_0x26fc('0x2c')]=JSON[a23_0x26fc('0x2d')](fs['readFileSync'](configFile));this[a23_0x26fc('0x2e')]=JSON[a23_0x26fc('0x2d')](fs['readFileSync'](contextFile));this['playerId']=this[a23_0x26fc('0x2c')][a23_0x26fc('0x2f')];this[a23_0x26fc('0x30')]=process[a23_0x26fc('0x31')][a23_0x26fc('0x32')]+a23_0x26fc('0x33');this[a23_0x26fc('0x34')]=this['baseURL']+a23_0x26fc('0x35');this['playerServiceURL']=this[a23_0x26fc('0x30')]+a23_0x26fc('0x36');this[a23_0x26fc('0x37')]=new kodi_rpc({'url':this['kodiHost'],'user':this[a23_0x26fc('0x38')],'password':this[a23_0x26fc('0x39')]});this[a23_0x26fc('0x3a')]();this[a23_0x26fc('0x3b')]();this[a23_0x26fc('0x3c')]();this[a23_0x26fc('0x3d')]();this[a23_0x26fc('0x3e')]();setInterval(function(){this['getStatus']();}['bind'](this),0x2710);setInterval(function(){this[a23_0x26fc('0x3b')]();}[a23_0x26fc('0x3f')](this),0x493e0);}['checkDependencies'](){}[a23_0x26fc('0x3b')](){this['kodi'][a23_0x26fc('0x40')][a23_0x26fc('0x41')](0x1)[a23_0x26fc('0x3')](function(_0x3f631c){const _0x2cca24=JSON['stringify'](_0x3f631c);const _0x582396={'player_id':this[a23_0x26fc('0x2f')],'device_uuid':this[a23_0x26fc('0x2c')]['deviceUuid'],'network_info':JSON[a23_0x26fc('0x42')](os['networkInterfaces']()),'firmware_info':JSON[a23_0x26fc('0x42')](this['context']),'playlist':_0x2cca24,'playing_item':'','status':0x0};this[a23_0x26fc('0x28')][a23_0x26fc('0x43')](a23_0x26fc('0x44'),_0x582396,![])[a23_0x26fc('0x3')](function(_0x4d54df){console[a23_0x26fc('0x45')](a23_0x26fc('0x46')+Date());})[a23_0x26fc('0x47')](function(_0x5b5d4a){});console[a23_0x26fc('0x45')](_0x582396);}[a23_0x26fc('0x3f')](this));const _0x1f074e=this['config']['deviceUuid'];if(!_0x1f074e||_0x1f074e==''){this[a23_0x26fc('0x2c')][a23_0x26fc('0x48')]=uuidv4();this[a23_0x26fc('0x2c')]={'deviceUuid':this[a23_0x26fc('0x2c')][a23_0x26fc('0x48')],'playerId':this[a23_0x26fc('0x2c')][a23_0x26fc('0x2f')]};fs[a23_0x26fc('0x49')](configFile,JSON[a23_0x26fc('0x42')](this['config']));}}[a23_0x26fc('0x4a')](){console[a23_0x26fc('0x45')](a23_0x26fc('0x4a'));this['kodi'][a23_0x26fc('0x4b')]['getCurrentlyPlayingVideo']()[a23_0x26fc('0x3')](function(_0x287a41){const _0x4dca69=_0x287a41[a23_0x26fc('0x4c')]['label'];this[a23_0x26fc('0x4d')](_0x4dca69);}[a23_0x26fc('0x3f')](this))[a23_0x26fc('0x47')](function(_0x5a902a){console[a23_0x26fc('0x45')](_0x5a902a);this['reportStatus'](JSON[a23_0x26fc('0x42')](_0x5a902a));}[a23_0x26fc('0x3f')](this));}[a23_0x26fc('0x4d')](_0x9448e3){console['log']('playingItem:\x20'+_0x9448e3);const _0x547509={'player_id':this[a23_0x26fc('0x2f')],'device_uuid':this[a23_0x26fc('0x2c')][a23_0x26fc('0x48')],'status':_0x9448e3!=''&&_0x9448e3!=null?0x1:0x0,'playing_item':_0x9448e3};this[a23_0x26fc('0x28')]['post'](a23_0x26fc('0x4e'),_0x547509,![])['then'](function(_0x1c1c11){console[a23_0x26fc('0x45')]('reportStatusResponse:\x20'+_0x1c1c11);})[a23_0x26fc('0x47')](function(_0x2b90d2){});}[a23_0x26fc('0x3c')](){fsExtra[a23_0x26fc('0x4f')](this[a23_0x26fc('0x19')],_0x3c1797=>{});fsExtra[a23_0x26fc('0x4f')](this[a23_0x26fc('0x1b')],_0x1c5fbc=>{});fsExtra[a23_0x26fc('0x4f')](this[a23_0x26fc('0x1c')],_0xc15ab3=>{});}['loadMediaList'](){const _0x4641e5=format(this[a23_0x26fc('0x34')],this['playerId']);console[a23_0x26fc('0x45')](_0x4641e5);request({'url':_0x4641e5,'json':!![]},function(_0x498318,_0x25e566,_0x1d8926){console[a23_0x26fc('0x45')]('loadMediaList:\x20');this['newPlayList']=_0x1d8926;this[a23_0x26fc('0x50')]=this[a23_0x26fc('0x51')]();fsExtra[a23_0x26fc('0x52')](this[a23_0x26fc('0x1b')]);this[a23_0x26fc('0x53')]=[];this[a23_0x26fc('0x22')]=[];this[a23_0x26fc('0x21')]=0x0;for(const _0x13d606 in _0x1d8926){this[a23_0x26fc('0x53')][a23_0x26fc('0x54')](_0x1d8926[_0x13d606]);}console['log'](a23_0x26fc('0x55')+this[a23_0x26fc('0x53')][a23_0x26fc('0x56')]);if(this[a23_0x26fc('0x53')][a23_0x26fc('0x56')]>0x0){this['download']();}}[a23_0x26fc('0x3f')](this));}[a23_0x26fc('0x57')](){this['forceReload']=!![];if(fsExtra[a23_0x26fc('0x58')](this['tempFolder'])){fsExtra[a23_0x26fc('0x52')](this[a23_0x26fc('0x1b')]);}if(fsExtra[a23_0x26fc('0x58')](this[a23_0x26fc('0x1c')])){fsExtra[a23_0x26fc('0x52')](this[a23_0x26fc('0x1c')]);}if(!fsExtra[a23_0x26fc('0x58')](this[a23_0x26fc('0x59')])){fsExtra[a23_0x26fc('0x5a')](this['playListFile']);}if(!fsExtra[a23_0x26fc('0x58')](this[a23_0x26fc('0x1f')])){fsExtra[a23_0x26fc('0x5a')](this[a23_0x26fc('0x1f')]);}this[a23_0x26fc('0x3d')]();}['hasPlayListChanged'](){const _0x1db0da=JSON[a23_0x26fc('0x42')](this[a23_0x26fc('0x23')]);try{if(!fsExtra[a23_0x26fc('0x58')](this[a23_0x26fc('0x59')])){return!![];}else{const _0x4f018c=fsExtra[a23_0x26fc('0x5b')](this[a23_0x26fc('0x59')])['toString']();if(_0x4f018c!=_0x1db0da){return!![];}}}catch(_0x5ef7bd){console[a23_0x26fc('0x45')](_0x5ef7bd);}return![];}['download'](){console[a23_0x26fc('0x45')]('this.currentFile:\x20'+this[a23_0x26fc('0x21')]+a23_0x26fc('0x5c')+this[a23_0x26fc('0x53')][a23_0x26fc('0x56')]);if(this[a23_0x26fc('0x21')]>=this[a23_0x26fc('0x53')][a23_0x26fc('0x56')]){this[a23_0x26fc('0x5d')]();return;}const _0xa7187c=String(this['downloadFiles'][this[a23_0x26fc('0x21')]][a23_0x26fc('0x5e')]);const _0x16541d=this[a23_0x26fc('0x53')][this['currentFile']]['media_type'];let _0x1eb08e=_0xa7187c[a23_0x26fc('0x5f')](_0xa7187c[a23_0x26fc('0x60')]('/')+0x1);const _0x4b168b=_0x1eb08e[a23_0x26fc('0x61')]('.')[a23_0x26fc('0x62')](0x0,-0x1)[a23_0x26fc('0x63')]('.');let _0x1b7f40=this[a23_0x26fc('0x30')]+_0xa7187c;const _0x43e358=_0x1b7f40['split']('.')[a23_0x26fc('0x62')](0x0,-0x1)[a23_0x26fc('0x63')]('.');if(_0x16541d==a23_0x26fc('0x64')){_0x1eb08e=_0x1eb08e+a23_0x26fc('0x65');}else if(_0x16541d==a23_0x26fc('0x66')){_0x1eb08e=_0x4b168b+a23_0x26fc('0x65');_0x1b7f40=_0x43e358+'.mp4';}console[a23_0x26fc('0x45')]('**********+');console[a23_0x26fc('0x45')](_0xa7187c);console[a23_0x26fc('0x45')](_0x16541d);console[a23_0x26fc('0x45')](_0x1eb08e);console[a23_0x26fc('0x45')](_0x1b7f40);console[a23_0x26fc('0x45')](_0x4b168b);console['log'](_0x43e358);console[a23_0x26fc('0x45')](a23_0x26fc('0x67'));if(fsExtra['existsSync'](this['tempFolder']+_0x1eb08e)){this[a23_0x26fc('0x68')](this['tempFolder']+_0x1eb08e)[a23_0x26fc('0x3')](function(_0x2d7c28){if(_0x2d7c28){this[a23_0x26fc('0x21')]++;}else{this[a23_0x26fc('0x50')]=!![];}this[a23_0x26fc('0x69')]();}[a23_0x26fc('0x3f')](this));}else if(fsExtra['existsSync'](this[a23_0x26fc('0x1c')]+_0x1eb08e)){this[a23_0x26fc('0x68')](this[a23_0x26fc('0x1c')]+_0x1eb08e)[a23_0x26fc('0x3')](function(_0x464080){if(_0x464080){fsExtra[a23_0x26fc('0x6a')](this[a23_0x26fc('0x1c')]+_0x1eb08e,this[a23_0x26fc('0x1b')]+_0x1eb08e);this[a23_0x26fc('0x21')]++;}else{this[a23_0x26fc('0x50')]=!![];}this[a23_0x26fc('0x69')]();}['bind'](this));}else{console[a23_0x26fc('0x45')](a23_0x26fc('0x6b')+_0x1b7f40);this[a23_0x26fc('0x50')]=!![];if(_0x16541d==a23_0x26fc('0x64')){this[a23_0x26fc('0x6c')](_0xa7187c);}else{this[a23_0x26fc('0x6d')](_0x1b7f40,_0x1eb08e,_0x16541d);}}}[a23_0x26fc('0x68')](_0x588671){return __awaiter(this,void 0x0,void 0x0,function*(){console[a23_0x26fc('0x45')](a23_0x26fc('0x6e')+_0x588671);const _0x39bbdb=yield mediainfo(_0x588671)[a23_0x26fc('0x47')](_0x5e10a1=>{console['log'](_0x5e10a1);fsExtra[a23_0x26fc('0x5a')](_0x588671);return![];});const _0x140a4f=_0x39bbdb[a23_0x26fc('0x6f')][a23_0x26fc('0x70')][a23_0x26fc('0x56')]>0x1&&_0x39bbdb[a23_0x26fc('0x6f')][a23_0x26fc('0x70')][0x1][a23_0x26fc('0x71')]==a23_0x26fc('0x72');if(!_0x140a4f){fsExtra['removeSync'](_0x588671);}console[a23_0x26fc('0x45')](a23_0x26fc('0x73')+_0x140a4f);return _0x140a4f;});}[a23_0x26fc('0x6d')](_0x34ffb5,_0x146ef8,_0x53ca82){const _0x3fa49d=new Downloader();console[a23_0x26fc('0x45')](_0x34ffb5);console['log'](_0x146ef8);console[a23_0x26fc('0x45')](_0x53ca82);const _0x515d47=_0x3fa49d[a23_0x26fc('0x69')](_0x34ffb5,this['tempFolder']+_0x146ef8);urlExists(_0x34ffb5,function(_0x253410,_0x4c56a3){if(_0x4c56a3){if(this['failDownloadFiles'][a23_0x26fc('0x74')](this[a23_0x26fc('0x21')])){const _0x260e39=this[a23_0x26fc('0x22')]['indexOf'](this[a23_0x26fc('0x21')]);if(_0x260e39>-0x1){this[a23_0x26fc('0x22')][a23_0x26fc('0x75')](_0x260e39,0x1);}}console['log']('downloading:\x20'+_0x34ffb5);_0x515d47[a23_0x26fc('0x76')]();}else{if(!this['failDownloadFiles'][a23_0x26fc('0x74')](this[a23_0x26fc('0x21')])){this[a23_0x26fc('0x22')][a23_0x26fc('0x54')](this[a23_0x26fc('0x21')]);}console[a23_0x26fc('0x45')](a23_0x26fc('0x77')+_0x34ffb5);this[a23_0x26fc('0x21')]++;this[a23_0x26fc('0x69')]();}}[a23_0x26fc('0x3f')](this));_0x515d47['on'](a23_0x26fc('0x76'),function(_0x515d47){console[a23_0x26fc('0x45')](a23_0x26fc('0x78')+_0x34ffb5);});_0x515d47['on']('error',function(_0x515d47){console['log'](a23_0x26fc('0x79'));this['download']();}[a23_0x26fc('0x3f')](this));_0x515d47['on']('end',function(_0x515d47){console['log'](a23_0x26fc('0x7a'));console[a23_0x26fc('0x45')]('Downloaded:\x20'+_0x146ef8);console[a23_0x26fc('0x45')]('mediaType:\x20'+_0x53ca82);this[a23_0x26fc('0x68')](this['tempFolder']+_0x146ef8)[a23_0x26fc('0x3')](function(_0x57211c){if(_0x57211c){this[a23_0x26fc('0x21')]++;}this['download']();}['bind'](this));}[a23_0x26fc('0x3f')](this));_0x515d47['on'](a23_0x26fc('0x7b'),function(_0x515d47){console[a23_0x26fc('0x45')](a23_0x26fc('0x7b'));});_0x515d47['on']('destroyed',function(_0x515d47){console[a23_0x26fc('0x45')](a23_0x26fc('0x7c'));});_0x515d47['on']('retry',function(_0x515d47){console[a23_0x26fc('0x45')]('retry');});}['downloadHTTPFile'](_0x4f18e4,_0x2d203d,_0x5b77ea,_0x3c5ef6){console['log'](a23_0x26fc('0x7d'));console['log'](_0x4f18e4);const _0x4ffc83=!![];let _0xb89f52=0x0;const _0x13ce3f='';console[a23_0x26fc('0x45')](a23_0x26fc('0x7e')+_0x4f18e4+a23_0x26fc('0x7f')+_0x2d203d);if(_0xb89f52){if(_0xb89f52>0x5){_0x3c5ef6('Max\x20redirects\x20reached',_0x4f18e4,_0x5b77ea,null);return;}}else{_0xb89f52=0x0;}const _0x26a037=this['tempFolder']+_0x2d203d;let _0x160fc1;if(_0x3c5ef6===undefined){console[a23_0x26fc('0x45')](a23_0x26fc('0x80')+_0x4f18e4+a23_0x26fc('0x7f')+_0x26a037);_0x3c5ef6=function(_0x1409d3,_0x599f65){console[a23_0x26fc('0x45')]('downloadFile\x20callback\x20result\x20undefined:\x20',_0x1409d3,_0x599f65);};}http['globalAgent'][a23_0x26fc('0x81')]=0x64;const _0x340c16={'host':url[a23_0x26fc('0x2d')](_0x4f18e4)['host'],'port':0x50,'path':url[a23_0x26fc('0x2d')](_0x4f18e4)[a23_0x26fc('0x82')],'agent':![]};const _0x31fcb8=http[a23_0x26fc('0x83')](_0x340c16,function(_0x2e3f24){let _0x1e1748=0x0;let _0x33c08f=0x0;function _0x9423f6(){if(_0x1e1748===undefined){console['log'](_0x2d203d+a23_0x26fc('0x84')+_0x33c08f+'/'+'?');}const _0x5a1a03=_0x33c08f/_0x1e1748*0x64;console[a23_0x26fc('0x45')](_0x2d203d+a23_0x26fc('0x85')+_0x5a1a03+'%\x09'+_0x33c08f+'/'+_0x1e1748);}console['log'](_0x2d203d+'\x20'+_0x2e3f24[a23_0x26fc('0x86')]);switch(_0x2e3f24[a23_0x26fc('0x86')]){case 0xc8:_0x1e1748=_0x2e3f24[a23_0x26fc('0x87')][a23_0x26fc('0x88')]||_0x13ce3f;fs[a23_0x26fc('0x89')](_0x26a037,function(_0x1f781a,_0xa44e61){if(!_0x1f781a){console[a23_0x26fc('0x45')](a23_0x26fc('0x8a')+_0x26a037);if(_0xa44e61[a23_0x26fc('0x8b')]==_0x1e1748){console['log']('And\x20the\x20file\x20size\x20matches\x20('+_0x1e1748+')');console[a23_0x26fc('0x45')](a23_0x26fc('0x8c'));}else{console[a23_0x26fc('0x45')]('But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old('+_0xa44e61[a23_0x26fc('0x8b')]+a23_0x26fc('0x8d')+_0x1e1748+')');}}_0x160fc1=fs[a23_0x26fc('0x8e')](_0x26a037);_0x2e3f24['pipe'](_0x160fc1);_0x2e3f24['on'](a23_0x26fc('0x8f'),function(_0xb79d27){_0x33c08f+=_0xb79d27[a23_0x26fc('0x56')];_0x9423f6();});_0x31fcb8['on']('error',function(_0x1f781a){console[a23_0x26fc('0x45')](a23_0x26fc('0x90'));console[a23_0x26fc('0x45')](_0x1f781a);});_0x160fc1['on'](a23_0x26fc('0x91'),function(){console[a23_0x26fc('0x45')](a23_0x26fc('0x92')+_0x4f18e4+'\x20to\x20'+_0x2d203d);_0x3c5ef6(null,_0x2d203d,_0x5b77ea,_0x2d203d);}[a23_0x26fc('0x3f')](this));});break;case 0x12e:const _0x46eeb7=_0x2e3f24['headers'][a23_0x26fc('0x93')];console[a23_0x26fc('0x45')]('Redirect\x20'+_0x4f18e4+'\x20to\x20'+_0x46eeb7);if(_0xb89f52<0x5){this['downloadHTTPFile'](_0x46eeb7,_0x2d203d,_0x3c5ef6,_0xb89f52++);}else{console[a23_0x26fc('0x94')](a23_0x26fc('0x95')+_0x4f18e4+'.');_0x3c5ef6('302',null,null,null);}return;case 0x194:console[a23_0x26fc('0x45')](a23_0x26fc('0x96')+_0x4f18e4);default:console['log'](a23_0x26fc('0x97')+_0x4f18e4+a23_0x26fc('0x98')+_0x2e3f24[a23_0x26fc('0x86')]);_0x31fcb8['abort']();_0x3c5ef6(_0x2e3f24[a23_0x26fc('0x86')],null,null,null);return;}})['on']('error',function(_0xf6fb96){console[a23_0x26fc('0x45')](a23_0x26fc('0x99')+_0x4f18e4+'\x20'+_0xf6fb96[a23_0x26fc('0x9a')]);_0x3c5ef6(_0xf6fb96,null,null,null);});}[a23_0x26fc('0x9b')](_0x1577f4,_0xffa635,_0x357c23,_0x2dbd07){console[a23_0x26fc('0x45')](a23_0x26fc('0x9b'));console[a23_0x26fc('0x45')](_0x1577f4);console[a23_0x26fc('0x45')](_0xffa635);console[a23_0x26fc('0x45')](_0x357c23);console[a23_0x26fc('0x45')](_0x2dbd07);if(_0x357c23==a23_0x26fc('0x66')){const _0x124ac7=this[a23_0x26fc('0x53')][this[a23_0x26fc('0x21')]][a23_0x26fc('0x9c')]!=null?this[a23_0x26fc('0x53')][this[a23_0x26fc('0x21')]]['duration']:0x1e;this['createImageVideo'](_0x2dbd07,_0x124ac7);}else if(_0x357c23==a23_0x26fc('0x9d')){if(_0x1577f4==null&&_0xffa635!=''){this['currentFile']++;}this[a23_0x26fc('0x69')]();}console['log'](this['currentFile']);}[a23_0x26fc('0x9e')](_0x20601c,_0x32ca6d,_0x23f982){progress(request(_0x20601c),{})['on'](a23_0x26fc('0x9f'),function(_0x18a647){console[a23_0x26fc('0x45')](_0x18a647);})['on'](a23_0x26fc('0x94'),function(_0x28d40f){console[a23_0x26fc('0x45')](a23_0x26fc('0xa0'));this['download']();})['on'](a23_0x26fc('0x7a'),function(){console[a23_0x26fc('0x45')](a23_0x26fc('0xa1')+_0x32ca6d);console[a23_0x26fc('0x45')](a23_0x26fc('0xa2')+_0x23f982);if(_0x23f982=='image'){const _0x1005c2=this[a23_0x26fc('0x53')][this['currentFile']][a23_0x26fc('0x9c')]!=null?this[a23_0x26fc('0x53')][this[a23_0x26fc('0x21')]][a23_0x26fc('0x9c')]:0x1e;this[a23_0x26fc('0xa3')](_0x32ca6d,_0x1005c2);}else if(_0x23f982==a23_0x26fc('0x9d')){this[a23_0x26fc('0x21')]++;this[a23_0x26fc('0x69')]();}}[a23_0x26fc('0x3f')](this))['pipe'](fs[a23_0x26fc('0x8e')](this[a23_0x26fc('0x1b')]+_0x32ca6d));}[a23_0x26fc('0xa3')](_0xfcbb41,_0x2c5c74=0x1e){const _0xff6998=this[a23_0x26fc('0x1b')]+_0xfcbb41;console[a23_0x26fc('0x45')](_0xff6998);console['log'](_0xfcbb41);const _0x459801=_0xfcbb41[a23_0x26fc('0x61')]('.')[a23_0x26fc('0x62')](0x0,-0x1)['join']('.');const _0x1b1a0c=a23_0x26fc('0xa4');const _0x21eadb=['-y','-r',a23_0x26fc('0xa5'),'-loop','1','-pattern_type',a23_0x26fc('0xa6'),'-i',_0xff6998,'-t',String(_0x2c5c74),a23_0x26fc('0xa7'),a23_0x26fc('0xa8'),a23_0x26fc('0xa9'),a23_0x26fc('0xaa'),'-r','25',a23_0x26fc('0xab'),a23_0x26fc('0xac'),this['tempFolder']+_0x459801+a23_0x26fc('0x65')];const _0x5ae02d=spawn(_0x1b1a0c,_0x21eadb);_0x5ae02d['stdout']['on'](a23_0x26fc('0x8f'),function(_0x29e501){console[a23_0x26fc('0x45')](a23_0x26fc('0xad')+_0xff6998);});_0x5ae02d['stderr']['on'](a23_0x26fc('0x8f'),function(_0x32769d){console[a23_0x26fc('0x45')](a23_0x26fc('0xae')+_0x32769d);}[a23_0x26fc('0x3f')](this));_0x5ae02d['on'](a23_0x26fc('0xaf'),function(){console['log'](a23_0x26fc('0xb0'));this[a23_0x26fc('0x21')]++;this[a23_0x26fc('0x69')]();}['bind'](this));}[a23_0x26fc('0x6c')](_0x7b6dae){const _0x2ab58a=this[a23_0x26fc('0x1b')]+'/'+_0x7b6dae+a23_0x26fc('0x65');const _0x15d800=youtubedl(a23_0x26fc('0xb1')+_0x7b6dae,[a23_0x26fc('0xb2')],{'cwd':__dirname});_0x15d800['on'](a23_0x26fc('0xb3'),function(_0x2bb475){console[a23_0x26fc('0x45')](a23_0x26fc('0xb4'));console[a23_0x26fc('0x45')](a23_0x26fc('0xb5')+_0x2bb475[a23_0x26fc('0xb6')]);console[a23_0x26fc('0x45')]('size:\x20'+_0x2bb475[a23_0x26fc('0x8b')]);});_0x15d800['on'](a23_0x26fc('0xb7'),function complete(_0x302450){'use strict';console['log'](a23_0x26fc('0xb5')+_0x302450[a23_0x26fc('0xb6')]+'\x20already\x20downloaded.');});_0x15d800['on'](a23_0x26fc('0x7a'),function(){console[a23_0x26fc('0x45')](a23_0x26fc('0xb8'));this[a23_0x26fc('0x68')](_0x2ab58a)['then'](function(_0xa59f56){if(_0xa59f56){this[a23_0x26fc('0x21')]++;}this['download']();}[a23_0x26fc('0x3f')](this));}[a23_0x26fc('0x3f')](this));_0x15d800[a23_0x26fc('0xb9')](fs[a23_0x26fc('0x8e')](_0x2ab58a));}[a23_0x26fc('0x5d')](){console[a23_0x26fc('0x45')](a23_0x26fc('0xba'));if(this[a23_0x26fc('0x50')]){if(this[a23_0x26fc('0x22')][a23_0x26fc('0x56')]==0x0){fs['writeFileSync'](this['playListFile'],JSON[a23_0x26fc('0x42')](this[a23_0x26fc('0x23')]));let _0x3bd5c3='#EXTCPlayListM3U::M3U'+'\x0d\x0a'+a23_0x26fc('0xbb')+'\x0d\x0a';for(const _0x37d7c4 in this['downloadFiles']){const _0x22415a=this[a23_0x26fc('0x53')][_0x37d7c4][a23_0x26fc('0x5e')];const _0x32a773=this[a23_0x26fc('0x53')][_0x37d7c4]['media_type'];const _0x43cdb8=_0x22415a[a23_0x26fc('0x5f')](_0x22415a[a23_0x26fc('0x60')]('/')+0x1);let _0x596d3a=_0x43cdb8[a23_0x26fc('0x61')]('.')[a23_0x26fc('0x62')](0x0,-0x1)['join']('.');if(_0x32a773==a23_0x26fc('0x64')){_0x596d3a=_0x22415a;}_0x3bd5c3+=a23_0x26fc('0xbc')+_0x596d3a+'.mp4'+'\x0d\x0a';}fsExtra['emptyDirSync'](this[a23_0x26fc('0x1c')]);fsExtra['copySync'](this[a23_0x26fc('0x1b')],this['filesFolder']);fsExtra[a23_0x26fc('0x49')](this[a23_0x26fc('0x1f')],_0x3bd5c3);fsExtra['emptyDirSync'](this['tempFolder']);console[a23_0x26fc('0x45')](a23_0x26fc('0xbd'));this[a23_0x26fc('0xbe')]();}else{console[a23_0x26fc('0x45')](a23_0x26fc('0xbf'));this['currentFile']=0x0;setTimeout(function(){this[a23_0x26fc('0x69')]();}[a23_0x26fc('0x3f')](this),0x1388);}}else{console[a23_0x26fc('0x45')](a23_0x26fc('0xc0'));}}[a23_0x26fc('0xbe')](){this['jsonrpcClient'](a23_0x26fc('0xc1'),{'playlistid':0x1},function(_0x2a134d){console['log'](a23_0x26fc('0xc2'));console['log'](_0x2a134d);this[a23_0x26fc('0xc3')](a23_0x26fc('0xc4'),{'item':{'file':a23_0x26fc('0xc5')},'playlistid':0x1},function(_0x2a134d){console[a23_0x26fc('0x45')](a23_0x26fc('0xc6'));console[a23_0x26fc('0x45')](_0x2a134d);this['jsonrpcClient'](a23_0x26fc('0xc7'),{'item':{'playlistid':0x1,'position':0x0}},function(_0x2a134d){console[a23_0x26fc('0x45')]('Playlist.Opened');console[a23_0x26fc('0x45')](_0x2a134d);this[a23_0x26fc('0xc8')](a23_0x26fc('0xc9'));}[a23_0x26fc('0x3f')](this));}[a23_0x26fc('0x3f')](this));}[a23_0x26fc('0x3f')](this));}[a23_0x26fc('0xca')](){console[a23_0x26fc('0x45')]('Rebooting');this[a23_0x26fc('0xc8')](a23_0x26fc('0xcb'));}[a23_0x26fc('0x3e')](){const _0x38d2f6=format(this['playerServiceURL'],this[a23_0x26fc('0x2f')]);console[a23_0x26fc('0x45')](_0x38d2f6);request({'url':_0x38d2f6,'json':!![]},function(_0x29654d,_0x2e357d,_0x5e7203){if(_0x5e7203[a23_0x26fc('0x56')]>0x0){const _0x1660f9=_0x5e7203[0x0];const _0xe49bb1=_0x1660f9[a23_0x26fc('0xcc')];const _0x590dbe=_0x1660f9[a23_0x26fc('0xcd')]==0x1;this[a23_0x26fc('0xce')](_0xe49bb1);this[a23_0x26fc('0xcf')](_0x590dbe);this['registerClient']();}console[a23_0x26fc('0x45')](_0x5e7203);}[a23_0x26fc('0x3f')](this));}[a23_0x26fc('0xd0')](){this[a23_0x26fc('0xc8')](a23_0x26fc('0xd1'));}[a23_0x26fc('0xd2')](){this['kodiCommandClient'](a23_0x26fc('0xd3'));}['setRss'](_0x540e44){const _0x1ca129=_0x540e44!=null&&_0x540e44!='';const _0xdb6123=a23_0x26fc('0xd4');const _0x34cf96=fsExtra[a23_0x26fc('0x5b')](_0xdb6123);console[a23_0x26fc('0x45')]('xmlContent:\x20'+_0x34cf96);const _0x1a962a=require('xml2js');const _0x3ac4b8=_0x1a962a[a23_0x26fc('0xd5')];_0x3ac4b8(_0x34cf96,function(_0x4c9e0f,_0x4b7fa7){console[a23_0x26fc('0x45')](a23_0x26fc('0xd6'),_0x4c9e0f);console['log'](a23_0x26fc('0xd7'),_0x4b7fa7);if(!_0x540e44||_0x540e44==null||_0x540e44==''){_0x540e44=a23_0x26fc('0xd8');}_0x4b7fa7['rssfeeds'][a23_0x26fc('0xd9')][0x0][a23_0x26fc('0xda')][0x0]['_']=_0x540e44;const _0x364f5e=new _0x1a962a[(a23_0x26fc('0xdb'))]();const _0x2da206=_0x364f5e['buildObject'](_0x4b7fa7);console['log']('xml:\x20%j',_0x2da206);fsExtra[a23_0x26fc('0x49')](_0xdb6123,_0x2da206);});this['kodiCommandClient'](a23_0x26fc('0xdc'));this[a23_0x26fc('0xc3')]('Settings.SetSettingValue',{'setting':a23_0x26fc('0xdd'),'value':_0x1ca129},function(_0x5b49d3){console[a23_0x26fc('0x45')]('setRss:');console[a23_0x26fc('0x45')](_0x5b49d3);}['bind'](this));}['enableClock'](_0x4d6869){this[a23_0x26fc('0xc3')](a23_0x26fc('0xde'),{'setting':'videoplayer.usedisplayasclock','value':_0x4d6869},function(_0x15d207){console['log'](a23_0x26fc('0xdf'));console['log'](_0x15d207);}['bind'](this));}[a23_0x26fc('0xc8')](_0x463f33){exec(a23_0x26fc('0xe0')+_0x463f33+'\x22',function(_0x4835e2){console[a23_0x26fc('0x45')](_0x4835e2);});}[a23_0x26fc('0xc3')](_0x2a6e4d,_0x3666fd,_0x1d30e7){const _0x2711cd={'jsonrpc':'2.0','method':_0x2a6e4d,'params':_0x3666fd,'id':0x1};this[a23_0x26fc('0x28')][a23_0x26fc('0x43')](this['kodiHost']+a23_0x26fc('0xe1'),_0x2711cd,![],{'user':this[a23_0x26fc('0x38')],'pass':this[a23_0x26fc('0x39')]})[a23_0x26fc('0x3')](function(_0x23aeab){_0x1d30e7(_0x23aeab);})[a23_0x26fc('0x47')](function(_0x4ba546){});}}exports[a23_0x26fc('0xe2')]=SyncPlaylistsService;
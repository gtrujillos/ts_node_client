var a22_0x2726=['complete','\x20already\x20downloaded.','finished\x20youtube\x20downloading!','finishProcess','Finishing','#EXTCPlayListM3U::M3U','#EXTINF:0,luloPlayList','path','media_type','/home/osmc/luloclient/media/files/','writeFileSync','shutdown','now','No\x20playlist\x20changes.','__awaiter','throw','done','value','then','apply','next','__esModule','../infrastructure/HttpClientService','node-mediainfo','url','fs-extra','request-progress','child_process','is-image','string-template','youtube-dl','context.json','url-exists','node-kodi','mt-files-downloader','mediaFolder','media/','tempFolder','temp/','files/','playListFile','m3uFile','filesFolder','currentFile','playlistChanged','newPlayList','httpClientService','config','parse','readFileSync','context','baseURL','env','deploy/','playListServiceURL','api/player_playlist.php?player_id={0}','http://localhost','lulo','checkDependencies','checkFolders','loadMediaList','getStatus','bind','registerClient','playlist','stringify','deviceUuid','networkInterfaces','post','http://restapi.lulo.run/player_devices/register','log','catch','kodi','player','getCurrentlyPlayingVideo','reportStatus','http://restapi.lulo.run/player_devices/report_status','ensureDir','playerId','loadMediaList:\x20','emptyDirSync','downloadFiles','failDownloadFiles','Total:\x20','length','reloadMediaList','existsSync','removeSync','System','Shutdown','hasPlayListChanged','toString','download','this.currentFile:\x20','\x20of\x20','substring','lastIndexOf','split','slice','join','youtube_single','image','.mp4','**********+','checkVideo','copySync','Downloading:\x20','downloadYouTube','downloader','videoFile:\x20','media','track','@type','mediainfo\x20check:','includes','indexOf','splice','downloading:\x20','start','push','Error:\x20','start:\x20','error','error:\x20','end','stopped','destroyed','retry','downloadHTTPFile','Max\x20redirects\x20reached','\x20to\x20','downloadFile\x20callback\x20result\x20undefined:\x20','host','get','\x20Progress:\x20unknown\x09','\x20Progress:\x20','statusCode','headers','stat','Have\x20already\x20downloaded\x20','Redownloading','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(','size','pipe','data','err:\x20','Downloaded\x20','location','Redirect\x20','Redirect\x20limit\x20encountered\x20for\x20','302','File\x20Not\x20Found\x20','Problem\x20downloading\x20','\x20STATUS:\x20','Error\x20Downloading:\x20','message','downloadHTTPFileCallback','duration','createImageVideo','video','downloadRequestFile','mediaType:\x20','createWriteStream','ffmpeg','1/2','-pattern_type','-c:v','libx264','-pix_fmt','yuv420p','-vf','stdout','Converting\x20','stderr:\x20','close','finished\x20mp4\x20convert','http://www.youtube.com/watch?v=','--format=18','info','Download\x20started','filename:\x20','_filename','size:\x20'];(function(_0x35885c,_0x426835){var _0x54b91f=function(_0x3b688c){while(--_0x3b688c){_0x35885c['push'](_0x35885c['shift']());}};_0x54b91f(++_0x426835);}(a22_0x2726,0xc5));var a22_0x3e15=function(_0x4bd822,_0x2bd6f7){_0x4bd822=_0x4bd822-0x0;var _0xb4bdb3=a22_0x2726[_0x4bd822];return _0xb4bdb3;};'use strict';var __awaiter=this&&this[a22_0x3e15('0x0')]||function(_0x11e65c,_0x3bf29d,_0x318e59,_0x4db8f7){function _0x14c281(_0x118ba9){return _0x118ba9 instanceof _0x318e59?_0x118ba9:new _0x318e59(function(_0xaaf2b5){_0xaaf2b5(_0x118ba9);});}return new(_0x318e59||(_0x318e59=Promise))(function(_0x1bdd7f,_0x1cba27){function _0x5a631a(_0x5804c5){try{_0x3311ee(_0x4db8f7['next'](_0x5804c5));}catch(_0x25e96e){_0x1cba27(_0x25e96e);}}function _0x5171b4(_0x426711){try{_0x3311ee(_0x4db8f7[a22_0x3e15('0x1')](_0x426711));}catch(_0x4626f7){_0x1cba27(_0x4626f7);}}function _0x3311ee(_0x1076a7){_0x1076a7[a22_0x3e15('0x2')]?_0x1bdd7f(_0x1076a7[a22_0x3e15('0x3')]):_0x14c281(_0x1076a7[a22_0x3e15('0x3')])[a22_0x3e15('0x4')](_0x5a631a,_0x5171b4);}_0x3311ee((_0x4db8f7=_0x4db8f7[a22_0x3e15('0x5')](_0x11e65c,_0x3bf29d||[]))[a22_0x3e15('0x6')]());});};Object['defineProperty'](exports,a22_0x3e15('0x7'),{'value':!![]});const HttpClientService_1=require(a22_0x3e15('0x8'));const mediainfo=require(a22_0x3e15('0x9'));const fs=require('fs');const url=require(a22_0x3e15('0xa'));const http=require('http');const fsExtra=require(a22_0x3e15('0xb'));const request=require('request');const progress=require(a22_0x3e15('0xc'));const spawn=require(a22_0x3e15('0xd'))['spawn'];const isImage=require(a22_0x3e15('0xe'));const format=require(a22_0x3e15('0xf'));const os=require('os');const youtubedl=require(a22_0x3e15('0x10'));const uuidv4=require('uuid/v4');const configFile='config.json';const contextFile=a22_0x3e15('0x11');const urlExists=require(a22_0x3e15('0x12'));const kodi_rpc=require(a22_0x3e15('0x13'));const Downloader=require(a22_0x3e15('0x14'));class SyncPlaylistsService{constructor(){this[a22_0x3e15('0x15')]=a22_0x3e15('0x16');this[a22_0x3e15('0x17')]=this[a22_0x3e15('0x15')]+a22_0x3e15('0x18');this['filesFolder']=this[a22_0x3e15('0x15')]+a22_0x3e15('0x19');this[a22_0x3e15('0x1a')]=this[a22_0x3e15('0x15')]+'playlist.txt';this[a22_0x3e15('0x1b')]=this[a22_0x3e15('0x1c')]+'lulo_playlist.m3u';this[a22_0x3e15('0x1d')]=0x0;this[a22_0x3e15('0x1e')]=![];this['downloadFiles']=[];this['failDownloadFiles']=[];this[a22_0x3e15('0x1f')]={};this[a22_0x3e15('0x20')]=new HttpClientService_1['HttpClientService']();}['init'](){this[a22_0x3e15('0x21')]=JSON[a22_0x3e15('0x22')](fs[a22_0x3e15('0x23')](configFile));this[a22_0x3e15('0x24')]=JSON['parse'](fs[a22_0x3e15('0x23')](contextFile));this['playerId']=this[a22_0x3e15('0x21')]['playerId'];this[a22_0x3e15('0x25')]=process[a22_0x3e15('0x26')]['WEB_SERVICE_URL']+a22_0x3e15('0x27');this[a22_0x3e15('0x28')]=this[a22_0x3e15('0x25')]+a22_0x3e15('0x29');this['kodi']=new kodi_rpc({'url':a22_0x3e15('0x2a'),'user':a22_0x3e15('0x2b'),'password':'.lulo123.'});this[a22_0x3e15('0x2c')]();this['registerClient']();this[a22_0x3e15('0x2d')]();this[a22_0x3e15('0x2e')]();setInterval(function(){this[a22_0x3e15('0x2f')]();}[a22_0x3e15('0x30')](this),0x2710);setInterval(function(){this[a22_0x3e15('0x31')]();}['bind'](this),0x493e0);}[a22_0x3e15('0x2c')](){}[a22_0x3e15('0x31')](){this['kodi'][a22_0x3e15('0x32')]['getItems'](0x1)[a22_0x3e15('0x4')](function(_0x30b57b){const _0x5681cb=JSON[a22_0x3e15('0x33')](_0x30b57b);const _0xc6bc80={'player_id':this['playerId'],'device_uuid':this['config'][a22_0x3e15('0x34')],'network_info':JSON[a22_0x3e15('0x33')](os[a22_0x3e15('0x35')]()),'firmware_info':JSON[a22_0x3e15('0x33')](this[a22_0x3e15('0x24')]),'playlist':_0x5681cb,'playing_item':'','status':0x0};this[a22_0x3e15('0x20')][a22_0x3e15('0x36')](a22_0x3e15('0x37'),_0xc6bc80,![])[a22_0x3e15('0x4')](function(_0x52666a){console[a22_0x3e15('0x38')]('register\x20response:\x20'+Date());})[a22_0x3e15('0x39')](function(_0x2ded5f){});console[a22_0x3e15('0x38')](_0xc6bc80);}[a22_0x3e15('0x30')](this));const _0x40cb7a=this[a22_0x3e15('0x21')][a22_0x3e15('0x34')];if(!_0x40cb7a||_0x40cb7a==''){this[a22_0x3e15('0x21')]['deviceUuid']=uuidv4();this['config']={'deviceUuid':this[a22_0x3e15('0x21')][a22_0x3e15('0x34')],'playerId':this[a22_0x3e15('0x21')]['playerId']};fs['writeFileSync'](configFile,JSON[a22_0x3e15('0x33')](this['config']));}}['getStatus'](){console[a22_0x3e15('0x38')](a22_0x3e15('0x2f'));this[a22_0x3e15('0x3a')][a22_0x3e15('0x3b')][a22_0x3e15('0x3c')]()[a22_0x3e15('0x4')](function(_0x254fac){const _0x3df602=_0x254fac['item']['label'];this[a22_0x3e15('0x3d')](_0x3df602);}[a22_0x3e15('0x30')](this))['catch'](function(_0x1a623b){console[a22_0x3e15('0x38')](_0x1a623b);this[a22_0x3e15('0x3d')](_0x1a623b);}[a22_0x3e15('0x30')](this));}[a22_0x3e15('0x3d')](_0x53432a){console[a22_0x3e15('0x38')]('playingItem:\x20'+_0x53432a);const _0x579f12={'player_id':this['playerId'],'device_uuid':this['config'][a22_0x3e15('0x34')],'status':_0x53432a!=''&&_0x53432a!=null?0x1:0x0,'playing_item':_0x53432a};this[a22_0x3e15('0x20')]['post'](a22_0x3e15('0x3e'),_0x579f12,![])[a22_0x3e15('0x4')](function(_0x3094dd){console[a22_0x3e15('0x38')]('reportStatusResponse:\x20'+Date());})[a22_0x3e15('0x39')](function(_0x56456c){});}['checkFolders'](){fsExtra['ensureDir'](this[a22_0x3e15('0x15')],_0x4bbccc=>{});fsExtra['ensureDir'](this[a22_0x3e15('0x17')],_0x1bacfe=>{});fsExtra[a22_0x3e15('0x3f')](this[a22_0x3e15('0x1c')],_0x5e29d2=>{});}[a22_0x3e15('0x2e')](){const _0x47a287=format(this[a22_0x3e15('0x28')],this[a22_0x3e15('0x40')]);console[a22_0x3e15('0x38')](_0x47a287);request({'url':_0x47a287,'json':!![]},function(_0xc984fd,_0x46e946,_0x32439f){console[a22_0x3e15('0x38')](a22_0x3e15('0x41'));console[a22_0x3e15('0x38')](_0x32439f);this['newPlayList']=_0x32439f;this['playlistChanged']=this['hasPlayListChanged']();fsExtra[a22_0x3e15('0x42')](this[a22_0x3e15('0x17')]);this[a22_0x3e15('0x43')]=[];this[a22_0x3e15('0x44')]=[];this[a22_0x3e15('0x1d')]=0x0;for(const _0x140594 in _0x32439f){this[a22_0x3e15('0x43')]['push'](_0x32439f[_0x140594]);}console[a22_0x3e15('0x38')](a22_0x3e15('0x45')+this['downloadFiles'][a22_0x3e15('0x46')]);if(this['downloadFiles'][a22_0x3e15('0x46')]>0x0){this['download']();}}[a22_0x3e15('0x30')](this));}[a22_0x3e15('0x47')](){if(fsExtra[a22_0x3e15('0x48')](this[a22_0x3e15('0x17')])){fsExtra[a22_0x3e15('0x42')](this[a22_0x3e15('0x17')]);}if(fsExtra['existsSync'](this['playListFile'])){fsExtra[a22_0x3e15('0x42')](this['playListFile']);}if(!fsExtra[a22_0x3e15('0x48')](this[a22_0x3e15('0x1a')])){fsExtra[a22_0x3e15('0x49')](this[a22_0x3e15('0x1a')]);}if(!fsExtra[a22_0x3e15('0x48')](this[a22_0x3e15('0x1b')])){fsExtra[a22_0x3e15('0x49')](this[a22_0x3e15('0x1b')]);}this[a22_0x3e15('0x2e')]();}['reboot'](){this[a22_0x3e15('0x3a')][a22_0x3e15('0x4a')][a22_0x3e15('0x4b')]();}[a22_0x3e15('0x4c')](){const _0x3d2a4d=JSON[a22_0x3e15('0x33')](this[a22_0x3e15('0x1f')]);try{if(!fsExtra['existsSync'](this[a22_0x3e15('0x1a')])){return!![];}else{const _0x426888=fsExtra[a22_0x3e15('0x23')](this[a22_0x3e15('0x1a')])[a22_0x3e15('0x4d')]();if(_0x426888!=_0x3d2a4d){return!![];}}}catch(_0x1339d3){console[a22_0x3e15('0x38')](_0x1339d3);}return![];}[a22_0x3e15('0x4e')](){console[a22_0x3e15('0x38')](a22_0x3e15('0x4f')+this[a22_0x3e15('0x1d')]+a22_0x3e15('0x50')+this[a22_0x3e15('0x43')][a22_0x3e15('0x46')]);if(this[a22_0x3e15('0x1d')]>=this[a22_0x3e15('0x43')][a22_0x3e15('0x46')]){this['finishProcess']();return;}const _0x5b10c1=String(this[a22_0x3e15('0x43')][this['currentFile']]['path']);const _0x1748a4=this[a22_0x3e15('0x43')][this[a22_0x3e15('0x1d')]]['media_type'];let _0x5e6dd7=_0x5b10c1[a22_0x3e15('0x51')](_0x5b10c1[a22_0x3e15('0x52')]('/')+0x1);const _0x2ed23e=_0x5e6dd7[a22_0x3e15('0x53')]('.')[a22_0x3e15('0x54')](0x0,-0x1)['join']('.');let _0x415db6=this['baseURL']+_0x5b10c1;const _0xf04d53=_0x415db6[a22_0x3e15('0x53')]('.')[a22_0x3e15('0x54')](0x0,-0x1)[a22_0x3e15('0x55')]('.');if(_0x1748a4==a22_0x3e15('0x56')){_0x5e6dd7=_0x5e6dd7+'.mp4';}else if(_0x1748a4==a22_0x3e15('0x57')){_0x5e6dd7=_0x2ed23e+a22_0x3e15('0x58');_0x415db6=_0xf04d53+a22_0x3e15('0x58');}console[a22_0x3e15('0x38')](a22_0x3e15('0x59'));console[a22_0x3e15('0x38')](_0x5b10c1);console[a22_0x3e15('0x38')](_0x1748a4);console['log'](_0x5e6dd7);console[a22_0x3e15('0x38')](_0x415db6);console[a22_0x3e15('0x38')](_0x2ed23e);console[a22_0x3e15('0x38')](_0xf04d53);console['log'](a22_0x3e15('0x59'));if(fsExtra[a22_0x3e15('0x48')](this['tempFolder']+_0x5e6dd7)){this['checkVideo'](this[a22_0x3e15('0x17')]+_0x5e6dd7)['then'](function(_0x273be4){if(_0x273be4){this[a22_0x3e15('0x1d')]++;}else{this[a22_0x3e15('0x1e')]=!![];}this[a22_0x3e15('0x4e')]();}[a22_0x3e15('0x30')](this));}else if(fsExtra[a22_0x3e15('0x48')](this[a22_0x3e15('0x1c')]+_0x5e6dd7)){this[a22_0x3e15('0x5a')](this[a22_0x3e15('0x1c')]+_0x5e6dd7)['then'](function(_0x39bab1){if(_0x39bab1){fsExtra[a22_0x3e15('0x5b')](this['filesFolder']+_0x5e6dd7,this[a22_0x3e15('0x17')]+_0x5e6dd7);this['currentFile']++;}else{this['playlistChanged']=!![];}this[a22_0x3e15('0x4e')]();}[a22_0x3e15('0x30')](this));}else{console[a22_0x3e15('0x38')](a22_0x3e15('0x5c')+_0x415db6);this['playlistChanged']=!![];if(_0x1748a4==a22_0x3e15('0x56')){this[a22_0x3e15('0x5d')](_0x5b10c1);}else{this[a22_0x3e15('0x5e')](_0x415db6,_0x5e6dd7,_0x1748a4);}}}[a22_0x3e15('0x5a')](_0x2c99c1){return __awaiter(this,void 0x0,void 0x0,function*(){console[a22_0x3e15('0x38')](a22_0x3e15('0x5f')+_0x2c99c1);const _0x30537c=yield mediainfo(_0x2c99c1)['catch'](_0x1e648a=>{console[a22_0x3e15('0x38')](_0x1e648a);fsExtra['removeSync'](_0x2c99c1);return![];});const _0x129bf6=_0x30537c[a22_0x3e15('0x60')][a22_0x3e15('0x61')][a22_0x3e15('0x46')]>0x1&&_0x30537c[a22_0x3e15('0x60')][a22_0x3e15('0x61')][0x1][a22_0x3e15('0x62')]=='Video';if(!_0x129bf6){fsExtra['removeSync'](_0x2c99c1);}console[a22_0x3e15('0x38')](a22_0x3e15('0x63')+_0x129bf6);return _0x129bf6;});}[a22_0x3e15('0x5e')](_0x39bc29,_0x381983,_0x451899){const _0x357044=new Downloader();console[a22_0x3e15('0x38')](_0x39bc29);console[a22_0x3e15('0x38')](_0x381983);console['log'](_0x451899);const _0x44269d=_0x357044[a22_0x3e15('0x4e')](_0x39bc29,this[a22_0x3e15('0x17')]+_0x381983);urlExists(_0x39bc29,function(_0x257e62,_0x104842){if(_0x104842){if(this[a22_0x3e15('0x44')][a22_0x3e15('0x64')](this[a22_0x3e15('0x1d')])){const _0x551744=this[a22_0x3e15('0x44')][a22_0x3e15('0x65')](this[a22_0x3e15('0x1d')]);if(_0x551744>-0x1){this[a22_0x3e15('0x44')][a22_0x3e15('0x66')](_0x551744,0x1);}}console[a22_0x3e15('0x38')](a22_0x3e15('0x67')+_0x39bc29);_0x44269d[a22_0x3e15('0x68')]();}else{if(!this[a22_0x3e15('0x44')]['includes'](this[a22_0x3e15('0x1d')])){this[a22_0x3e15('0x44')][a22_0x3e15('0x69')](this[a22_0x3e15('0x1d')]);}console[a22_0x3e15('0x38')](a22_0x3e15('0x6a')+_0x39bc29);this[a22_0x3e15('0x1d')]++;this[a22_0x3e15('0x4e')]();}}['bind'](this));_0x44269d['on'](a22_0x3e15('0x68'),function(_0x44269d){console[a22_0x3e15('0x38')](a22_0x3e15('0x6b')+_0x39bc29);});_0x44269d['on'](a22_0x3e15('0x6c'),function(_0x44269d){console['log'](a22_0x3e15('0x6d'));this[a22_0x3e15('0x4e')]();}[a22_0x3e15('0x30')](this));_0x44269d['on'](a22_0x3e15('0x6e'),function(_0x44269d){console['log']('end');console['log']('Downloaded:\x20'+_0x381983);console[a22_0x3e15('0x38')]('mediaType:\x20'+_0x451899);this[a22_0x3e15('0x5a')](this[a22_0x3e15('0x17')]+_0x381983)[a22_0x3e15('0x4')](function(_0x1178c8){if(_0x1178c8){this[a22_0x3e15('0x1d')]++;}this[a22_0x3e15('0x4e')]();}[a22_0x3e15('0x30')](this));}[a22_0x3e15('0x30')](this));_0x44269d['on']('stopped',function(_0x44269d){console['log'](a22_0x3e15('0x6f'));});_0x44269d['on'](a22_0x3e15('0x70'),function(_0x44269d){console['log'](a22_0x3e15('0x70'));});_0x44269d['on'](a22_0x3e15('0x71'),function(_0x44269d){console[a22_0x3e15('0x38')](a22_0x3e15('0x71'));});}['downloadHTTPFile'](_0x36259c,_0x758867,_0x2ee4f6,_0x1e8272){console[a22_0x3e15('0x38')](a22_0x3e15('0x72'));console[a22_0x3e15('0x38')](_0x36259c);const _0x36572f=!![];let _0x60e904=0x0;const _0x2135a0='';console['log']('Attempting\x20to\x20download\x20'+_0x36259c+'\x20to\x20'+_0x758867);if(_0x60e904){if(_0x60e904>0x5){_0x1e8272(a22_0x3e15('0x73'),_0x36259c,_0x2ee4f6,null);return;}}else{_0x60e904=0x0;}const _0x4c0e3a=this[a22_0x3e15('0x17')]+_0x758867;let _0x1426bd;if(_0x1e8272===undefined){console['log']('WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20'+_0x36259c+a22_0x3e15('0x74')+_0x4c0e3a);_0x1e8272=function(_0x500989,_0x1afc1e){console[a22_0x3e15('0x38')](a22_0x3e15('0x75'),_0x500989,_0x1afc1e);};}http['globalAgent']['maxSockets']=0x64;const _0x3abf9d={'host':url[a22_0x3e15('0x22')](_0x36259c)[a22_0x3e15('0x76')],'port':0x50,'path':url[a22_0x3e15('0x22')](_0x36259c)['pathname'],'agent':![]};const _0x3fe0a5=http[a22_0x3e15('0x77')](_0x3abf9d,function(_0x159d4c){let _0xd311e=0x0;let _0x1ab6bd=0x0;function _0x4343d2(){if(_0xd311e===undefined){console[a22_0x3e15('0x38')](_0x758867+a22_0x3e15('0x78')+_0x1ab6bd+'/'+'?');}const _0x5a5bdc=_0x1ab6bd/_0xd311e*0x64;console[a22_0x3e15('0x38')](_0x758867+a22_0x3e15('0x79')+_0x5a5bdc+'%\x09'+_0x1ab6bd+'/'+_0xd311e);}console['log'](_0x758867+'\x20'+_0x159d4c[a22_0x3e15('0x7a')]);switch(_0x159d4c[a22_0x3e15('0x7a')]){case 0xc8:_0xd311e=_0x159d4c[a22_0x3e15('0x7b')]['content-length']||_0x2135a0;fs[a22_0x3e15('0x7c')](_0x4c0e3a,function(_0x5c105d,_0x3aa2cb){if(!_0x5c105d){console[a22_0x3e15('0x38')](a22_0x3e15('0x7d')+_0x4c0e3a);if(_0x3aa2cb['size']==_0xd311e){console[a22_0x3e15('0x38')]('And\x20the\x20file\x20size\x20matches\x20('+_0xd311e+')');console[a22_0x3e15('0x38')](a22_0x3e15('0x7e'));}else{console[a22_0x3e15('0x38')](a22_0x3e15('0x7f')+_0x3aa2cb[a22_0x3e15('0x80')]+')\x20vs\x20New('+_0xd311e+')');}}_0x1426bd=fs['createWriteStream'](_0x4c0e3a);_0x159d4c[a22_0x3e15('0x81')](_0x1426bd);_0x159d4c['on'](a22_0x3e15('0x82'),function(_0x365b59){_0x1ab6bd+=_0x365b59[a22_0x3e15('0x46')];_0x4343d2();});_0x3fe0a5['on']('error',function(_0x5c105d){console[a22_0x3e15('0x38')](a22_0x3e15('0x83'));console['log'](_0x5c105d);});_0x1426bd['on']('finish',function(){console[a22_0x3e15('0x38')](a22_0x3e15('0x84')+_0x36259c+a22_0x3e15('0x74')+_0x758867);_0x1e8272(null,_0x758867,_0x2ee4f6,_0x758867);}[a22_0x3e15('0x30')](this));});break;case 0x12e:const _0x594202=_0x159d4c['headers'][a22_0x3e15('0x85')];console[a22_0x3e15('0x38')](a22_0x3e15('0x86')+_0x36259c+a22_0x3e15('0x74')+_0x594202);if(_0x60e904<0x5){this[a22_0x3e15('0x72')](_0x594202,_0x758867,_0x1e8272,_0x60e904++);}else{console[a22_0x3e15('0x6c')](a22_0x3e15('0x87')+_0x36259c+'.');_0x1e8272(a22_0x3e15('0x88'),null,null,null);}return;case 0x194:console[a22_0x3e15('0x38')](a22_0x3e15('0x89')+_0x36259c);default:console[a22_0x3e15('0x38')](a22_0x3e15('0x8a')+_0x36259c+a22_0x3e15('0x8b')+_0x159d4c['statusCode']);_0x3fe0a5['abort']();_0x1e8272(_0x159d4c[a22_0x3e15('0x7a')],null,null,null);return;}})['on'](a22_0x3e15('0x6c'),function(_0x46f0e3){console[a22_0x3e15('0x38')](a22_0x3e15('0x8c')+_0x36259c+'\x20'+_0x46f0e3[a22_0x3e15('0x8d')]);_0x1e8272(_0x46f0e3,null,null,null);});}[a22_0x3e15('0x8e')](_0xe94784,_0x3a7217,_0x3f7021,_0x5cab48){console[a22_0x3e15('0x38')](a22_0x3e15('0x8e'));console[a22_0x3e15('0x38')](_0xe94784);console['log'](_0x3a7217);console[a22_0x3e15('0x38')](_0x3f7021);console[a22_0x3e15('0x38')](_0x5cab48);if(_0x3f7021==a22_0x3e15('0x57')){const _0x3f0fe5=this['downloadFiles'][this[a22_0x3e15('0x1d')]][a22_0x3e15('0x8f')]!=null?this['downloadFiles'][this['currentFile']][a22_0x3e15('0x8f')]:0x1e;this[a22_0x3e15('0x90')](_0x5cab48,_0x3f0fe5);}else if(_0x3f7021==a22_0x3e15('0x91')){if(_0xe94784==null&&_0x3a7217!=''){this[a22_0x3e15('0x1d')]++;}this[a22_0x3e15('0x4e')]();}console['log'](this[a22_0x3e15('0x1d')]);}[a22_0x3e15('0x92')](_0x573ed9,_0x2f9232,_0x4af49a){progress(request(_0x573ed9),{})['on']('progress',function(_0x2faa2b){console[a22_0x3e15('0x38')](_0x2faa2b);})['on'](a22_0x3e15('0x6c'),function(_0x5a4595){console[a22_0x3e15('0x38')]('Error\x20downloading\x20file');this['download']();})['on'](a22_0x3e15('0x6e'),function(){console[a22_0x3e15('0x38')]('Downloaded:\x20'+_0x2f9232);console[a22_0x3e15('0x38')](a22_0x3e15('0x93')+_0x4af49a);if(_0x4af49a==a22_0x3e15('0x57')){const _0x193b8a=this['downloadFiles'][this[a22_0x3e15('0x1d')]][a22_0x3e15('0x8f')]!=null?this[a22_0x3e15('0x43')][this[a22_0x3e15('0x1d')]][a22_0x3e15('0x8f')]:0x1e;this[a22_0x3e15('0x90')](_0x2f9232,_0x193b8a);}else if(_0x4af49a==a22_0x3e15('0x91')){this[a22_0x3e15('0x1d')]++;this[a22_0x3e15('0x4e')]();}}['bind'](this))[a22_0x3e15('0x81')](fs[a22_0x3e15('0x94')](this[a22_0x3e15('0x17')]+_0x2f9232));}[a22_0x3e15('0x90')](_0x5f02e0,_0x3836e9=0x1e){const _0x23ddab=this[a22_0x3e15('0x17')]+_0x5f02e0;console[a22_0x3e15('0x38')](_0x23ddab);console['log'](_0x5f02e0);const _0x1fd3fa=_0x5f02e0['split']('.')[a22_0x3e15('0x54')](0x0,-0x1)[a22_0x3e15('0x55')]('.');const _0x5d08c5=a22_0x3e15('0x95');const _0x23a99b=['-y','-r',a22_0x3e15('0x96'),'-loop','1',a22_0x3e15('0x97'),'glob','-i',_0x23ddab,'-t',String(_0x3836e9),a22_0x3e15('0x98'),a22_0x3e15('0x99'),a22_0x3e15('0x9a'),a22_0x3e15('0x9b'),'-r','25',a22_0x3e15('0x9c'),'scale=1920:1080',this[a22_0x3e15('0x17')]+_0x1fd3fa+a22_0x3e15('0x58')];const _0x2050c2=spawn(_0x5d08c5,_0x23a99b);_0x2050c2[a22_0x3e15('0x9d')]['on']('data',function(_0x31075d){console[a22_0x3e15('0x38')](a22_0x3e15('0x9e')+_0x23ddab);});_0x2050c2['stderr']['on']('data',function(_0x4b7aa7){console[a22_0x3e15('0x38')](a22_0x3e15('0x9f')+_0x4b7aa7);}[a22_0x3e15('0x30')](this));_0x2050c2['on'](a22_0x3e15('0xa0'),function(){console['log'](a22_0x3e15('0xa1'));this['currentFile']++;this['download']();}[a22_0x3e15('0x30')](this));}[a22_0x3e15('0x5d')](_0x23f18a){const _0x957d29=this[a22_0x3e15('0x17')]+'/'+_0x23f18a+a22_0x3e15('0x58');const _0x24f352=youtubedl(a22_0x3e15('0xa2')+_0x23f18a,[a22_0x3e15('0xa3')],{'cwd':__dirname});_0x24f352['on'](a22_0x3e15('0xa4'),function(_0x158c6f){console['log'](a22_0x3e15('0xa5'));console[a22_0x3e15('0x38')](a22_0x3e15('0xa6')+_0x158c6f[a22_0x3e15('0xa7')]);console['log'](a22_0x3e15('0xa8')+_0x158c6f[a22_0x3e15('0x80')]);});_0x24f352['on'](a22_0x3e15('0xa9'),function complete(_0x5a7e85){'use strict';console[a22_0x3e15('0x38')](a22_0x3e15('0xa6')+_0x5a7e85['_filename']+a22_0x3e15('0xaa'));});_0x24f352['on'](a22_0x3e15('0x6e'),function(){console[a22_0x3e15('0x38')](a22_0x3e15('0xab'));this[a22_0x3e15('0x5a')](_0x957d29)[a22_0x3e15('0x4')](function(_0x359b36){if(_0x359b36){this[a22_0x3e15('0x1d')]++;}this[a22_0x3e15('0x4e')]();}[a22_0x3e15('0x30')](this));}[a22_0x3e15('0x30')](this));_0x24f352[a22_0x3e15('0x81')](fs[a22_0x3e15('0x94')](_0x957d29));}[a22_0x3e15('0xac')](){console[a22_0x3e15('0x38')](a22_0x3e15('0xad'));if(this[a22_0x3e15('0x1e')]){if(this[a22_0x3e15('0x44')][a22_0x3e15('0x46')]==0x0){fs['writeFileSync'](this[a22_0x3e15('0x1a')],JSON['stringify'](this[a22_0x3e15('0x1f')]));let _0x64ce75=a22_0x3e15('0xae')+'\x0d\x0a'+a22_0x3e15('0xaf')+'\x0d\x0a';for(const _0x31edb1 in this['downloadFiles']){const _0x13f1c9=this[a22_0x3e15('0x43')][_0x31edb1][a22_0x3e15('0xb0')];const _0x7c77c4=this[a22_0x3e15('0x43')][_0x31edb1][a22_0x3e15('0xb1')];const _0x491d5e=_0x13f1c9[a22_0x3e15('0x51')](_0x13f1c9[a22_0x3e15('0x52')]('/')+0x1);let _0x556880=_0x491d5e[a22_0x3e15('0x53')]('.')[a22_0x3e15('0x54')](0x0,-0x1)[a22_0x3e15('0x55')]('.');if(_0x7c77c4==a22_0x3e15('0x56')){_0x556880=_0x13f1c9;}_0x64ce75+=a22_0x3e15('0xb2')+_0x556880+a22_0x3e15('0x58')+'\x0d\x0a';}fsExtra[a22_0x3e15('0x42')](this[a22_0x3e15('0x1c')]);fsExtra['copySync'](this[a22_0x3e15('0x17')],this[a22_0x3e15('0x1c')]);fsExtra[a22_0x3e15('0xb3')](this[a22_0x3e15('0x1b')],_0x64ce75);fsExtra[a22_0x3e15('0x42')](this['tempFolder']);console['log']('Rebooting..');const _0x465b65=spawn(a22_0x3e15('0xb4'),['-r',a22_0x3e15('0xb5')]);}else{console['log']('Playlist\x20incomplete,\x20retry.');this[a22_0x3e15('0x1d')]=0x0;setTimeout(function(){this[a22_0x3e15('0x4e')]();}['bind'](this),0x1388);}}else{console['log'](a22_0x3e15('0xb6'));}}}exports['SyncPlaylistsService']=SyncPlaylistsService;
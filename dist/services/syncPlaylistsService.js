var a25_0x410d=['--no-check-certificate','Download\x20started','filename:\x20','_filename','\x20already\x20downloaded.','finished\x20youtube\x20downloading!','Finishing','this.playListFile:\x20','emptyDir','copy','No\x20playlist\x20changes.','#EXTCPlayListM3U::M3U','DateUtils','Parse','end_date','trim','PlayMedia(//home/osmc/luloclient/media/files/lulo_playlist.m3u)','reboot','Rebooting','sudo\x20/sbin/reboot\x20-f','updateSettings','rss','header_active','setRss','enableClock','turnOffTV','kodiCommandClient','CECStandby()','turnOnTV','CECActivateSource()','/home/osmc/.kodi/userdata/RssFeeds.xml','xmlContent:\x20','xml2js','parseString','err:\x20%j','result:\x20%j','none','rssfeeds','feed','Builder','xml:\x20%j','jsonrpcClient','Settings.SetSettingValue','setRss:','enableClock:\x20','kodi-send\x20--action=\x22','2.0','kodiUser','jsonrpcClient\x20data','/jsonrpc','__awaiter','next','throw','done','value','then','apply','defineProperty','__esModule','../infrastructure/HttpClientService','./playerService','../infrastructure/utils/dateUtils','node-mediainfo','url','fs-extra','request','request-progress','child_process','spawn','exec','is-image','string-template','youtube-dl','uuid/v4','mt-files-downloader','tempFolder','mediaFolder','filesFolder','files/','playListFile','m3uFile','lulo_playlist.m3u','currentFile','playlistChanged','downloadFiles','failDownloadFiles','http://192.168.0.109','lulo','.lulo123.','httpClientService','HttpClientService','PlayerService','init','parse','context','readFileSync','config','playerId','baseURL','env','WEB_SERVICE_URL','deploy/','playListServiceURL','api/player_playlist.php?player_id={0}','api/player.php?player_id={0}','kodi','kodiHost','kodiPassword','checkDependencies','registerClient','loadMediaList','getStatus','bind','checkSchedule','playlist','getItems','stringify','networkInterfaces','version','http://restapi.lulo.run/player_devices/register','register\x20response:\x20','catch','log','deviceUuid','writeFileSync','getCurrentlyPlayingVideo','item','label','reportStatus','reportStatus\x20playingItem:\x20','post','reportStatusResponse','checkFolders','ensureDir','loadMediaList:\x20','newPlayList','emptyDirSync','push','Total\x20to\x20download:\x20','length','download','reloadMediaList','existsSync','removeSync','hasPlayListChanged','toString','this.currentFile:\x20','\x20of\x20','finishProcess','path','media_type','substring','lastIndexOf','split','slice','join','.mp4','image','**********+','checkVideo','copySync','Downloading:\x20','youtube_single','downloadYouTube','downloader','m3uFileUpdate','refreshPlayer','media','track','mediainfo\x20check:','includes','indexOf','splice','start','error','error:\x20','end','mediaType:\x20','destroyed','retry','downloadHTTPFile','Attempting\x20to\x20download\x20','\x20to\x20','Max\x20redirects\x20reached','WARNING\x20downloadFile\x20callback\x20is\x20undefined\x20for\x20','globalAgent','maxSockets','host','get','\x20Progress:\x20unknown\x09','\x20Progress:\x20','statusCode','headers','content-length','stat','Have\x20already\x20downloaded\x20','size','And\x20the\x20file\x20size\x20matches\x20(','Redownloading','But\x20the\x20file\x20size\x20does\x20not\x20match\x20so\x20re-downloading\x20Old(',')\x20vs\x20New(','createWriteStream','pipe','err:\x20','finish','Downloaded\x20','location','Redirect\x20','Redirect\x20limit\x20encountered\x20for\x20','302','File\x20Not\x20Found\x20','Problem\x20downloading\x20','\x20STATUS:\x20','abort','Error\x20Downloading:\x20','duration','video','downloadRequestFile','progress','Error\x20downloading\x20file','createImageVideo','ffmpeg','1/2','-loop','-pattern_type','glob','-c:v','libx264','-pix_fmt','yuv420p','-vf','stdout','data','Converting\x20','close','finished\x20mp4\x20convert','http://www.youtube.com/watch?v=','youtubeURL:\x20','outFileName:\x20','--format=18'];(function(_0x121513,_0x4bb134){var _0x4d2cf4=function(_0x122eee){while(--_0x122eee){_0x121513['push'](_0x121513['shift']());}};_0x4d2cf4(++_0x4bb134);}(a25_0x410d,0x122));var a25_0x44b9=function(_0x1361bd,_0x22af7e){_0x1361bd=_0x1361bd-0x0;var _0x562627=a25_0x410d[_0x1361bd];return _0x562627;};'use strict';var __awaiter=this&&this[a25_0x44b9('0x0')]||function(_0x2368bb,_0x21571b,_0x4d409f,_0x1c48b8){function _0x18b9b5(_0x12a0b0){return _0x12a0b0 instanceof _0x4d409f?_0x12a0b0:new _0x4d409f(function(_0x5e64f7){_0x5e64f7(_0x12a0b0);});}return new(_0x4d409f||(_0x4d409f=Promise))(function(_0x2a861c,_0x44afa4){function _0x4b8490(_0x46603a){try{_0x558b97(_0x1c48b8[a25_0x44b9('0x1')](_0x46603a));}catch(_0x17cf2d){_0x44afa4(_0x17cf2d);}}function _0x577ce1(_0x3b91f9){try{_0x558b97(_0x1c48b8[a25_0x44b9('0x2')](_0x3b91f9));}catch(_0x6dd92a){_0x44afa4(_0x6dd92a);}}function _0x558b97(_0x17e908){_0x17e908[a25_0x44b9('0x3')]?_0x2a861c(_0x17e908[a25_0x44b9('0x4')]):_0x18b9b5(_0x17e908[a25_0x44b9('0x4')])[a25_0x44b9('0x5')](_0x4b8490,_0x577ce1);}_0x558b97((_0x1c48b8=_0x1c48b8[a25_0x44b9('0x6')](_0x2368bb,_0x21571b||[]))[a25_0x44b9('0x1')]());});};Object[a25_0x44b9('0x7')](exports,a25_0x44b9('0x8'),{'value':!![]});const HttpClientService_1=require(a25_0x44b9('0x9'));const playerService_1=require(a25_0x44b9('0xa'));const dateUtils_1=require(a25_0x44b9('0xb'));const mediainfo=require(a25_0x44b9('0xc'));const fs=require('fs');const url=require(a25_0x44b9('0xd'));const http=require('http');const fsExtra=require(a25_0x44b9('0xe'));const request=require(a25_0x44b9('0xf'));const progress=require(a25_0x44b9('0x10'));const spawn=require(a25_0x44b9('0x11'))[a25_0x44b9('0x12')];const exec=require(a25_0x44b9('0x11'))[a25_0x44b9('0x13')];const isImage=require(a25_0x44b9('0x14'));const format=require(a25_0x44b9('0x15'));const os=require('os');const youtubedl=require(a25_0x44b9('0x16'));const uuidv4=require(a25_0x44b9('0x17'));const configFile='config.json';const contextFile='package.json';const urlExists=require('url-exists');const kodi_rpc=require('node-kodi');const Downloader=require(a25_0x44b9('0x18'));class SyncPlaylistsService{constructor(){this['mediaFolder']='media/';this[a25_0x44b9('0x19')]=this[a25_0x44b9('0x1a')]+'temp/';this[a25_0x44b9('0x1b')]=this[a25_0x44b9('0x1a')]+a25_0x44b9('0x1c');this[a25_0x44b9('0x1d')]=this[a25_0x44b9('0x1a')]+'playlist.txt';this[a25_0x44b9('0x1e')]=this[a25_0x44b9('0x1b')]+a25_0x44b9('0x1f');this[a25_0x44b9('0x20')]=0x0;this[a25_0x44b9('0x21')]=![];this[a25_0x44b9('0x22')]=[];this[a25_0x44b9('0x23')]=[];this['newPlayList']={};this['kodiHost']=a25_0x44b9('0x24');this['kodiUser']=a25_0x44b9('0x25');this['kodiPassword']=a25_0x44b9('0x26');this['forceReload']=![];this[a25_0x44b9('0x27')]=new HttpClientService_1[(a25_0x44b9('0x28'))]();this['playerService']=new playerService_1[(a25_0x44b9('0x29'))]();}[a25_0x44b9('0x2a')](){this['config']=JSON[a25_0x44b9('0x2b')](fs['readFileSync'](configFile));this[a25_0x44b9('0x2c')]=JSON[a25_0x44b9('0x2b')](fs[a25_0x44b9('0x2d')](contextFile));this['playerId']=this[a25_0x44b9('0x2e')][a25_0x44b9('0x2f')];this[a25_0x44b9('0x30')]=process[a25_0x44b9('0x31')][a25_0x44b9('0x32')]+a25_0x44b9('0x33');this[a25_0x44b9('0x34')]=this['baseURL']+a25_0x44b9('0x35');this['playerServiceURL']=this[a25_0x44b9('0x30')]+a25_0x44b9('0x36');this[a25_0x44b9('0x37')]=new kodi_rpc({'url':this[a25_0x44b9('0x38')],'user':this['kodiUser'],'password':this[a25_0x44b9('0x39')]});this[a25_0x44b9('0x3a')]();this[a25_0x44b9('0x3b')]();this['checkFolders']();this[a25_0x44b9('0x3c')]();this['updateSettings']();setInterval(function(){this[a25_0x44b9('0x3d')]();}[a25_0x44b9('0x3e')](this),0x2710);setInterval(function(){this[a25_0x44b9('0x3b')]();}[a25_0x44b9('0x3e')](this),0x493e0);setInterval(function(){this[a25_0x44b9('0x3f')]();}[a25_0x44b9('0x3e')](this),0x2710);}[a25_0x44b9('0x3a')](){}[a25_0x44b9('0x3b')](){this[a25_0x44b9('0x37')][a25_0x44b9('0x40')][a25_0x44b9('0x41')](0x1)[a25_0x44b9('0x5')](function(_0x22c2fc){const _0x48c551=JSON[a25_0x44b9('0x42')](_0x22c2fc);const _0x55cde3={'player_id':this[a25_0x44b9('0x2f')],'device_uuid':this['config']['deviceUuid'],'network_info':JSON[a25_0x44b9('0x42')](os[a25_0x44b9('0x43')]()),'firmware_info':JSON[a25_0x44b9('0x42')](this[a25_0x44b9('0x2c')][a25_0x44b9('0x44')]),'playlist':_0x48c551,'playing_item':'','status':0x0};this[a25_0x44b9('0x27')]['post'](a25_0x44b9('0x45'),_0x55cde3,![])[a25_0x44b9('0x5')](function(_0x5071ef){console['log'](a25_0x44b9('0x46')+Date());})[a25_0x44b9('0x47')](function(_0x37c2f9){});console[a25_0x44b9('0x48')](_0x55cde3);}[a25_0x44b9('0x3e')](this));const _0x24ec75=this[a25_0x44b9('0x2e')][a25_0x44b9('0x49')];if(!_0x24ec75||_0x24ec75==''){this['config']['deviceUuid']=uuidv4();this['config']={'deviceUuid':this[a25_0x44b9('0x2e')][a25_0x44b9('0x49')],'playerId':this[a25_0x44b9('0x2e')][a25_0x44b9('0x2f')]};fs[a25_0x44b9('0x4a')](configFile,JSON[a25_0x44b9('0x42')](this[a25_0x44b9('0x2e')]));}}['getStatus'](){console[a25_0x44b9('0x48')]('getStatus');this[a25_0x44b9('0x37')]['player'][a25_0x44b9('0x4b')]()[a25_0x44b9('0x5')](function(_0x134c0d){const _0x56a84f=_0x134c0d[a25_0x44b9('0x4c')][a25_0x44b9('0x4d')];this[a25_0x44b9('0x4e')](_0x56a84f);}[a25_0x44b9('0x3e')](this))[a25_0x44b9('0x47')](function(_0xa88498){console['log'](_0xa88498);this[a25_0x44b9('0x4e')](JSON['stringify'](_0xa88498));}[a25_0x44b9('0x3e')](this));}[a25_0x44b9('0x4e')](_0x4fd963){console[a25_0x44b9('0x48')](a25_0x44b9('0x4f')+_0x4fd963);const _0x466fd4={'player_id':this[a25_0x44b9('0x2f')],'device_uuid':this['config'][a25_0x44b9('0x49')],'status':_0x4fd963!=''&&_0x4fd963!=null?0x1:0x0,'playing_item':_0x4fd963};this['httpClientService'][a25_0x44b9('0x50')]('http://restapi.lulo.run/player_devices/report_status',_0x466fd4,![])[a25_0x44b9('0x5')](function(_0x1d76ff){console[a25_0x44b9('0x48')](a25_0x44b9('0x51'));})[a25_0x44b9('0x47')](function(_0x352765){});}[a25_0x44b9('0x52')](){fsExtra['ensureDir'](this['mediaFolder'],_0x5d84e5=>{});fsExtra[a25_0x44b9('0x53')](this[a25_0x44b9('0x19')],_0x40dfcc=>{});fsExtra[a25_0x44b9('0x53')](this[a25_0x44b9('0x1b')],_0x2b6f21=>{});}[a25_0x44b9('0x3c')](){const _0x484c97=format(this[a25_0x44b9('0x34')],this['playerId']);console[a25_0x44b9('0x48')](_0x484c97);request({'url':_0x484c97,'json':!![]},function(_0x114d3c,_0x5b991a,_0xd74f19){console['log'](a25_0x44b9('0x54'));this[a25_0x44b9('0x55')]=_0xd74f19;this['playlistChanged']=this['hasPlayListChanged']();fsExtra[a25_0x44b9('0x56')](this[a25_0x44b9('0x19')]);this[a25_0x44b9('0x22')]=[];this[a25_0x44b9('0x23')]=[];this['currentFile']=0x0;for(const _0x28d439 in _0xd74f19){this[a25_0x44b9('0x22')][a25_0x44b9('0x57')](_0xd74f19[_0x28d439]);}console[a25_0x44b9('0x48')](a25_0x44b9('0x58')+this['downloadFiles']['length']);if(this[a25_0x44b9('0x22')][a25_0x44b9('0x59')]>0x0){this[a25_0x44b9('0x5a')]();}}[a25_0x44b9('0x3e')](this));}[a25_0x44b9('0x5b')](){this['forceReload']=!![];if(fsExtra[a25_0x44b9('0x5c')](this[a25_0x44b9('0x19')])){fsExtra[a25_0x44b9('0x56')](this[a25_0x44b9('0x19')]);}if(fsExtra['existsSync'](this[a25_0x44b9('0x1b')])){fsExtra[a25_0x44b9('0x56')](this['filesFolder']);}if(!fsExtra[a25_0x44b9('0x5c')](this[a25_0x44b9('0x1d')])){fsExtra[a25_0x44b9('0x5d')](this[a25_0x44b9('0x1d')]);}if(!fsExtra[a25_0x44b9('0x5c')](this[a25_0x44b9('0x1e')])){fsExtra[a25_0x44b9('0x5d')](this[a25_0x44b9('0x1e')]);}this[a25_0x44b9('0x3c')]();}[a25_0x44b9('0x5e')](){const _0x31bb3e=JSON['stringify'](this[a25_0x44b9('0x55')]);try{if(!fsExtra[a25_0x44b9('0x5c')](this['playListFile'])){return!![];}else{const _0x5e665c=fsExtra[a25_0x44b9('0x2d')](this[a25_0x44b9('0x1d')])[a25_0x44b9('0x5f')]();if(_0x5e665c!=_0x31bb3e){return!![];}}}catch(_0x2b7a8d){console[a25_0x44b9('0x48')](_0x2b7a8d);}return![];}[a25_0x44b9('0x5a')](){console[a25_0x44b9('0x48')](a25_0x44b9('0x60')+this[a25_0x44b9('0x20')]+a25_0x44b9('0x61')+this['downloadFiles']['length']);if(this[a25_0x44b9('0x20')]>=this[a25_0x44b9('0x22')]['length']){this[a25_0x44b9('0x62')]();return;}const _0x599617=String(this[a25_0x44b9('0x22')][this['currentFile']][a25_0x44b9('0x63')]);const _0xa6698b=this[a25_0x44b9('0x22')][this[a25_0x44b9('0x20')]][a25_0x44b9('0x64')];let _0x1873ea=_0x599617[a25_0x44b9('0x65')](_0x599617[a25_0x44b9('0x66')]('/')+0x1);const _0x1238e3=_0x1873ea[a25_0x44b9('0x67')]('.')[a25_0x44b9('0x68')](0x0,-0x1)[a25_0x44b9('0x69')]('.');let _0xfa30a7=this[a25_0x44b9('0x30')]+_0x599617;const _0x3afe2d=_0xfa30a7[a25_0x44b9('0x67')]('.')[a25_0x44b9('0x68')](0x0,-0x1)['join']('.');if(_0xa6698b=='youtube_single'){_0x1873ea=_0x1873ea+a25_0x44b9('0x6a');}else if(_0xa6698b==a25_0x44b9('0x6b')){_0x1873ea=_0x1238e3+a25_0x44b9('0x6a');_0xfa30a7=_0x3afe2d+a25_0x44b9('0x6a');}console[a25_0x44b9('0x48')](a25_0x44b9('0x6c'));console[a25_0x44b9('0x48')](_0x599617);console[a25_0x44b9('0x48')](_0xa6698b);console['log'](_0x1873ea);console['log'](_0xfa30a7);console[a25_0x44b9('0x48')](_0x1238e3);console[a25_0x44b9('0x48')](_0x3afe2d);console[a25_0x44b9('0x48')](a25_0x44b9('0x6c'));if(fsExtra[a25_0x44b9('0x5c')](this[a25_0x44b9('0x19')]+_0x1873ea)){this['checkVideo'](this[a25_0x44b9('0x19')]+_0x1873ea)['then'](function(_0x24038d){if(_0x24038d){this['currentFile']++;}else{this[a25_0x44b9('0x21')]=!![];}this[a25_0x44b9('0x5a')]();}['bind'](this));}else if(fsExtra[a25_0x44b9('0x5c')](this[a25_0x44b9('0x1b')]+_0x1873ea)){this[a25_0x44b9('0x6d')](this[a25_0x44b9('0x1b')]+_0x1873ea)[a25_0x44b9('0x5')](function(_0x4a06a9){if(_0x4a06a9){fsExtra[a25_0x44b9('0x6e')](this[a25_0x44b9('0x1b')]+_0x1873ea,this[a25_0x44b9('0x19')]+_0x1873ea);this[a25_0x44b9('0x20')]++;}else{this[a25_0x44b9('0x21')]=!![];}this['download']();}['bind'](this));}else{console[a25_0x44b9('0x48')](a25_0x44b9('0x6f')+_0xfa30a7);this[a25_0x44b9('0x21')]=!![];if(_0xa6698b==a25_0x44b9('0x70')){this[a25_0x44b9('0x71')](_0x599617);}else{this[a25_0x44b9('0x72')](_0xfa30a7,_0x1873ea,_0xa6698b);}}}['checkSchedule'](){const _0x20c7cf=this[a25_0x44b9('0x73')]();console['log'](a25_0x44b9('0x73'),_0x20c7cf);if(_0x20c7cf){setTimeout(function(){this[a25_0x44b9('0x74')]();}[a25_0x44b9('0x3e')](this),0x7d0);}}[a25_0x44b9('0x6d')](_0x5cf95c){return __awaiter(this,void 0x0,void 0x0,function*(){console[a25_0x44b9('0x48')]('videoFile:\x20'+_0x5cf95c);const _0x4a1261=yield mediainfo(_0x5cf95c)[a25_0x44b9('0x47')](_0x27779c=>{console[a25_0x44b9('0x48')](_0x27779c);fsExtra['removeSync'](_0x5cf95c);return![];});const _0x3cf3e4=_0x4a1261[a25_0x44b9('0x75')][a25_0x44b9('0x76')]['length']>0x1&&_0x4a1261['media']['track'][0x1]['@type']=='Video';if(!_0x3cf3e4){fsExtra['removeSync'](_0x5cf95c);}console['log'](a25_0x44b9('0x77')+_0x3cf3e4);return _0x3cf3e4;});}[a25_0x44b9('0x72')](_0x41536f,_0x175e9b,_0x2cf894){const _0x1b68c3=new Downloader();console['log'](_0x41536f);console[a25_0x44b9('0x48')](_0x175e9b);console[a25_0x44b9('0x48')](_0x2cf894);const _0x53fde8=_0x1b68c3['download'](_0x41536f,this[a25_0x44b9('0x19')]+_0x175e9b);urlExists(_0x41536f,function(_0xa17657,_0x4775be){if(_0x4775be){if(this[a25_0x44b9('0x23')][a25_0x44b9('0x78')](this['currentFile'])){const _0x175fda=this[a25_0x44b9('0x23')][a25_0x44b9('0x79')](this[a25_0x44b9('0x20')]);if(_0x175fda>-0x1){this[a25_0x44b9('0x23')][a25_0x44b9('0x7a')](_0x175fda,0x1);}}console['log']('downloading:\x20'+_0x41536f);_0x53fde8['start']();}else{if(!this['failDownloadFiles'][a25_0x44b9('0x78')](this[a25_0x44b9('0x20')])){this[a25_0x44b9('0x23')]['push'](this[a25_0x44b9('0x20')]);}console[a25_0x44b9('0x48')]('Error:\x20'+_0x41536f);this[a25_0x44b9('0x20')]++;this[a25_0x44b9('0x5a')]();}}[a25_0x44b9('0x3e')](this));_0x53fde8['on'](a25_0x44b9('0x7b'),function(_0x53fde8){console[a25_0x44b9('0x48')]('start:\x20'+_0x41536f);});_0x53fde8['on'](a25_0x44b9('0x7c'),function(_0x53fde8){console[a25_0x44b9('0x48')](a25_0x44b9('0x7d'));this[a25_0x44b9('0x5a')]();}['bind'](this));_0x53fde8['on'](a25_0x44b9('0x7e'),function(_0x53fde8){console['log'](a25_0x44b9('0x7e'));console[a25_0x44b9('0x48')]('Downloaded:\x20'+_0x175e9b);console['log'](a25_0x44b9('0x7f')+_0x2cf894);this[a25_0x44b9('0x6d')](this[a25_0x44b9('0x19')]+_0x175e9b)[a25_0x44b9('0x5')](function(_0x139d94){if(_0x139d94){this[a25_0x44b9('0x20')]++;}this[a25_0x44b9('0x5a')]();}[a25_0x44b9('0x3e')](this));}[a25_0x44b9('0x3e')](this));_0x53fde8['on']('stopped',function(_0x53fde8){console[a25_0x44b9('0x48')]('stopped');});_0x53fde8['on']('destroyed',function(_0x53fde8){console[a25_0x44b9('0x48')](a25_0x44b9('0x80'));});_0x53fde8['on']('retry',function(_0x53fde8){console[a25_0x44b9('0x48')](a25_0x44b9('0x81'));});}[a25_0x44b9('0x82')](_0xe5e0de,_0xc0a9a5,_0x4baf93,_0x206a10){console['log'](a25_0x44b9('0x82'));console['log'](_0xe5e0de);const _0x5414ad=!![];let _0x13e134=0x0;const _0x529791='';console[a25_0x44b9('0x48')](a25_0x44b9('0x83')+_0xe5e0de+a25_0x44b9('0x84')+_0xc0a9a5);if(_0x13e134){if(_0x13e134>0x5){_0x206a10(a25_0x44b9('0x85'),_0xe5e0de,_0x4baf93,null);return;}}else{_0x13e134=0x0;}const _0x420c98=this[a25_0x44b9('0x19')]+_0xc0a9a5;let _0x522693;if(_0x206a10===undefined){console[a25_0x44b9('0x48')](a25_0x44b9('0x86')+_0xe5e0de+a25_0x44b9('0x84')+_0x420c98);_0x206a10=function(_0x1512c6,_0x1c21d3){console['log']('downloadFile\x20callback\x20result\x20undefined:\x20',_0x1512c6,_0x1c21d3);};}http[a25_0x44b9('0x87')][a25_0x44b9('0x88')]=0x64;const _0x481214={'host':url[a25_0x44b9('0x2b')](_0xe5e0de)[a25_0x44b9('0x89')],'port':0x50,'path':url['parse'](_0xe5e0de)['pathname'],'agent':![]};const _0x1534f9=http[a25_0x44b9('0x8a')](_0x481214,function(_0x2d65d0){let _0x3c5de8=0x0;let _0x332722=0x0;function _0x528717(){if(_0x3c5de8===undefined){console[a25_0x44b9('0x48')](_0xc0a9a5+a25_0x44b9('0x8b')+_0x332722+'/'+'?');}const _0x454ee5=_0x332722/_0x3c5de8*0x64;console[a25_0x44b9('0x48')](_0xc0a9a5+a25_0x44b9('0x8c')+_0x454ee5+'%\x09'+_0x332722+'/'+_0x3c5de8);}console[a25_0x44b9('0x48')](_0xc0a9a5+'\x20'+_0x2d65d0[a25_0x44b9('0x8d')]);switch(_0x2d65d0[a25_0x44b9('0x8d')]){case 0xc8:_0x3c5de8=_0x2d65d0[a25_0x44b9('0x8e')][a25_0x44b9('0x8f')]||_0x529791;fs[a25_0x44b9('0x90')](_0x420c98,function(_0x4d22a1,_0x533cca){if(!_0x4d22a1){console[a25_0x44b9('0x48')](a25_0x44b9('0x91')+_0x420c98);if(_0x533cca[a25_0x44b9('0x92')]==_0x3c5de8){console[a25_0x44b9('0x48')](a25_0x44b9('0x93')+_0x3c5de8+')');console['log'](a25_0x44b9('0x94'));}else{console[a25_0x44b9('0x48')](a25_0x44b9('0x95')+_0x533cca[a25_0x44b9('0x92')]+a25_0x44b9('0x96')+_0x3c5de8+')');}}_0x522693=fs[a25_0x44b9('0x97')](_0x420c98);_0x2d65d0[a25_0x44b9('0x98')](_0x522693);_0x2d65d0['on']('data',function(_0x42d6c5){_0x332722+=_0x42d6c5[a25_0x44b9('0x59')];_0x528717();});_0x1534f9['on'](a25_0x44b9('0x7c'),function(_0x4d22a1){console[a25_0x44b9('0x48')](a25_0x44b9('0x99'));console[a25_0x44b9('0x48')](_0x4d22a1);});_0x522693['on'](a25_0x44b9('0x9a'),function(){console['log'](a25_0x44b9('0x9b')+_0xe5e0de+a25_0x44b9('0x84')+_0xc0a9a5);_0x206a10(null,_0xc0a9a5,_0x4baf93,_0xc0a9a5);}['bind'](this));});break;case 0x12e:const _0x3af4fe=_0x2d65d0[a25_0x44b9('0x8e')][a25_0x44b9('0x9c')];console[a25_0x44b9('0x48')](a25_0x44b9('0x9d')+_0xe5e0de+a25_0x44b9('0x84')+_0x3af4fe);if(_0x13e134<0x5){this['downloadHTTPFile'](_0x3af4fe,_0xc0a9a5,_0x206a10,_0x13e134++);}else{console[a25_0x44b9('0x7c')](a25_0x44b9('0x9e')+_0xe5e0de+'.');_0x206a10(a25_0x44b9('0x9f'),null,null,null);}return;case 0x194:console[a25_0x44b9('0x48')](a25_0x44b9('0xa0')+_0xe5e0de);default:console[a25_0x44b9('0x48')](a25_0x44b9('0xa1')+_0xe5e0de+a25_0x44b9('0xa2')+_0x2d65d0[a25_0x44b9('0x8d')]);_0x1534f9[a25_0x44b9('0xa3')]();_0x206a10(_0x2d65d0[a25_0x44b9('0x8d')],null,null,null);return;}})['on'](a25_0x44b9('0x7c'),function(_0x5cd42a){console['log'](a25_0x44b9('0xa4')+_0xe5e0de+'\x20'+_0x5cd42a['message']);_0x206a10(_0x5cd42a,null,null,null);});}['downloadHTTPFileCallback'](_0x204863,_0x8b3f54,_0x328184,_0x3134f3){console['log']('downloadHTTPFileCallback');console[a25_0x44b9('0x48')](_0x204863);console['log'](_0x8b3f54);console['log'](_0x328184);console[a25_0x44b9('0x48')](_0x3134f3);if(_0x328184==a25_0x44b9('0x6b')){const _0x4ba3ab=this['downloadFiles'][this[a25_0x44b9('0x20')]][a25_0x44b9('0xa5')]!=null?this[a25_0x44b9('0x22')][this[a25_0x44b9('0x20')]][a25_0x44b9('0xa5')]:0x1e;this['createImageVideo'](_0x3134f3,_0x4ba3ab);}else if(_0x328184==a25_0x44b9('0xa6')){if(_0x204863==null&&_0x8b3f54!=''){this[a25_0x44b9('0x20')]++;}this['download']();}console[a25_0x44b9('0x48')](this[a25_0x44b9('0x20')]);}[a25_0x44b9('0xa7')](_0x1feceb,_0x37b2e4,_0x2efcac){progress(request(_0x1feceb),{})['on'](a25_0x44b9('0xa8'),function(_0x273c63){console[a25_0x44b9('0x48')](_0x273c63);})['on']('error',function(_0x42ac92){console[a25_0x44b9('0x48')](a25_0x44b9('0xa9'));this[a25_0x44b9('0x5a')]();})['on']('end',function(){console[a25_0x44b9('0x48')]('Downloaded:\x20'+_0x37b2e4);console[a25_0x44b9('0x48')](a25_0x44b9('0x7f')+_0x2efcac);if(_0x2efcac==a25_0x44b9('0x6b')){const _0x4d23a6=this[a25_0x44b9('0x22')][this[a25_0x44b9('0x20')]][a25_0x44b9('0xa5')]!=null?this[a25_0x44b9('0x22')][this[a25_0x44b9('0x20')]][a25_0x44b9('0xa5')]:0x1e;this[a25_0x44b9('0xaa')](_0x37b2e4,_0x4d23a6);}else if(_0x2efcac=='video'){this[a25_0x44b9('0x20')]++;this[a25_0x44b9('0x5a')]();}}[a25_0x44b9('0x3e')](this))['pipe'](fs[a25_0x44b9('0x97')](this[a25_0x44b9('0x19')]+_0x37b2e4));}[a25_0x44b9('0xaa')](_0xf0d274,_0x2e1a1d=0x1e){const _0x5704bb=this['tempFolder']+_0xf0d274;console['log'](_0x5704bb);console[a25_0x44b9('0x48')](_0xf0d274);const _0x2fb090=_0xf0d274[a25_0x44b9('0x67')]('.')['slice'](0x0,-0x1)[a25_0x44b9('0x69')]('.');const _0xdd071e=a25_0x44b9('0xab');const _0x5b1eca=['-y','-r',a25_0x44b9('0xac'),a25_0x44b9('0xad'),'1',a25_0x44b9('0xae'),a25_0x44b9('0xaf'),'-i',_0x5704bb,'-t',String(_0x2e1a1d),a25_0x44b9('0xb0'),a25_0x44b9('0xb1'),a25_0x44b9('0xb2'),a25_0x44b9('0xb3'),'-r','25',a25_0x44b9('0xb4'),'scale=1920:1080',this[a25_0x44b9('0x19')]+_0x2fb090+'.mp4'];const _0x2280c8=spawn(_0xdd071e,_0x5b1eca);_0x2280c8[a25_0x44b9('0xb5')]['on'](a25_0x44b9('0xb6'),function(_0x541608){console['log'](a25_0x44b9('0xb7')+_0x5704bb);});_0x2280c8['stderr']['on'](a25_0x44b9('0xb6'),function(_0x5308a5){console[a25_0x44b9('0x48')]('stderr:\x20'+_0x5308a5);}[a25_0x44b9('0x3e')](this));_0x2280c8['on'](a25_0x44b9('0xb8'),function(){console[a25_0x44b9('0x48')](a25_0x44b9('0xb9'));this[a25_0x44b9('0x20')]++;this['download']();}[a25_0x44b9('0x3e')](this));}[a25_0x44b9('0x71')](_0x333236){const _0x5db90e=this['tempFolder']+'/'+_0x333236+'.mp4';const _0x4eb49b=a25_0x44b9('0xba')+_0x333236;console[a25_0x44b9('0x48')](a25_0x44b9('0xbb')+_0x4eb49b);console[a25_0x44b9('0x48')](a25_0x44b9('0xbc')+_0x5db90e);const _0x1bb9c6=youtubedl(_0x4eb49b,[a25_0x44b9('0xbd'),a25_0x44b9('0xbe')],{'cwd':__dirname});_0x1bb9c6['on']('info',function(_0x1d4b01){console[a25_0x44b9('0x48')](a25_0x44b9('0xbf'));console['log'](a25_0x44b9('0xc0')+_0x1d4b01[a25_0x44b9('0xc1')]);console[a25_0x44b9('0x48')]('size:\x20'+_0x1d4b01[a25_0x44b9('0x92')]);});_0x1bb9c6['on']('complete',function complete(_0x23c6ca){'use strict';console[a25_0x44b9('0x48')]('filename:\x20'+_0x23c6ca[a25_0x44b9('0xc1')]+a25_0x44b9('0xc2'));});_0x1bb9c6['on'](a25_0x44b9('0x7e'),function(){console[a25_0x44b9('0x48')](a25_0x44b9('0xc3'));this[a25_0x44b9('0x6d')](_0x5db90e)[a25_0x44b9('0x5')](function(_0x146d5e){if(_0x146d5e){this[a25_0x44b9('0x20')]++;}this[a25_0x44b9('0x5a')]();}[a25_0x44b9('0x3e')](this));}['bind'](this));_0x1bb9c6['pipe'](fs[a25_0x44b9('0x97')](_0x5db90e));}[a25_0x44b9('0x62')](){console[a25_0x44b9('0x48')](a25_0x44b9('0xc4'));if(this[a25_0x44b9('0x21')]){if(this[a25_0x44b9('0x23')]['length']==0x0){console['log'](a25_0x44b9('0xc5')+this[a25_0x44b9('0x1d')]);fs[a25_0x44b9('0x4a')](this[a25_0x44b9('0x1d')],JSON['stringify'](this[a25_0x44b9('0x55')]));const _0x10d1c0=this[a25_0x44b9('0x73')]();fsExtra[a25_0x44b9('0xc6')](this[a25_0x44b9('0x1b')])[a25_0x44b9('0x5')](()=>{fsExtra[a25_0x44b9('0xc7')](this[a25_0x44b9('0x19')],this[a25_0x44b9('0x1b')])[a25_0x44b9('0x5')](()=>{fsExtra[a25_0x44b9('0xc6')](this['tempFolder'])['then'](()=>{console['log']('Refreshing..');this[a25_0x44b9('0x74')]();})['catch'](_0x1d3df8=>console[a25_0x44b9('0x7c')](_0x1d3df8));})[a25_0x44b9('0x47')](_0x1f0dc7=>console[a25_0x44b9('0x7c')](_0x1f0dc7));})[a25_0x44b9('0x47')](_0x529bb0=>console[a25_0x44b9('0x7c')](_0x529bb0));}else{console[a25_0x44b9('0x48')]('Playlist\x20incomplete,\x20retry.');this['currentFile']=0x0;setTimeout(function(){this['download']();}[a25_0x44b9('0x3e')](this),0x1388);}}else{console[a25_0x44b9('0x48')](a25_0x44b9('0xc8'));}}[a25_0x44b9('0x73')](){let _0x470a07=a25_0x44b9('0xc9')+'\x0d\x0a'+'#EXTINF:0,luloPlayList'+'\x0d\x0a';const _0x129004=new Date();for(const _0xce4224 in this[a25_0x44b9('0x22')]){const _0x20a91d=this[a25_0x44b9('0x22')][_0xce4224][a25_0x44b9('0x63')];const _0x1806bf=this[a25_0x44b9('0x22')][_0xce4224][a25_0x44b9('0x64')];const _0x228ec6=dateUtils_1[a25_0x44b9('0xca')][a25_0x44b9('0xcb')](this[a25_0x44b9('0x22')][_0xce4224]['start_date']);const _0x5c2fba=dateUtils_1[a25_0x44b9('0xca')]['Parse'](this[a25_0x44b9('0x22')][_0xce4224][a25_0x44b9('0xcc')]);const _0x119640=_0x20a91d['substring'](_0x20a91d[a25_0x44b9('0x66')]('/')+0x1);let _0x553512=_0x119640['split']('.')['slice'](0x0,-0x1)[a25_0x44b9('0x69')]('.');if(_0x1806bf==a25_0x44b9('0x70')){_0x553512=_0x20a91d;}if((_0x228ec6==null||_0x228ec6<_0x129004)&&(_0x5c2fba==null||_0x5c2fba>_0x129004)){_0x470a07+='/home/osmc/luloclient/media/files/'+_0x553512+a25_0x44b9('0x6a')+'\x0d\x0a';}}let _0x9bb899='';if(fsExtra[a25_0x44b9('0x5c')](this[a25_0x44b9('0x1e')])){_0x9bb899=fsExtra[a25_0x44b9('0x2d')](this['m3uFile']);_0x9bb899=_0x9bb899[a25_0x44b9('0x5f')]()['trim']();}_0x470a07=_0x470a07['toString']()[a25_0x44b9('0xcd')]();if(_0x9bb899!=_0x470a07){fsExtra['writeFileSync'](this[a25_0x44b9('0x1e')],_0x470a07);return!![];}return![];}[a25_0x44b9('0x74')](){console[a25_0x44b9('0x48')](a25_0x44b9('0x1e'),this[a25_0x44b9('0x1e')]);this['kodiCommandClient'](a25_0x44b9('0xce'));}[a25_0x44b9('0xcf')](){console[a25_0x44b9('0x48')](a25_0x44b9('0xd0'));exec(a25_0x44b9('0xd1'),function(_0x1f7cd1){console['log'](_0x1f7cd1);});}[a25_0x44b9('0xd2')](){const _0x54c8fe=format(this['playerServiceURL'],this[a25_0x44b9('0x2f')]);console['log'](_0x54c8fe);request({'url':_0x54c8fe,'json':!![]},function(_0x32c97a,_0x1fbc62,_0x3e22b4){if(_0x3e22b4[a25_0x44b9('0x59')]>0x0){const _0x31bcac=_0x3e22b4[0x0];const _0x3a99e4=_0x31bcac[a25_0x44b9('0xd3')];const _0x474a51=_0x31bcac[a25_0x44b9('0xd4')]==0x1;this[a25_0x44b9('0xd5')](_0x3a99e4);this[a25_0x44b9('0xd6')](_0x474a51);this['registerClient']();}console[a25_0x44b9('0x48')](_0x3e22b4);}[a25_0x44b9('0x3e')](this));}[a25_0x44b9('0xd7')](){this[a25_0x44b9('0xd8')](a25_0x44b9('0xd9'));}[a25_0x44b9('0xda')](){this[a25_0x44b9('0xd8')](a25_0x44b9('0xdb'));}[a25_0x44b9('0xd5')](_0x18deae){const _0x282bc9=_0x18deae!=null&&_0x18deae!='';const _0x1439d2=a25_0x44b9('0xdc');if(fsExtra[a25_0x44b9('0x5c')](_0x1439d2)){const _0x5da5f5=fsExtra[a25_0x44b9('0x2d')](_0x1439d2);console[a25_0x44b9('0x48')](a25_0x44b9('0xdd')+_0x5da5f5);const _0x12a377=require(a25_0x44b9('0xde'));const _0x36d1de=_0x12a377[a25_0x44b9('0xdf')];_0x36d1de(_0x5da5f5,function(_0x5028f4,_0x1e2c11){console[a25_0x44b9('0x48')](a25_0x44b9('0xe0'),_0x5028f4);console['log'](a25_0x44b9('0xe1'),_0x1e2c11);if(!_0x18deae||_0x18deae==null||_0x18deae==''){_0x18deae=a25_0x44b9('0xe2');}_0x1e2c11[a25_0x44b9('0xe3')]['set'][0x0][a25_0x44b9('0xe4')][0x0]['_']=_0x18deae;const _0x589dc0=new _0x12a377[(a25_0x44b9('0xe5'))]();const _0x4b6116=_0x589dc0['buildObject'](_0x1e2c11);console['log'](a25_0x44b9('0xe6'),_0x4b6116);fsExtra[a25_0x44b9('0x4a')](_0x1439d2,_0x4b6116);});this[a25_0x44b9('0xd8')]('RefreshRSS()');this[a25_0x44b9('0xe7')](a25_0x44b9('0xe8'),{'setting':'lookandfeel.enablerssfeeds','value':_0x282bc9},function(_0x57c9fe){console[a25_0x44b9('0x48')](a25_0x44b9('0xe9'));console['log'](_0x57c9fe);}[a25_0x44b9('0x3e')](this));}}[a25_0x44b9('0xd6')](_0x50cae6){this[a25_0x44b9('0xe7')](a25_0x44b9('0xe8'),{'setting':'videoplayer.usedisplayasclock','value':_0x50cae6},function(_0x3a0358){console[a25_0x44b9('0x48')](a25_0x44b9('0xea'));console[a25_0x44b9('0x48')](_0x3a0358);}[a25_0x44b9('0x3e')](this));}[a25_0x44b9('0xd8')](_0x4aa9ba){exec(a25_0x44b9('0xeb')+_0x4aa9ba+'\x22',function(_0x74b24f){console[a25_0x44b9('0x48')](_0x74b24f);});}[a25_0x44b9('0xe7')](_0xb34a8,_0x1cb315,_0x194280){const _0x4b69ed={'jsonrpc':a25_0x44b9('0xec'),'method':_0xb34a8,'params':_0x1cb315,'id':0x1};const _0x2916eb={'user':this[a25_0x44b9('0xed')],'pass':this['kodiPassword']};console['log'](a25_0x44b9('0xee'),_0x4b69ed);console[a25_0x44b9('0x48')]('jsonrpcClient\x20options',_0x2916eb);this[a25_0x44b9('0x27')][a25_0x44b9('0x50')](this[a25_0x44b9('0x38')]+a25_0x44b9('0xef'),_0x4b69ed,![],_0x2916eb)[a25_0x44b9('0x5')](function(_0x1e9e1e){_0x194280(_0x1e9e1e);})[a25_0x44b9('0x47')](function(_0x5476f0){});}}exports['SyncPlaylistsService']=SyncPlaylistsService;
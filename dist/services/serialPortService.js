var a24_0x2a54=['pipe','open','serialPortOnOpen','bind','serialPortOnClose','error','serialPortOnError','data','serialPortOnData','readable','parserOnData','port\x20closed.','Serial\x20port\x20error:\x20','update','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','serialPort','StationContext','settings','portCOM','parsers','Readline'];(function(_0x1e614b,_0x318247){var _0x4d0fb4=function(_0x5b20c5){while(--_0x5b20c5){_0x1e614b['push'](_0x1e614b['shift']());}};_0x4d0fb4(++_0x318247);}(a24_0x2a54,0x1d1));var a24_0x4a00=function(_0x4d329d,_0x9ce038){_0x4d329d=_0x4d329d-0x0;var _0x580b9c=a24_0x2a54[_0x4d329d];return _0x580b9c;};'use strict';Object[a24_0x4a00('0x0')](exports,a24_0x4a00('0x1'),{'value':!![]});const stationSettings_1=require(a24_0x4a00('0x2'));class SerialPortService{constructor(_0x365256){this[a24_0x4a00('0x3')]=_0x365256;}[a24_0x4a00('0x4')](){console[a24_0x4a00('0x5')](a24_0x4a00('0x6'));this[a24_0x4a00('0x7')]();}[a24_0x4a00('0x7')](){const _0x3e1d1c=require(a24_0x4a00('0x8'));this[a24_0x4a00('0x9')]=new _0x3e1d1c(stationSettings_1[a24_0x4a00('0xa')][a24_0x4a00('0xb')][a24_0x4a00('0xc')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':'none'});const _0x5e5f06=_0x3e1d1c[a24_0x4a00('0xd')][a24_0x4a00('0xe')];const _0x36c468=new _0x5e5f06('\x0d\x0a');this[a24_0x4a00('0x9')][a24_0x4a00('0xf')](_0x36c468);this[a24_0x4a00('0x9')]['on'](a24_0x4a00('0x10'),this[a24_0x4a00('0x11')][a24_0x4a00('0x12')](this));this[a24_0x4a00('0x9')]['on']('close',this[a24_0x4a00('0x13')][a24_0x4a00('0x12')](this));this['serialPort']['on'](a24_0x4a00('0x14'),this[a24_0x4a00('0x15')][a24_0x4a00('0x12')](this));this[a24_0x4a00('0x9')]['on'](a24_0x4a00('0x16'),this[a24_0x4a00('0x17')][a24_0x4a00('0x12')](this));this[a24_0x4a00('0x9')]['on'](a24_0x4a00('0x18'),this['serialPortOnReadable'][a24_0x4a00('0x12')](this));_0x36c468['on'](a24_0x4a00('0x16'),this[a24_0x4a00('0x19')][a24_0x4a00('0x12')](this));console['log']('init\x20SerialPort');}[a24_0x4a00('0x11')](){console[a24_0x4a00('0x5')]('Port\x20opened:\x20'+stationSettings_1[a24_0x4a00('0xa')][a24_0x4a00('0xb')][a24_0x4a00('0xc')]);}[a24_0x4a00('0x13')](){console[a24_0x4a00('0x5')](a24_0x4a00('0x1a'));setTimeout(function(){this[a24_0x4a00('0x7')]()[a24_0x4a00('0x12')](this);},0x1388);}[a24_0x4a00('0x15')](_0x2c7a18){console[a24_0x4a00('0x14')](a24_0x4a00('0x1b')+_0x2c7a18);setTimeout(function(){this['openCOM']();}[a24_0x4a00('0x12')](this),0x1388);}[a24_0x4a00('0x19')](_0x30d370){this['gpsService']['gps'][a24_0x4a00('0x1c')](_0x30d370);}[a24_0x4a00('0x17')](_0x19ee14){}['serialPortOnReadable'](){this[a24_0x4a00('0x9')]['read']();}}exports[a24_0x4a00('0x1d')]=SerialPortService;
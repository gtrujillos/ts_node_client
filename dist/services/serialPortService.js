var a24_0x3b5b=['parserOnData','serialPortOnOpen','log','portCOM','port\x20closed.','serialPortOnError','gps','update','serialPortOnData','defineProperty','../infrastructure/stationSettings','gpsService','init\x20SerialPortService','openCOM','serialport','serialPort','StationContext','settings','parsers','open','bind','close','serialPortOnClose','error','data','readable','serialPortOnReadable'];(function(_0x2d57f7,_0x40bc48){var _0xf806db=function(_0x115e22){while(--_0x115e22){_0x2d57f7['push'](_0x2d57f7['shift']());}};_0xf806db(++_0x40bc48);}(a24_0x3b5b,0xc6));var a24_0x51d9=function(_0x123c50,_0x34edf0){_0x123c50=_0x123c50-0x0;var _0x40fb9a=a24_0x3b5b[_0x123c50];return _0x40fb9a;};'use strict';Object[a24_0x51d9('0x0')](exports,'__esModule',{'value':!![]});const stationSettings_1=require(a24_0x51d9('0x1'));class SerialPortService{constructor(_0x436893){this[a24_0x51d9('0x2')]=_0x436893;}['init'](){console['log'](a24_0x51d9('0x3'));this[a24_0x51d9('0x4')]();}[a24_0x51d9('0x4')](){const _0x3a759c=require(a24_0x51d9('0x5'));this[a24_0x51d9('0x6')]=new _0x3a759c(stationSettings_1[a24_0x51d9('0x7')][a24_0x51d9('0x8')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':'none'});const _0x37667b=_0x3a759c[a24_0x51d9('0x9')]['Readline'];const _0x3a9fa6=new _0x37667b('\x0d\x0a');this[a24_0x51d9('0x6')]['pipe'](_0x3a9fa6);this[a24_0x51d9('0x6')]['on'](a24_0x51d9('0xa'),this['serialPortOnOpen'][a24_0x51d9('0xb')](this));this['serialPort']['on'](a24_0x51d9('0xc'),this[a24_0x51d9('0xd')][a24_0x51d9('0xb')](this));this[a24_0x51d9('0x6')]['on'](a24_0x51d9('0xe'),this['serialPortOnError'][a24_0x51d9('0xb')](this));this[a24_0x51d9('0x6')]['on'](a24_0x51d9('0xf'),this['serialPortOnData'][a24_0x51d9('0xb')](this));this[a24_0x51d9('0x6')]['on'](a24_0x51d9('0x10'),this[a24_0x51d9('0x11')]['bind'](this));_0x3a9fa6['on'](a24_0x51d9('0xf'),this[a24_0x51d9('0x12')][a24_0x51d9('0xb')](this));console['log']('init\x20SerialPort');}[a24_0x51d9('0x13')](){console[a24_0x51d9('0x14')]('Port\x20opened:\x20'+stationSettings_1[a24_0x51d9('0x7')][a24_0x51d9('0x8')][a24_0x51d9('0x15')]);}[a24_0x51d9('0xd')](){console['log'](a24_0x51d9('0x16'));setTimeout(function(){this['openCOM']()[a24_0x51d9('0xb')](this);},0x1388);}[a24_0x51d9('0x17')](_0x1b0e17){console[a24_0x51d9('0xe')]('Serial\x20port\x20error:\x20'+_0x1b0e17);setTimeout(function(){this['openCOM']();}['bind'](this),0x1388);}['parserOnData'](_0x103e46){this[a24_0x51d9('0x2')][a24_0x51d9('0x18')][a24_0x51d9('0x19')](_0x103e46);}[a24_0x51d9('0x1a')](_0x12d2b1){}[a24_0x51d9('0x11')](){this[a24_0x51d9('0x6')]['read']();}}exports['SerialPortService']=SerialPortService;
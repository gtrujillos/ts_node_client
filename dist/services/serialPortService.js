var a19_0x45ff=['serialPort','portCOM','none','parsers','Readline','pipe','bind','close','serialPortOnClose','error','serialPortOnData','data','parserOnData','log','init\x20SerialPort','serialPortOnOpen','Port\x20opened:\x20','StationContext','settings','port\x20closed.','serialPortOnError','Serial\x20port\x20error:\x20','gps','read','__esModule','gpsService','init','openCOM','serialport'];(function(_0x27dd50,_0x57e821){var _0x27ef78=function(_0x22013a){while(--_0x22013a){_0x27dd50['push'](_0x27dd50['shift']());}};_0x27ef78(++_0x57e821);}(a19_0x45ff,0x6f));var a19_0x1e0a=function(_0x4b8d7c,_0x33bedf){_0x4b8d7c=_0x4b8d7c-0x0;var _0x32249a=a19_0x45ff[_0x4b8d7c];return _0x32249a;};'use strict';Object['defineProperty'](exports,a19_0x1e0a('0x0'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class SerialPortService{constructor(_0xf84feb){this[a19_0x1e0a('0x1')]=_0xf84feb;}[a19_0x1e0a('0x2')](){this['openCOM']();}[a19_0x1e0a('0x3')](){const _0x585241=require(a19_0x1e0a('0x4'));this[a19_0x1e0a('0x5')]=new _0x585241(stationSettings_1['StationContext']['settings'][a19_0x1e0a('0x6')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a19_0x1e0a('0x7')});const _0x9d7a59=_0x585241[a19_0x1e0a('0x8')][a19_0x1e0a('0x9')];const _0x5417ab=new _0x9d7a59('\x0d\x0a');this[a19_0x1e0a('0x5')][a19_0x1e0a('0xa')](_0x5417ab);this[a19_0x1e0a('0x5')]['on']('open',this['serialPortOnOpen'][a19_0x1e0a('0xb')](this));this[a19_0x1e0a('0x5')]['on'](a19_0x1e0a('0xc'),this[a19_0x1e0a('0xd')][a19_0x1e0a('0xb')](this));this['serialPort']['on'](a19_0x1e0a('0xe'),this['serialPortOnError']['bind'](this));this[a19_0x1e0a('0x5')]['on']('data',this[a19_0x1e0a('0xf')]['bind'](this));this['serialPort']['on']('readable',this['serialPortOnReadable'][a19_0x1e0a('0xb')](this));_0x5417ab['on'](a19_0x1e0a('0x10'),this[a19_0x1e0a('0x11')][a19_0x1e0a('0xb')](this));console[a19_0x1e0a('0x12')](a19_0x1e0a('0x13'));}[a19_0x1e0a('0x14')](){console[a19_0x1e0a('0x12')](a19_0x1e0a('0x15')+stationSettings_1[a19_0x1e0a('0x16')][a19_0x1e0a('0x17')][a19_0x1e0a('0x6')]);}[a19_0x1e0a('0xd')](){console[a19_0x1e0a('0x12')](a19_0x1e0a('0x18'));setTimeout(function(){this[a19_0x1e0a('0x3')]()[a19_0x1e0a('0xb')](this);},0x1388);}[a19_0x1e0a('0x19')](_0x1931f6){console[a19_0x1e0a('0xe')](a19_0x1e0a('0x1a')+_0x1931f6);setTimeout(function(){this[a19_0x1e0a('0x3')]();}['bind'](this),0x1388);}['parserOnData'](_0x210d2f){this[a19_0x1e0a('0x1')][a19_0x1e0a('0x1b')]['update'](_0x210d2f);}['serialPortOnData'](_0x19568b){}['serialPortOnReadable'](){this['serialPort'][a19_0x1e0a('0x1c')]();}}exports['SerialPortService']=SerialPortService;
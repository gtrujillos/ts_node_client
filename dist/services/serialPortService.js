var a21_0x5db5=['close','serialPortOnClose','bind','serialPortOnError','serialPortOnData','readable','serialPortOnReadable','data','parserOnData','serialPortOnOpen','log','Port\x20opened:\x20','port\x20closed.','error','Serial\x20port\x20error:\x20','read','SerialPortService','defineProperty','__esModule','gpsService','init\x20SerialPortService','openCOM','serialport','StationContext','settings','portCOM','none','parsers','Readline','serialPort','pipe','open'];(function(_0x5c4db1,_0x2eeaff){var _0x2cdb2b=function(_0x4ca4d7){while(--_0x4ca4d7){_0x5c4db1['push'](_0x5c4db1['shift']());}};_0x2cdb2b(++_0x2eeaff);}(a21_0x5db5,0x1d1));var a21_0x3f0e=function(_0x4b4117,_0xbcf531){_0x4b4117=_0x4b4117-0x0;var _0x49999f=a21_0x5db5[_0x4b4117];return _0x49999f;};'use strict';Object[a21_0x3f0e('0x0')](exports,a21_0x3f0e('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class SerialPortService{constructor(_0x119347){this[a21_0x3f0e('0x2')]=_0x119347;}['init'](){console['log'](a21_0x3f0e('0x3'));this[a21_0x3f0e('0x4')]();}[a21_0x3f0e('0x4')](){const _0x2afd2b=require(a21_0x3f0e('0x5'));this['serialPort']=new _0x2afd2b(stationSettings_1[a21_0x3f0e('0x6')][a21_0x3f0e('0x7')][a21_0x3f0e('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a21_0x3f0e('0x9')});const _0x273a32=_0x2afd2b[a21_0x3f0e('0xa')][a21_0x3f0e('0xb')];const _0x14dc10=new _0x273a32('\x0d\x0a');this[a21_0x3f0e('0xc')][a21_0x3f0e('0xd')](_0x14dc10);this['serialPort']['on'](a21_0x3f0e('0xe'),this['serialPortOnOpen']['bind'](this));this[a21_0x3f0e('0xc')]['on'](a21_0x3f0e('0xf'),this[a21_0x3f0e('0x10')][a21_0x3f0e('0x11')](this));this[a21_0x3f0e('0xc')]['on']('error',this[a21_0x3f0e('0x12')]['bind'](this));this[a21_0x3f0e('0xc')]['on']('data',this[a21_0x3f0e('0x13')][a21_0x3f0e('0x11')](this));this[a21_0x3f0e('0xc')]['on'](a21_0x3f0e('0x14'),this[a21_0x3f0e('0x15')][a21_0x3f0e('0x11')](this));_0x14dc10['on'](a21_0x3f0e('0x16'),this[a21_0x3f0e('0x17')][a21_0x3f0e('0x11')](this));console['log']('init\x20SerialPort');}[a21_0x3f0e('0x18')](){console[a21_0x3f0e('0x19')](a21_0x3f0e('0x1a')+stationSettings_1[a21_0x3f0e('0x6')][a21_0x3f0e('0x7')][a21_0x3f0e('0x8')]);}[a21_0x3f0e('0x10')](){console['log'](a21_0x3f0e('0x1b'));setTimeout(function(){this[a21_0x3f0e('0x4')]()['bind'](this);},0x1388);}[a21_0x3f0e('0x12')](_0x518150){console[a21_0x3f0e('0x1c')](a21_0x3f0e('0x1d')+_0x518150);setTimeout(function(){this[a21_0x3f0e('0x4')]();}[a21_0x3f0e('0x11')](this),0x1388);}['parserOnData'](_0x5eda66){this[a21_0x3f0e('0x2')]['gps']['update'](_0x5eda66);}[a21_0x3f0e('0x13')](_0x33e32b){}[a21_0x3f0e('0x15')](){this[a21_0x3f0e('0xc')][a21_0x3f0e('0x1e')]();}}exports[a21_0x3f0e('0x1f')]=SerialPortService;
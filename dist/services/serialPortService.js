var a20_0x12e6=['serialPortOnOpen','serialPortOnClose','bind','error','serialPortOnError','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','log','Port\x20opened:\x20','StationContext','Serial\x20port\x20error:\x20','gps','update','read','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','openCOM','serialport','serialPort','settings','none','parsers','Readline','pipe','open'];(function(_0x90a61d,_0x12d8e7){var _0x550c50=function(_0x546c31){while(--_0x546c31){_0x90a61d['push'](_0x90a61d['shift']());}};_0x550c50(++_0x12d8e7);}(a20_0x12e6,0x132));var a20_0x2f77=function(_0x51fc1e,_0x87f5f4){_0x51fc1e=_0x51fc1e-0x0;var _0x5c7da2=a20_0x12e6[_0x51fc1e];return _0x5c7da2;};'use strict';Object[a20_0x2f77('0x0')](exports,a20_0x2f77('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x2f77('0x2'));class SerialPortService{constructor(_0x4a2367){this[a20_0x2f77('0x3')]=_0x4a2367;}[a20_0x2f77('0x4')](){this[a20_0x2f77('0x5')]();}[a20_0x2f77('0x5')](){const _0x358ee5=require(a20_0x2f77('0x6'));this[a20_0x2f77('0x7')]=new _0x358ee5(stationSettings_1['StationContext'][a20_0x2f77('0x8')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x2f77('0x9')});const _0x17e636=_0x358ee5[a20_0x2f77('0xa')][a20_0x2f77('0xb')];const _0x2b1c1e=new _0x17e636('\x0d\x0a');this['serialPort'][a20_0x2f77('0xc')](_0x2b1c1e);this['serialPort']['on'](a20_0x2f77('0xd'),this[a20_0x2f77('0xe')]['bind'](this));this[a20_0x2f77('0x7')]['on']('close',this[a20_0x2f77('0xf')][a20_0x2f77('0x10')](this));this['serialPort']['on'](a20_0x2f77('0x11'),this[a20_0x2f77('0x12')]['bind'](this));this[a20_0x2f77('0x7')]['on'](a20_0x2f77('0x13'),this[a20_0x2f77('0x14')][a20_0x2f77('0x10')](this));this[a20_0x2f77('0x7')]['on'](a20_0x2f77('0x15'),this[a20_0x2f77('0x16')][a20_0x2f77('0x10')](this));_0x2b1c1e['on'](a20_0x2f77('0x13'),this[a20_0x2f77('0x17')][a20_0x2f77('0x10')](this));console[a20_0x2f77('0x18')]('init\x20SerialPort');}['serialPortOnOpen'](){console[a20_0x2f77('0x18')](a20_0x2f77('0x19')+stationSettings_1[a20_0x2f77('0x1a')]['settings']['portCOM']);}[a20_0x2f77('0xf')](){console[a20_0x2f77('0x18')]('port\x20closed.');setTimeout(function(){this[a20_0x2f77('0x5')]()[a20_0x2f77('0x10')](this);},0x1388);}[a20_0x2f77('0x12')](_0x59e346){console[a20_0x2f77('0x11')](a20_0x2f77('0x1b')+_0x59e346);setTimeout(function(){this[a20_0x2f77('0x5')]();}[a20_0x2f77('0x10')](this),0x1388);}[a20_0x2f77('0x17')](_0x387ef8){this['gpsService'][a20_0x2f77('0x1c')][a20_0x2f77('0x1d')](_0x387ef8);}[a20_0x2f77('0x14')](_0x9147f8){}[a20_0x2f77('0x16')](){this['serialPort'][a20_0x2f77('0x1e')]();}}exports[a20_0x2f77('0x1f')]=SerialPortService;
var a23_0xb9e2=['init\x20SerialPortService','serialPort','settings','none','parsers','Readline','pipe','bind','close','serialPortOnClose','serialPortOnError','data','serialPortOnData','readable','parserOnData','log','init\x20SerialPort','serialPortOnOpen','Port\x20opened:\x20','StationContext','portCOM','openCOM','Serial\x20port\x20error:\x20','gps','update','serialPortOnReadable','read','SerialPortService','defineProperty','__esModule','gpsService','init'];(function(_0x5c9da7,_0x134955){var _0x473913=function(_0x118f4c){while(--_0x118f4c){_0x5c9da7['push'](_0x5c9da7['shift']());}};_0x473913(++_0x134955);}(a23_0xb9e2,0x11c));var a23_0x395d=function(_0x3ba551,_0xa82326){_0x3ba551=_0x3ba551-0x0;var _0x31fcd0=a23_0xb9e2[_0x3ba551];return _0x31fcd0;};'use strict';Object[a23_0x395d('0x0')](exports,a23_0x395d('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class SerialPortService{constructor(_0x332d03){this[a23_0x395d('0x2')]=_0x332d03;}[a23_0x395d('0x3')](){console['log'](a23_0x395d('0x4'));this['openCOM']();}['openCOM'](){const _0x517c9a=require('serialport');this[a23_0x395d('0x5')]=new _0x517c9a(stationSettings_1['StationContext'][a23_0x395d('0x6')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a23_0x395d('0x7')});const _0x2021ea=_0x517c9a[a23_0x395d('0x8')][a23_0x395d('0x9')];const _0x526a45=new _0x2021ea('\x0d\x0a');this[a23_0x395d('0x5')][a23_0x395d('0xa')](_0x526a45);this['serialPort']['on']('open',this['serialPortOnOpen'][a23_0x395d('0xb')](this));this['serialPort']['on'](a23_0x395d('0xc'),this[a23_0x395d('0xd')][a23_0x395d('0xb')](this));this[a23_0x395d('0x5')]['on']('error',this[a23_0x395d('0xe')][a23_0x395d('0xb')](this));this[a23_0x395d('0x5')]['on'](a23_0x395d('0xf'),this[a23_0x395d('0x10')][a23_0x395d('0xb')](this));this[a23_0x395d('0x5')]['on'](a23_0x395d('0x11'),this['serialPortOnReadable'][a23_0x395d('0xb')](this));_0x526a45['on'](a23_0x395d('0xf'),this[a23_0x395d('0x12')][a23_0x395d('0xb')](this));console[a23_0x395d('0x13')](a23_0x395d('0x14'));}[a23_0x395d('0x15')](){console['log'](a23_0x395d('0x16')+stationSettings_1[a23_0x395d('0x17')][a23_0x395d('0x6')][a23_0x395d('0x18')]);}[a23_0x395d('0xd')](){console['log']('port\x20closed.');setTimeout(function(){this[a23_0x395d('0x19')]()[a23_0x395d('0xb')](this);},0x1388);}[a23_0x395d('0xe')](_0x286177){console['error'](a23_0x395d('0x1a')+_0x286177);setTimeout(function(){this[a23_0x395d('0x19')]();}['bind'](this),0x1388);}[a23_0x395d('0x12')](_0x535e70){this[a23_0x395d('0x2')][a23_0x395d('0x1b')][a23_0x395d('0x1c')](_0x535e70);}[a23_0x395d('0x10')](_0x1ceddc){}[a23_0x395d('0x1d')](){this[a23_0x395d('0x5')][a23_0x395d('0x1e')]();}}exports[a23_0x395d('0x1f')]=SerialPortService;
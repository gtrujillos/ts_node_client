var a20_0x26cd=['Readline','serialPort','pipe','open','serialPortOnOpen','bind','serialPortOnClose','error','serialPortOnError','data','serialPortOnData','parserOnData','log','init\x20SerialPort','Port\x20opened:\x20','port\x20closed.','Serial\x20port\x20error:\x20','gpsService','serialPortOnReadable','read','SerialPortService','defineProperty','../infrastructure/stationSettings','openCOM','serialport','StationContext','settings','portCOM'];(function(_0x2f663d,_0x4c18b1){var _0x578ee5=function(_0x4978be){while(--_0x4978be){_0x2f663d['push'](_0x2f663d['shift']());}};_0x578ee5(++_0x4c18b1);}(a20_0x26cd,0x1d5));var a20_0x50ba=function(_0x252f3b,_0x4b8241){_0x252f3b=_0x252f3b-0x0;var _0x2c57e8=a20_0x26cd[_0x252f3b];return _0x2c57e8;};'use strict';Object[a20_0x50ba('0x0')](exports,'__esModule',{'value':!![]});const stationSettings_1=require(a20_0x50ba('0x1'));class SerialPortService{constructor(_0x257326){this['gpsService']=_0x257326;}['init'](){this[a20_0x50ba('0x2')]();}[a20_0x50ba('0x2')](){const _0x9f90fb=require(a20_0x50ba('0x3'));this['serialPort']=new _0x9f90fb(stationSettings_1[a20_0x50ba('0x4')][a20_0x50ba('0x5')][a20_0x50ba('0x6')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':'none'});const _0x3959d5=_0x9f90fb['parsers'][a20_0x50ba('0x7')];const _0x1c3507=new _0x3959d5('\x0d\x0a');this[a20_0x50ba('0x8')][a20_0x50ba('0x9')](_0x1c3507);this[a20_0x50ba('0x8')]['on'](a20_0x50ba('0xa'),this[a20_0x50ba('0xb')][a20_0x50ba('0xc')](this));this['serialPort']['on']('close',this[a20_0x50ba('0xd')]['bind'](this));this[a20_0x50ba('0x8')]['on'](a20_0x50ba('0xe'),this[a20_0x50ba('0xf')][a20_0x50ba('0xc')](this));this[a20_0x50ba('0x8')]['on'](a20_0x50ba('0x10'),this[a20_0x50ba('0x11')][a20_0x50ba('0xc')](this));this[a20_0x50ba('0x8')]['on']('readable',this['serialPortOnReadable'][a20_0x50ba('0xc')](this));_0x1c3507['on'](a20_0x50ba('0x10'),this[a20_0x50ba('0x12')]['bind'](this));console[a20_0x50ba('0x13')](a20_0x50ba('0x14'));}[a20_0x50ba('0xb')](){console[a20_0x50ba('0x13')](a20_0x50ba('0x15')+stationSettings_1[a20_0x50ba('0x4')]['settings'][a20_0x50ba('0x6')]);}[a20_0x50ba('0xd')](){console[a20_0x50ba('0x13')](a20_0x50ba('0x16'));setTimeout(function(){this[a20_0x50ba('0x2')]()['bind'](this);},0x1388);}[a20_0x50ba('0xf')](_0xb57c32){console[a20_0x50ba('0xe')](a20_0x50ba('0x17')+_0xb57c32);setTimeout(function(){this[a20_0x50ba('0x2')]();}['bind'](this),0x1388);}[a20_0x50ba('0x12')](_0x5bb6fb){this[a20_0x50ba('0x18')]['gps']['update'](_0x5bb6fb);}['serialPortOnData'](_0x546607){}[a20_0x50ba('0x19')](){this[a20_0x50ba('0x8')][a20_0x50ba('0x1a')]();}}exports[a20_0x50ba('0x1b')]=SerialPortService;
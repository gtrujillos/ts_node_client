var a24_0xb9e2=['init\x20SerialPortService','serialPort','settings','none','parsers','Readline','pipe','bind','close','serialPortOnClose','serialPortOnError','data','serialPortOnData','readable','parserOnData','log','init\x20SerialPort','serialPortOnOpen','Port\x20opened:\x20','StationContext','portCOM','openCOM','Serial\x20port\x20error:\x20','gps','update','serialPortOnReadable','read','SerialPortService','defineProperty','__esModule','gpsService','init'];(function(_0x1fbea9,_0x5a0d74){var _0x50faac=function(_0x9d3c57){while(--_0x9d3c57){_0x1fbea9['push'](_0x1fbea9['shift']());}};_0x50faac(++_0x5a0d74);}(a24_0xb9e2,0x11c));var a24_0x395d=function(_0x2d8f05,_0x4b81bb){_0x2d8f05=_0x2d8f05-0x0;var _0x4d74cb=a24_0xb9e2[_0x2d8f05];return _0x4d74cb;};'use strict';Object[a24_0x395d('0x0')](exports,a24_0x395d('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class SerialPortService{constructor(_0x332d03){this[a24_0x395d('0x2')]=_0x332d03;}[a24_0x395d('0x3')](){console['log'](a24_0x395d('0x4'));this['openCOM']();}['openCOM'](){const _0x517c9a=require('serialport');this[a24_0x395d('0x5')]=new _0x517c9a(stationSettings_1['StationContext'][a24_0x395d('0x6')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a24_0x395d('0x7')});const _0x2021ea=_0x517c9a[a24_0x395d('0x8')][a24_0x395d('0x9')];const _0x526a45=new _0x2021ea('\x0d\x0a');this[a24_0x395d('0x5')][a24_0x395d('0xa')](_0x526a45);this['serialPort']['on']('open',this['serialPortOnOpen'][a24_0x395d('0xb')](this));this['serialPort']['on'](a24_0x395d('0xc'),this[a24_0x395d('0xd')][a24_0x395d('0xb')](this));this[a24_0x395d('0x5')]['on']('error',this[a24_0x395d('0xe')][a24_0x395d('0xb')](this));this[a24_0x395d('0x5')]['on'](a24_0x395d('0xf'),this[a24_0x395d('0x10')][a24_0x395d('0xb')](this));this[a24_0x395d('0x5')]['on'](a24_0x395d('0x11'),this['serialPortOnReadable'][a24_0x395d('0xb')](this));_0x526a45['on'](a24_0x395d('0xf'),this[a24_0x395d('0x12')][a24_0x395d('0xb')](this));console[a24_0x395d('0x13')](a24_0x395d('0x14'));}[a24_0x395d('0x15')](){console['log'](a24_0x395d('0x16')+stationSettings_1[a24_0x395d('0x17')][a24_0x395d('0x6')][a24_0x395d('0x18')]);}[a24_0x395d('0xd')](){console['log']('port\x20closed.');setTimeout(function(){this[a24_0x395d('0x19')]()[a24_0x395d('0xb')](this);},0x1388);}[a24_0x395d('0xe')](_0x286177){console['error'](a24_0x395d('0x1a')+_0x286177);setTimeout(function(){this[a24_0x395d('0x19')]();}['bind'](this),0x1388);}[a24_0x395d('0x12')](_0x535e70){this[a24_0x395d('0x2')][a24_0x395d('0x1b')][a24_0x395d('0x1c')](_0x535e70);}[a24_0x395d('0x10')](_0x1ceddc){}[a24_0x395d('0x1d')](){this[a24_0x395d('0x5')][a24_0x395d('0x1e')]();}}exports[a24_0x395d('0x1f')]=SerialPortService;
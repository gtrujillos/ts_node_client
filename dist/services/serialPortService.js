var a20_0x5438=['serialPortOnData','read','defineProperty','gpsService','init','openCOM','serialport','serialPort','StationContext','settings','none','parsers','Readline','pipe','open','serialPortOnOpen','bind','close','serialPortOnClose','error','serialPortOnError','readable','serialPortOnReadable','data','parserOnData','log','init\x20SerialPort','Port\x20opened:\x20','portCOM','port\x20closed.','Serial\x20port\x20error:\x20','gps'];(function(_0x134645,_0x4fab2b){var _0x198765=function(_0x18d668){while(--_0x18d668){_0x134645['push'](_0x134645['shift']());}};_0x198765(++_0x4fab2b);}(a20_0x5438,0x162));var a20_0x170f=function(_0x1186d3,_0x1be8f4){_0x1186d3=_0x1186d3-0x0;var _0x21820a=a20_0x5438[_0x1186d3];return _0x21820a;};'use strict';Object[a20_0x170f('0x0')](exports,'__esModule',{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class SerialPortService{constructor(_0x415322){this[a20_0x170f('0x1')]=_0x415322;}[a20_0x170f('0x2')](){this['openCOM']();}[a20_0x170f('0x3')](){const _0x428fb5=require(a20_0x170f('0x4'));this[a20_0x170f('0x5')]=new _0x428fb5(stationSettings_1[a20_0x170f('0x6')][a20_0x170f('0x7')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x170f('0x8')});const _0x1bd50e=_0x428fb5[a20_0x170f('0x9')][a20_0x170f('0xa')];const _0x1c52a3=new _0x1bd50e('\x0d\x0a');this[a20_0x170f('0x5')][a20_0x170f('0xb')](_0x1c52a3);this[a20_0x170f('0x5')]['on'](a20_0x170f('0xc'),this[a20_0x170f('0xd')][a20_0x170f('0xe')](this));this[a20_0x170f('0x5')]['on'](a20_0x170f('0xf'),this[a20_0x170f('0x10')][a20_0x170f('0xe')](this));this['serialPort']['on'](a20_0x170f('0x11'),this[a20_0x170f('0x12')][a20_0x170f('0xe')](this));this[a20_0x170f('0x5')]['on']('data',this['serialPortOnData'][a20_0x170f('0xe')](this));this[a20_0x170f('0x5')]['on'](a20_0x170f('0x13'),this[a20_0x170f('0x14')][a20_0x170f('0xe')](this));_0x1c52a3['on'](a20_0x170f('0x15'),this[a20_0x170f('0x16')][a20_0x170f('0xe')](this));console[a20_0x170f('0x17')](a20_0x170f('0x18'));}[a20_0x170f('0xd')](){console[a20_0x170f('0x17')](a20_0x170f('0x19')+stationSettings_1[a20_0x170f('0x6')][a20_0x170f('0x7')][a20_0x170f('0x1a')]);}[a20_0x170f('0x10')](){console[a20_0x170f('0x17')](a20_0x170f('0x1b'));setTimeout(function(){this[a20_0x170f('0x3')]()['bind'](this);},0x1388);}['serialPortOnError'](_0x378d24){console[a20_0x170f('0x11')](a20_0x170f('0x1c')+_0x378d24);setTimeout(function(){this['openCOM']();}[a20_0x170f('0xe')](this),0x1388);}[a20_0x170f('0x16')](_0x306700){this[a20_0x170f('0x1')][a20_0x170f('0x1d')]['update'](_0x306700);}[a20_0x170f('0x1e')](_0x2e3d30){}[a20_0x170f('0x14')](){this[a20_0x170f('0x5')][a20_0x170f('0x1f')]();}}exports['SerialPortService']=SerialPortService;
var a20_0x3720=['Serial\x20port\x20error:\x20','read','../infrastructure/stationSettings','gpsService','log','init\x20SerialPortService','openCOM','serialport','serialPort','StationContext','settings','none','parsers','Readline','pipe','open','serialPortOnOpen','bind','serialPortOnClose','error','serialPortOnError','data','serialPortOnReadable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','portCOM','port\x20closed.'];(function(_0x2f3e31,_0x3a89c9){var _0x2c6db2=function(_0x1fa352){while(--_0x1fa352){_0x2f3e31['push'](_0x2f3e31['shift']());}};_0x2c6db2(++_0x3a89c9);}(a20_0x3720,0x16e));var a20_0x22c4=function(_0x23a91e,_0x482896){_0x23a91e=_0x23a91e-0x0;var _0x213857=a20_0x3720[_0x23a91e];return _0x213857;};'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]});const stationSettings_1=require(a20_0x22c4('0x0'));class SerialPortService{constructor(_0x124f35){this[a20_0x22c4('0x1')]=_0x124f35;}['init'](){console[a20_0x22c4('0x2')](a20_0x22c4('0x3'));this[a20_0x22c4('0x4')]();}[a20_0x22c4('0x4')](){const _0x1a57a9=require(a20_0x22c4('0x5'));this[a20_0x22c4('0x6')]=new _0x1a57a9(stationSettings_1[a20_0x22c4('0x7')][a20_0x22c4('0x8')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x22c4('0x9')});const _0x1d54cc=_0x1a57a9[a20_0x22c4('0xa')][a20_0x22c4('0xb')];const _0x20c0d7=new _0x1d54cc('\x0d\x0a');this[a20_0x22c4('0x6')][a20_0x22c4('0xc')](_0x20c0d7);this[a20_0x22c4('0x6')]['on'](a20_0x22c4('0xd'),this[a20_0x22c4('0xe')][a20_0x22c4('0xf')](this));this['serialPort']['on']('close',this[a20_0x22c4('0x10')][a20_0x22c4('0xf')](this));this[a20_0x22c4('0x6')]['on'](a20_0x22c4('0x11'),this[a20_0x22c4('0x12')][a20_0x22c4('0xf')](this));this[a20_0x22c4('0x6')]['on'](a20_0x22c4('0x13'),this['serialPortOnData'][a20_0x22c4('0xf')](this));this[a20_0x22c4('0x6')]['on']('readable',this[a20_0x22c4('0x14')]['bind'](this));_0x20c0d7['on']('data',this[a20_0x22c4('0x15')][a20_0x22c4('0xf')](this));console['log'](a20_0x22c4('0x16'));}[a20_0x22c4('0xe')](){console[a20_0x22c4('0x2')](a20_0x22c4('0x17')+stationSettings_1[a20_0x22c4('0x7')][a20_0x22c4('0x8')][a20_0x22c4('0x18')]);}['serialPortOnClose'](){console[a20_0x22c4('0x2')](a20_0x22c4('0x19'));setTimeout(function(){this[a20_0x22c4('0x4')]()['bind'](this);},0x1388);}['serialPortOnError'](_0x2f0a0d){console[a20_0x22c4('0x11')](a20_0x22c4('0x1a')+_0x2f0a0d);setTimeout(function(){this['openCOM']();}[a20_0x22c4('0xf')](this),0x1388);}[a20_0x22c4('0x15')](_0x4e85df){this['gpsService']['gps']['update'](_0x4e85df);}['serialPortOnData'](_0xb2081a){}[a20_0x22c4('0x14')](){this[a20_0x22c4('0x6')][a20_0x22c4('0x1b')]();}}exports['SerialPortService']=SerialPortService;
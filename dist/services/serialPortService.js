var a23_0x4380=['../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialPort','settings','portCOM','none','parsers','Readline','pipe','open','serialPortOnOpen','bind','close','error','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','StationContext','serialPortOnClose','serialPortOnError','Serial\x20port\x20error:\x20','gps','update','read','defineProperty','__esModule'];(function(_0x381a94,_0x44df8e){var _0x30b187=function(_0x4eda46){while(--_0x4eda46){_0x381a94['push'](_0x381a94['shift']());}};_0x30b187(++_0x44df8e);}(a23_0x4380,0x174));var a23_0x3194=function(_0x37808d,_0x290891){_0x37808d=_0x37808d-0x0;var _0x4e0730=a23_0x4380[_0x37808d];return _0x4e0730;};'use strict';Object[a23_0x3194('0x0')](exports,a23_0x3194('0x1'),{'value':!![]});const stationSettings_1=require(a23_0x3194('0x2'));class SerialPortService{constructor(_0x5b2f8c){this[a23_0x3194('0x3')]=_0x5b2f8c;}[a23_0x3194('0x4')](){console[a23_0x3194('0x5')](a23_0x3194('0x6'));this['openCOM']();}[a23_0x3194('0x7')](){const _0x4d76f5=require('serialport');this[a23_0x3194('0x8')]=new _0x4d76f5(stationSettings_1['StationContext'][a23_0x3194('0x9')][a23_0x3194('0xa')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a23_0x3194('0xb')});const _0x5876d6=_0x4d76f5[a23_0x3194('0xc')][a23_0x3194('0xd')];const _0x195e60=new _0x5876d6('\x0d\x0a');this[a23_0x3194('0x8')][a23_0x3194('0xe')](_0x195e60);this[a23_0x3194('0x8')]['on'](a23_0x3194('0xf'),this[a23_0x3194('0x10')][a23_0x3194('0x11')](this));this[a23_0x3194('0x8')]['on'](a23_0x3194('0x12'),this['serialPortOnClose'][a23_0x3194('0x11')](this));this[a23_0x3194('0x8')]['on'](a23_0x3194('0x13'),this['serialPortOnError'][a23_0x3194('0x11')](this));this[a23_0x3194('0x8')]['on'](a23_0x3194('0x14'),this[a23_0x3194('0x15')][a23_0x3194('0x11')](this));this[a23_0x3194('0x8')]['on'](a23_0x3194('0x16'),this[a23_0x3194('0x17')][a23_0x3194('0x11')](this));_0x195e60['on']('data',this[a23_0x3194('0x18')][a23_0x3194('0x11')](this));console[a23_0x3194('0x5')](a23_0x3194('0x19'));}['serialPortOnOpen'](){console[a23_0x3194('0x5')](a23_0x3194('0x1a')+stationSettings_1[a23_0x3194('0x1b')][a23_0x3194('0x9')][a23_0x3194('0xa')]);}[a23_0x3194('0x1c')](){console[a23_0x3194('0x5')]('port\x20closed.');setTimeout(function(){this['openCOM']()[a23_0x3194('0x11')](this);},0x1388);}[a23_0x3194('0x1d')](_0x49ce53){console['error'](a23_0x3194('0x1e')+_0x49ce53);setTimeout(function(){this[a23_0x3194('0x7')]();}['bind'](this),0x1388);}[a23_0x3194('0x18')](_0x5de3e6){this[a23_0x3194('0x3')][a23_0x3194('0x1f')][a23_0x3194('0x20')](_0x5de3e6);}[a23_0x3194('0x15')](_0x4ff97c){}[a23_0x3194('0x17')](){this[a23_0x3194('0x8')][a23_0x3194('0x21')]();}}exports['SerialPortService']=SerialPortService;
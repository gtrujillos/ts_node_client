var a20_0x1a16=['serialPortOnError','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','Port\x20opened:\x20','StationContext','port\x20closed.','error','gps','update','read','SerialPortService','defineProperty','__esModule','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','serialPort','settings','portCOM','none','parsers','Readline','pipe','open','serialPortOnOpen','bind','close','serialPortOnClose'];(function(_0x1de7c8,_0x3d059b){var _0x5b6b44=function(_0x494fe9){while(--_0x494fe9){_0x1de7c8['push'](_0x1de7c8['shift']());}};_0x5b6b44(++_0x3d059b);}(a20_0x1a16,0x1c8));var a20_0x2f2b=function(_0x1f45b4,_0x2c259d){_0x1f45b4=_0x1f45b4-0x0;var _0x3ff2af=a20_0x1a16[_0x1f45b4];return _0x3ff2af;};'use strict';Object[a20_0x2f2b('0x0')](exports,a20_0x2f2b('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class SerialPortService{constructor(_0x24bbc1){this[a20_0x2f2b('0x2')]=_0x24bbc1;}[a20_0x2f2b('0x3')](){console[a20_0x2f2b('0x4')](a20_0x2f2b('0x5'));this[a20_0x2f2b('0x6')]();}['openCOM'](){const _0x41d52e=require(a20_0x2f2b('0x7'));this[a20_0x2f2b('0x8')]=new _0x41d52e(stationSettings_1['StationContext'][a20_0x2f2b('0x9')][a20_0x2f2b('0xa')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x2f2b('0xb')});const _0x1cb41f=_0x41d52e[a20_0x2f2b('0xc')][a20_0x2f2b('0xd')];const _0x58622a=new _0x1cb41f('\x0d\x0a');this[a20_0x2f2b('0x8')][a20_0x2f2b('0xe')](_0x58622a);this['serialPort']['on'](a20_0x2f2b('0xf'),this[a20_0x2f2b('0x10')][a20_0x2f2b('0x11')](this));this[a20_0x2f2b('0x8')]['on'](a20_0x2f2b('0x12'),this[a20_0x2f2b('0x13')][a20_0x2f2b('0x11')](this));this[a20_0x2f2b('0x8')]['on']('error',this[a20_0x2f2b('0x14')][a20_0x2f2b('0x11')](this));this[a20_0x2f2b('0x8')]['on'](a20_0x2f2b('0x15'),this[a20_0x2f2b('0x16')][a20_0x2f2b('0x11')](this));this['serialPort']['on'](a20_0x2f2b('0x17'),this[a20_0x2f2b('0x18')][a20_0x2f2b('0x11')](this));_0x58622a['on']('data',this[a20_0x2f2b('0x19')][a20_0x2f2b('0x11')](this));console[a20_0x2f2b('0x4')]('init\x20SerialPort');}[a20_0x2f2b('0x10')](){console[a20_0x2f2b('0x4')](a20_0x2f2b('0x1a')+stationSettings_1[a20_0x2f2b('0x1b')]['settings'][a20_0x2f2b('0xa')]);}[a20_0x2f2b('0x13')](){console[a20_0x2f2b('0x4')](a20_0x2f2b('0x1c'));setTimeout(function(){this['openCOM']()[a20_0x2f2b('0x11')](this);},0x1388);}['serialPortOnError'](_0x5cf218){console[a20_0x2f2b('0x1d')]('Serial\x20port\x20error:\x20'+_0x5cf218);setTimeout(function(){this['openCOM']();}[a20_0x2f2b('0x11')](this),0x1388);}[a20_0x2f2b('0x19')](_0x374fe0){this[a20_0x2f2b('0x2')][a20_0x2f2b('0x1e')][a20_0x2f2b('0x1f')](_0x374fe0);}[a20_0x2f2b('0x16')](_0x369809){}[a20_0x2f2b('0x18')](){this[a20_0x2f2b('0x8')][a20_0x2f2b('0x20')]();}}exports[a20_0x2f2b('0x21')]=SerialPortService;
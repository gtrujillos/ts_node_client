var a20_0xa1b8=['StationContext','settings','portCOM','none','parsers','Readline','serialPort','pipe','serialPortOnOpen','bind','close','serialPortOnClose','error','data','serialPortOnReadable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','port\x20closed.','Serial\x20port\x20error:\x20','gps','update','read','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','init','log','init\x20SerialPortService','openCOM','serialport'];(function(_0x13240f,_0x392db5){var _0x4bd21f=function(_0x25056e){while(--_0x25056e){_0x13240f['push'](_0x13240f['shift']());}};_0x4bd21f(++_0x392db5);}(a20_0xa1b8,0x138));var a20_0x29e5=function(_0x413c02,_0x45c985){_0x413c02=_0x413c02-0x0;var _0x24fced=a20_0xa1b8[_0x413c02];return _0x24fced;};'use strict';Object[a20_0x29e5('0x0')](exports,a20_0x29e5('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x29e5('0x2'));class SerialPortService{constructor(_0x3fc36c){this['gpsService']=_0x3fc36c;}[a20_0x29e5('0x3')](){console[a20_0x29e5('0x4')](a20_0x29e5('0x5'));this['openCOM']();}[a20_0x29e5('0x6')](){const _0x3a4bca=require(a20_0x29e5('0x7'));this['serialPort']=new _0x3a4bca(stationSettings_1[a20_0x29e5('0x8')][a20_0x29e5('0x9')][a20_0x29e5('0xa')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x29e5('0xb')});const _0x39b786=_0x3a4bca[a20_0x29e5('0xc')][a20_0x29e5('0xd')];const _0x4245ca=new _0x39b786('\x0d\x0a');this[a20_0x29e5('0xe')][a20_0x29e5('0xf')](_0x4245ca);this['serialPort']['on']('open',this[a20_0x29e5('0x10')][a20_0x29e5('0x11')](this));this['serialPort']['on'](a20_0x29e5('0x12'),this[a20_0x29e5('0x13')][a20_0x29e5('0x11')](this));this[a20_0x29e5('0xe')]['on'](a20_0x29e5('0x14'),this['serialPortOnError'][a20_0x29e5('0x11')](this));this[a20_0x29e5('0xe')]['on'](a20_0x29e5('0x15'),this['serialPortOnData'][a20_0x29e5('0x11')](this));this['serialPort']['on']('readable',this[a20_0x29e5('0x16')]['bind'](this));_0x4245ca['on'](a20_0x29e5('0x15'),this[a20_0x29e5('0x17')][a20_0x29e5('0x11')](this));console[a20_0x29e5('0x4')](a20_0x29e5('0x18'));}[a20_0x29e5('0x10')](){console[a20_0x29e5('0x4')](a20_0x29e5('0x19')+stationSettings_1[a20_0x29e5('0x8')]['settings']['portCOM']);}[a20_0x29e5('0x13')](){console[a20_0x29e5('0x4')](a20_0x29e5('0x1a'));setTimeout(function(){this['openCOM']()[a20_0x29e5('0x11')](this);},0x1388);}['serialPortOnError'](_0x35fe9f){console[a20_0x29e5('0x14')](a20_0x29e5('0x1b')+_0x35fe9f);setTimeout(function(){this['openCOM']();}[a20_0x29e5('0x11')](this),0x1388);}[a20_0x29e5('0x17')](_0x4a7b49){this['gpsService'][a20_0x29e5('0x1c')][a20_0x29e5('0x1d')](_0x4a7b49);}['serialPortOnData'](_0x548359){}[a20_0x29e5('0x16')](){this['serialPort'][a20_0x29e5('0x1e')]();}}exports[a20_0x29e5('0x1f')]=SerialPortService;
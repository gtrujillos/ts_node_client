var a23_0x4b66=['none','parsers','Readline','open','serialPortOnOpen','bind','close','serialPortOnClose','serialPortOnError','data','serialPortOnData','serialPortOnReadable','parserOnData','Port\x20opened:\x20','portCOM','port\x20closed.','error','Serial\x20port\x20error:\x20','gps','read','SerialPortService','defineProperty','gpsService','init','log','openCOM','serialport','serialPort','StationContext','settings'];(function(_0x35acaa,_0x435390){var _0x3f874f=function(_0xdf7f85){while(--_0xdf7f85){_0x35acaa['push'](_0x35acaa['shift']());}};_0x3f874f(++_0x435390);}(a23_0x4b66,0x141));var a23_0x1df4=function(_0xff1518,_0x4e8f4f){_0xff1518=_0xff1518-0x0;var _0x79a931=a23_0x4b66[_0xff1518];return _0x79a931;};'use strict';Object[a23_0x1df4('0x0')](exports,'__esModule',{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class SerialPortService{constructor(_0x10723b){this[a23_0x1df4('0x1')]=_0x10723b;}[a23_0x1df4('0x2')](){console[a23_0x1df4('0x3')]('init\x20SerialPortService');this[a23_0x1df4('0x4')]();}['openCOM'](){const _0x41202c=require(a23_0x1df4('0x5'));this[a23_0x1df4('0x6')]=new _0x41202c(stationSettings_1[a23_0x1df4('0x7')][a23_0x1df4('0x8')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a23_0x1df4('0x9')});const _0x2102e2=_0x41202c[a23_0x1df4('0xa')][a23_0x1df4('0xb')];const _0x3a724c=new _0x2102e2('\x0d\x0a');this[a23_0x1df4('0x6')]['pipe'](_0x3a724c);this[a23_0x1df4('0x6')]['on'](a23_0x1df4('0xc'),this[a23_0x1df4('0xd')][a23_0x1df4('0xe')](this));this['serialPort']['on'](a23_0x1df4('0xf'),this[a23_0x1df4('0x10')]['bind'](this));this[a23_0x1df4('0x6')]['on']('error',this[a23_0x1df4('0x11')]['bind'](this));this[a23_0x1df4('0x6')]['on'](a23_0x1df4('0x12'),this[a23_0x1df4('0x13')][a23_0x1df4('0xe')](this));this['serialPort']['on']('readable',this[a23_0x1df4('0x14')][a23_0x1df4('0xe')](this));_0x3a724c['on'](a23_0x1df4('0x12'),this[a23_0x1df4('0x15')][a23_0x1df4('0xe')](this));console['log']('init\x20SerialPort');}[a23_0x1df4('0xd')](){console[a23_0x1df4('0x3')](a23_0x1df4('0x16')+stationSettings_1[a23_0x1df4('0x7')][a23_0x1df4('0x8')][a23_0x1df4('0x17')]);}[a23_0x1df4('0x10')](){console[a23_0x1df4('0x3')](a23_0x1df4('0x18'));setTimeout(function(){this[a23_0x1df4('0x4')]()[a23_0x1df4('0xe')](this);},0x1388);}[a23_0x1df4('0x11')](_0x26bf7b){console[a23_0x1df4('0x19')](a23_0x1df4('0x1a')+_0x26bf7b);setTimeout(function(){this['openCOM']();}[a23_0x1df4('0xe')](this),0x1388);}['parserOnData'](_0x278a28){this[a23_0x1df4('0x1')][a23_0x1df4('0x1b')]['update'](_0x278a28);}[a23_0x1df4('0x13')](_0x297bcd){}[a23_0x1df4('0x14')](){this[a23_0x1df4('0x6')][a23_0x1df4('0x1c')]();}}exports[a23_0x1df4('0x1d')]=SerialPortService;
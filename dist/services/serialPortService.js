var a20_0x4105=['settings','portCOM','none','parsers','Readline','serialPort','pipe','open','serialPortOnOpen','close','serialPortOnClose','bind','error','serialPortOnError','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','init\x20SerialPort','log','Port\x20opened:\x20','Serial\x20port\x20error:\x20','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','openCOM','serialport','StationContext'];(function(_0x246ab5,_0x17c7ec){var _0x180e03=function(_0x4d68f6){while(--_0x4d68f6){_0x246ab5['push'](_0x246ab5['shift']());}};_0x180e03(++_0x17c7ec);}(a20_0x4105,0xe9));var a20_0x1552=function(_0x3c0eb4,_0x52bfc2){_0x3c0eb4=_0x3c0eb4-0x0;var _0x1ec6c0=a20_0x4105[_0x3c0eb4];return _0x1ec6c0;};'use strict';Object[a20_0x1552('0x0')](exports,a20_0x1552('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x1552('0x2'));class SerialPortService{constructor(_0x5f32c4){this[a20_0x1552('0x3')]=_0x5f32c4;}['init'](){this[a20_0x1552('0x4')]();}[a20_0x1552('0x4')](){const _0x3427c9=require(a20_0x1552('0x5'));this['serialPort']=new _0x3427c9(stationSettings_1[a20_0x1552('0x6')][a20_0x1552('0x7')][a20_0x1552('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x1552('0x9')});const _0x3d98ce=_0x3427c9[a20_0x1552('0xa')][a20_0x1552('0xb')];const _0x414df1=new _0x3d98ce('\x0d\x0a');this[a20_0x1552('0xc')][a20_0x1552('0xd')](_0x414df1);this[a20_0x1552('0xc')]['on'](a20_0x1552('0xe'),this[a20_0x1552('0xf')]['bind'](this));this[a20_0x1552('0xc')]['on'](a20_0x1552('0x10'),this[a20_0x1552('0x11')][a20_0x1552('0x12')](this));this[a20_0x1552('0xc')]['on'](a20_0x1552('0x13'),this[a20_0x1552('0x14')][a20_0x1552('0x12')](this));this[a20_0x1552('0xc')]['on'](a20_0x1552('0x15'),this[a20_0x1552('0x16')][a20_0x1552('0x12')](this));this[a20_0x1552('0xc')]['on'](a20_0x1552('0x17'),this[a20_0x1552('0x18')][a20_0x1552('0x12')](this));_0x414df1['on'](a20_0x1552('0x15'),this[a20_0x1552('0x19')]['bind'](this));console['log'](a20_0x1552('0x1a'));}[a20_0x1552('0xf')](){console[a20_0x1552('0x1b')](a20_0x1552('0x1c')+stationSettings_1['StationContext'][a20_0x1552('0x7')][a20_0x1552('0x8')]);}[a20_0x1552('0x11')](){console[a20_0x1552('0x1b')]('port\x20closed.');setTimeout(function(){this['openCOM']()[a20_0x1552('0x12')](this);},0x1388);}[a20_0x1552('0x14')](_0x145bc4){console['error'](a20_0x1552('0x1d')+_0x145bc4);setTimeout(function(){this[a20_0x1552('0x4')]();}[a20_0x1552('0x12')](this),0x1388);}[a20_0x1552('0x19')](_0x529ad0){this['gpsService']['gps']['update'](_0x529ad0);}[a20_0x1552('0x16')](_0x1d70a6){}['serialPortOnReadable'](){this['serialPort']['read']();}}exports['SerialPortService']=SerialPortService;
var a20_0x282f=['pipe','serialPortOnOpen','bind','close','serialPortOnClose','error','serialPortOnError','data','serialPortOnReadable','parserOnData','Port\x20opened:\x20','StationContext','port\x20closed.','Serial\x20port\x20error:\x20','gps','update','serialPortOnData','read','SerialPortService','__esModule','../infrastructure/stationSettings','gpsService','openCOM','serialPort','settings','portCOM','none','Readline'];(function(_0x52429d,_0x22fd97){var _0x4f6c38=function(_0x46f488){while(--_0x46f488){_0x52429d['push'](_0x52429d['shift']());}};_0x4f6c38(++_0x22fd97);}(a20_0x282f,0xbb));var a20_0x7e8c=function(_0x51ad3d,_0x14b901){_0x51ad3d=_0x51ad3d-0x0;var _0x1fdd83=a20_0x282f[_0x51ad3d];return _0x1fdd83;};'use strict';Object['defineProperty'](exports,a20_0x7e8c('0x0'),{'value':!![]});const stationSettings_1=require(a20_0x7e8c('0x1'));class SerialPortService{constructor(_0x292c32){this[a20_0x7e8c('0x2')]=_0x292c32;}['init'](){this[a20_0x7e8c('0x3')]();}[a20_0x7e8c('0x3')](){const _0x8ef5ae=require('serialport');this[a20_0x7e8c('0x4')]=new _0x8ef5ae(stationSettings_1['StationContext'][a20_0x7e8c('0x5')][a20_0x7e8c('0x6')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x7e8c('0x7')});const _0x10804a=_0x8ef5ae['parsers'][a20_0x7e8c('0x8')];const _0x675d56=new _0x10804a('\x0d\x0a');this[a20_0x7e8c('0x4')][a20_0x7e8c('0x9')](_0x675d56);this['serialPort']['on']('open',this[a20_0x7e8c('0xa')][a20_0x7e8c('0xb')](this));this[a20_0x7e8c('0x4')]['on'](a20_0x7e8c('0xc'),this[a20_0x7e8c('0xd')][a20_0x7e8c('0xb')](this));this[a20_0x7e8c('0x4')]['on'](a20_0x7e8c('0xe'),this[a20_0x7e8c('0xf')]['bind'](this));this['serialPort']['on'](a20_0x7e8c('0x10'),this['serialPortOnData']['bind'](this));this[a20_0x7e8c('0x4')]['on']('readable',this[a20_0x7e8c('0x11')][a20_0x7e8c('0xb')](this));_0x675d56['on'](a20_0x7e8c('0x10'),this[a20_0x7e8c('0x12')][a20_0x7e8c('0xb')](this));console['log']('init\x20SerialPort');}['serialPortOnOpen'](){console['log'](a20_0x7e8c('0x13')+stationSettings_1[a20_0x7e8c('0x14')][a20_0x7e8c('0x5')][a20_0x7e8c('0x6')]);}[a20_0x7e8c('0xd')](){console['log'](a20_0x7e8c('0x15'));setTimeout(function(){this['openCOM']()['bind'](this);},0x1388);}[a20_0x7e8c('0xf')](_0x5c7ec0){console['error'](a20_0x7e8c('0x16')+_0x5c7ec0);setTimeout(function(){this['openCOM']();}['bind'](this),0x1388);}['parserOnData'](_0x525ed){this[a20_0x7e8c('0x2')][a20_0x7e8c('0x17')][a20_0x7e8c('0x18')](_0x525ed);}[a20_0x7e8c('0x19')](_0x28124d){}[a20_0x7e8c('0x11')](){this[a20_0x7e8c('0x4')][a20_0x7e8c('0x1a')]();}}exports[a20_0x7e8c('0x1b')]=SerialPortService;
var a24_0x3589=['serialPortOnError','Serial\x20port\x20error:\x20','gps','update','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','settings','portCOM','none','parsers','Readline','serialPort','pipe','open','serialPortOnOpen','bind','serialPortOnClose','error','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','init\x20SerialPort','StationContext'];(function(_0x7e3c91,_0x210ccd){var _0x4cc005=function(_0xaf07c6){while(--_0xaf07c6){_0x7e3c91['push'](_0x7e3c91['shift']());}};_0x4cc005(++_0x210ccd);}(a24_0x3589,0xec));var a24_0x50c1=function(_0x1cf60b,_0x284992){_0x1cf60b=_0x1cf60b-0x0;var _0x45e477=a24_0x3589[_0x1cf60b];return _0x45e477;};'use strict';Object[a24_0x50c1('0x0')](exports,a24_0x50c1('0x1'),{'value':!![]});const stationSettings_1=require(a24_0x50c1('0x2'));class SerialPortService{constructor(_0x182701){this[a24_0x50c1('0x3')]=_0x182701;}[a24_0x50c1('0x4')](){console[a24_0x50c1('0x5')](a24_0x50c1('0x6'));this[a24_0x50c1('0x7')]();}['openCOM'](){const _0x77fb02=require(a24_0x50c1('0x8'));this['serialPort']=new _0x77fb02(stationSettings_1['StationContext'][a24_0x50c1('0x9')][a24_0x50c1('0xa')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a24_0x50c1('0xb')});const _0x1703d5=_0x77fb02[a24_0x50c1('0xc')][a24_0x50c1('0xd')];const _0x11d2c4=new _0x1703d5('\x0d\x0a');this[a24_0x50c1('0xe')][a24_0x50c1('0xf')](_0x11d2c4);this[a24_0x50c1('0xe')]['on'](a24_0x50c1('0x10'),this[a24_0x50c1('0x11')][a24_0x50c1('0x12')](this));this[a24_0x50c1('0xe')]['on']('close',this[a24_0x50c1('0x13')][a24_0x50c1('0x12')](this));this[a24_0x50c1('0xe')]['on'](a24_0x50c1('0x14'),this['serialPortOnError']['bind'](this));this[a24_0x50c1('0xe')]['on'](a24_0x50c1('0x15'),this[a24_0x50c1('0x16')][a24_0x50c1('0x12')](this));this[a24_0x50c1('0xe')]['on'](a24_0x50c1('0x17'),this[a24_0x50c1('0x18')][a24_0x50c1('0x12')](this));_0x11d2c4['on'](a24_0x50c1('0x15'),this[a24_0x50c1('0x19')][a24_0x50c1('0x12')](this));console[a24_0x50c1('0x5')](a24_0x50c1('0x1a'));}[a24_0x50c1('0x11')](){console[a24_0x50c1('0x5')]('Port\x20opened:\x20'+stationSettings_1[a24_0x50c1('0x1b')][a24_0x50c1('0x9')]['portCOM']);}[a24_0x50c1('0x13')](){console[a24_0x50c1('0x5')]('port\x20closed.');setTimeout(function(){this[a24_0x50c1('0x7')]()['bind'](this);},0x1388);}[a24_0x50c1('0x1c')](_0x18d23c){console[a24_0x50c1('0x14')](a24_0x50c1('0x1d')+_0x18d23c);setTimeout(function(){this['openCOM']();}[a24_0x50c1('0x12')](this),0x1388);}['parserOnData'](_0x293a47){this['gpsService'][a24_0x50c1('0x1e')][a24_0x50c1('0x1f')](_0x293a47);}[a24_0x50c1('0x16')](_0x182269){}['serialPortOnReadable'](){this[a24_0x50c1('0xe')]['read']();}}exports[a24_0x50c1('0x20')]=SerialPortService;
var a23_0x2a54=['pipe','open','serialPortOnOpen','bind','serialPortOnClose','error','serialPortOnError','data','serialPortOnData','readable','parserOnData','port\x20closed.','Serial\x20port\x20error:\x20','update','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','serialPort','StationContext','settings','portCOM','parsers','Readline'];(function(_0x460c77,_0x30007f){var _0x3dd926=function(_0x7fc772){while(--_0x7fc772){_0x460c77['push'](_0x460c77['shift']());}};_0x3dd926(++_0x30007f);}(a23_0x2a54,0x1d1));var a23_0x4a00=function(_0x24a786,_0x24d1c4){_0x24a786=_0x24a786-0x0;var _0x54072e=a23_0x2a54[_0x24a786];return _0x54072e;};'use strict';Object[a23_0x4a00('0x0')](exports,a23_0x4a00('0x1'),{'value':!![]});const stationSettings_1=require(a23_0x4a00('0x2'));class SerialPortService{constructor(_0x365256){this[a23_0x4a00('0x3')]=_0x365256;}[a23_0x4a00('0x4')](){console[a23_0x4a00('0x5')](a23_0x4a00('0x6'));this[a23_0x4a00('0x7')]();}[a23_0x4a00('0x7')](){const _0x3e1d1c=require(a23_0x4a00('0x8'));this[a23_0x4a00('0x9')]=new _0x3e1d1c(stationSettings_1[a23_0x4a00('0xa')][a23_0x4a00('0xb')][a23_0x4a00('0xc')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':'none'});const _0x5e5f06=_0x3e1d1c[a23_0x4a00('0xd')][a23_0x4a00('0xe')];const _0x36c468=new _0x5e5f06('\x0d\x0a');this[a23_0x4a00('0x9')][a23_0x4a00('0xf')](_0x36c468);this[a23_0x4a00('0x9')]['on'](a23_0x4a00('0x10'),this[a23_0x4a00('0x11')][a23_0x4a00('0x12')](this));this[a23_0x4a00('0x9')]['on']('close',this[a23_0x4a00('0x13')][a23_0x4a00('0x12')](this));this['serialPort']['on'](a23_0x4a00('0x14'),this[a23_0x4a00('0x15')][a23_0x4a00('0x12')](this));this[a23_0x4a00('0x9')]['on'](a23_0x4a00('0x16'),this[a23_0x4a00('0x17')][a23_0x4a00('0x12')](this));this[a23_0x4a00('0x9')]['on'](a23_0x4a00('0x18'),this['serialPortOnReadable'][a23_0x4a00('0x12')](this));_0x36c468['on'](a23_0x4a00('0x16'),this[a23_0x4a00('0x19')][a23_0x4a00('0x12')](this));console['log']('init\x20SerialPort');}[a23_0x4a00('0x11')](){console[a23_0x4a00('0x5')]('Port\x20opened:\x20'+stationSettings_1[a23_0x4a00('0xa')][a23_0x4a00('0xb')][a23_0x4a00('0xc')]);}[a23_0x4a00('0x13')](){console[a23_0x4a00('0x5')](a23_0x4a00('0x1a'));setTimeout(function(){this[a23_0x4a00('0x7')]()[a23_0x4a00('0x12')](this);},0x1388);}[a23_0x4a00('0x15')](_0x2c7a18){console[a23_0x4a00('0x14')](a23_0x4a00('0x1b')+_0x2c7a18);setTimeout(function(){this['openCOM']();}[a23_0x4a00('0x12')](this),0x1388);}[a23_0x4a00('0x19')](_0x30d370){this['gpsService']['gps'][a23_0x4a00('0x1c')](_0x30d370);}[a23_0x4a00('0x17')](_0x19ee14){}['serialPortOnReadable'](){this[a23_0x4a00('0x9')]['read']();}}exports[a23_0x4a00('0x1d')]=SerialPortService;
var a20_0x3432=['Serial\x20port\x20error:\x20','gps','serialPortOnData','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','serialPort','none','Readline','pipe','open','serialPortOnOpen','bind','serialPortOnClose','error','data','readable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','StationContext','settings','portCOM','serialPortOnError'];(function(_0x2fbeca,_0x302170){var _0x1ae02f=function(_0x1066ee){while(--_0x1066ee){_0x2fbeca['push'](_0x2fbeca['shift']());}};_0x1ae02f(++_0x302170);}(a20_0x3432,0x197));var a20_0x3171=function(_0x560399,_0x59732e){_0x560399=_0x560399-0x0;var _0x4d3ac3=a20_0x3432[_0x560399];return _0x4d3ac3;};'use strict';Object[a20_0x3171('0x0')](exports,a20_0x3171('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x3171('0x2'));class SerialPortService{constructor(_0x1688e7){this[a20_0x3171('0x3')]=_0x1688e7;}[a20_0x3171('0x4')](){console[a20_0x3171('0x5')](a20_0x3171('0x6'));this[a20_0x3171('0x7')]();}['openCOM'](){const _0x2c8c21=require(a20_0x3171('0x8'));this[a20_0x3171('0x9')]=new _0x2c8c21(stationSettings_1['StationContext']['settings']['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x3171('0xa')});const _0x2ae442=_0x2c8c21['parsers'][a20_0x3171('0xb')];const _0x36bdf0=new _0x2ae442('\x0d\x0a');this['serialPort'][a20_0x3171('0xc')](_0x36bdf0);this[a20_0x3171('0x9')]['on'](a20_0x3171('0xd'),this[a20_0x3171('0xe')][a20_0x3171('0xf')](this));this[a20_0x3171('0x9')]['on']('close',this[a20_0x3171('0x10')][a20_0x3171('0xf')](this));this['serialPort']['on'](a20_0x3171('0x11'),this['serialPortOnError'][a20_0x3171('0xf')](this));this[a20_0x3171('0x9')]['on'](a20_0x3171('0x12'),this['serialPortOnData'][a20_0x3171('0xf')](this));this['serialPort']['on'](a20_0x3171('0x13'),this['serialPortOnReadable'][a20_0x3171('0xf')](this));_0x36bdf0['on'](a20_0x3171('0x12'),this[a20_0x3171('0x14')][a20_0x3171('0xf')](this));console[a20_0x3171('0x5')](a20_0x3171('0x15'));}[a20_0x3171('0xe')](){console[a20_0x3171('0x5')](a20_0x3171('0x16')+stationSettings_1[a20_0x3171('0x17')][a20_0x3171('0x18')][a20_0x3171('0x19')]);}[a20_0x3171('0x10')](){console['log']('port\x20closed.');setTimeout(function(){this[a20_0x3171('0x7')]()[a20_0x3171('0xf')](this);},0x1388);}[a20_0x3171('0x1a')](_0x3f5344){console[a20_0x3171('0x11')](a20_0x3171('0x1b')+_0x3f5344);setTimeout(function(){this[a20_0x3171('0x7')]();}[a20_0x3171('0xf')](this),0x1388);}[a20_0x3171('0x14')](_0xb1c97a){this[a20_0x3171('0x3')][a20_0x3171('0x1c')]['update'](_0xb1c97a);}[a20_0x3171('0x1d')](_0x2afd38){}['serialPortOnReadable'](){this[a20_0x3171('0x9')]['read']();}}exports[a20_0x3171('0x1e')]=SerialPortService;
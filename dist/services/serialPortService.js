var a23_0xa1b8=['StationContext','settings','portCOM','none','parsers','Readline','serialPort','pipe','serialPortOnOpen','bind','close','serialPortOnClose','error','data','serialPortOnReadable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','port\x20closed.','Serial\x20port\x20error:\x20','gps','update','read','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','init','log','init\x20SerialPortService','openCOM','serialport'];(function(_0x11c5d5,_0x4833e7){var _0x305d1f=function(_0x3d3a1b){while(--_0x3d3a1b){_0x11c5d5['push'](_0x11c5d5['shift']());}};_0x305d1f(++_0x4833e7);}(a23_0xa1b8,0x138));var a23_0x29e5=function(_0x4911cf,_0x7e6187){_0x4911cf=_0x4911cf-0x0;var _0x2b3346=a23_0xa1b8[_0x4911cf];return _0x2b3346;};'use strict';Object[a23_0x29e5('0x0')](exports,a23_0x29e5('0x1'),{'value':!![]});const stationSettings_1=require(a23_0x29e5('0x2'));class SerialPortService{constructor(_0x3fc36c){this['gpsService']=_0x3fc36c;}[a23_0x29e5('0x3')](){console[a23_0x29e5('0x4')](a23_0x29e5('0x5'));this['openCOM']();}[a23_0x29e5('0x6')](){const _0x3a4bca=require(a23_0x29e5('0x7'));this['serialPort']=new _0x3a4bca(stationSettings_1[a23_0x29e5('0x8')][a23_0x29e5('0x9')][a23_0x29e5('0xa')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a23_0x29e5('0xb')});const _0x39b786=_0x3a4bca[a23_0x29e5('0xc')][a23_0x29e5('0xd')];const _0x4245ca=new _0x39b786('\x0d\x0a');this[a23_0x29e5('0xe')][a23_0x29e5('0xf')](_0x4245ca);this['serialPort']['on']('open',this[a23_0x29e5('0x10')][a23_0x29e5('0x11')](this));this['serialPort']['on'](a23_0x29e5('0x12'),this[a23_0x29e5('0x13')][a23_0x29e5('0x11')](this));this[a23_0x29e5('0xe')]['on'](a23_0x29e5('0x14'),this['serialPortOnError'][a23_0x29e5('0x11')](this));this[a23_0x29e5('0xe')]['on'](a23_0x29e5('0x15'),this['serialPortOnData'][a23_0x29e5('0x11')](this));this['serialPort']['on']('readable',this[a23_0x29e5('0x16')]['bind'](this));_0x4245ca['on'](a23_0x29e5('0x15'),this[a23_0x29e5('0x17')][a23_0x29e5('0x11')](this));console[a23_0x29e5('0x4')](a23_0x29e5('0x18'));}[a23_0x29e5('0x10')](){console[a23_0x29e5('0x4')](a23_0x29e5('0x19')+stationSettings_1[a23_0x29e5('0x8')]['settings']['portCOM']);}[a23_0x29e5('0x13')](){console[a23_0x29e5('0x4')](a23_0x29e5('0x1a'));setTimeout(function(){this['openCOM']()[a23_0x29e5('0x11')](this);},0x1388);}['serialPortOnError'](_0x35fe9f){console[a23_0x29e5('0x14')](a23_0x29e5('0x1b')+_0x35fe9f);setTimeout(function(){this['openCOM']();}[a23_0x29e5('0x11')](this),0x1388);}[a23_0x29e5('0x17')](_0x4a7b49){this['gpsService'][a23_0x29e5('0x1c')][a23_0x29e5('0x1d')](_0x4a7b49);}['serialPortOnData'](_0x548359){}[a23_0x29e5('0x16')](){this['serialPort'][a23_0x29e5('0x1e')]();}}exports[a23_0x29e5('0x1f')]=SerialPortService;
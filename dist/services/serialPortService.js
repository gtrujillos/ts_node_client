var a20_0x27c5=['Serial\x20port\x20error:\x20','gpsService','gps','update','read','SerialPortService','__esModule','../infrastructure/stationSettings','openCOM','StationContext','portCOM','none','parsers','Readline','serialPort','bind','close','serialPortOnClose','error','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','serialPortOnOpen','log','Port\x20opened:\x20','settings','port\x20closed.'];(function(_0x1a9582,_0x3056f3){var _0x14b03f=function(_0x28b5ff){while(--_0x28b5ff){_0x1a9582['push'](_0x1a9582['shift']());}};_0x14b03f(++_0x3056f3);}(a20_0x27c5,0x19c));var a20_0x4a5f=function(_0x4ff09e,_0x557a44){_0x4ff09e=_0x4ff09e-0x0;var _0x50ab7d=a20_0x27c5[_0x4ff09e];return _0x50ab7d;};'use strict';Object['defineProperty'](exports,a20_0x4a5f('0x0'),{'value':!![]});const stationSettings_1=require(a20_0x4a5f('0x1'));class SerialPortService{constructor(_0x2698b9){this['gpsService']=_0x2698b9;}['init'](){this[a20_0x4a5f('0x2')]();}[a20_0x4a5f('0x2')](){const _0x2f0bad=require('serialport');this['serialPort']=new _0x2f0bad(stationSettings_1[a20_0x4a5f('0x3')]['settings'][a20_0x4a5f('0x4')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x4a5f('0x5')});const _0xa37cf2=_0x2f0bad[a20_0x4a5f('0x6')][a20_0x4a5f('0x7')];const _0x1fe600=new _0xa37cf2('\x0d\x0a');this[a20_0x4a5f('0x8')]['pipe'](_0x1fe600);this[a20_0x4a5f('0x8')]['on']('open',this['serialPortOnOpen'][a20_0x4a5f('0x9')](this));this[a20_0x4a5f('0x8')]['on'](a20_0x4a5f('0xa'),this[a20_0x4a5f('0xb')]['bind'](this));this['serialPort']['on'](a20_0x4a5f('0xc'),this['serialPortOnError'][a20_0x4a5f('0x9')](this));this['serialPort']['on'](a20_0x4a5f('0xd'),this[a20_0x4a5f('0xe')][a20_0x4a5f('0x9')](this));this[a20_0x4a5f('0x8')]['on'](a20_0x4a5f('0xf'),this[a20_0x4a5f('0x10')][a20_0x4a5f('0x9')](this));_0x1fe600['on']('data',this[a20_0x4a5f('0x11')][a20_0x4a5f('0x9')](this));console['log']('init\x20SerialPort');}[a20_0x4a5f('0x12')](){console[a20_0x4a5f('0x13')](a20_0x4a5f('0x14')+stationSettings_1[a20_0x4a5f('0x3')][a20_0x4a5f('0x15')][a20_0x4a5f('0x4')]);}['serialPortOnClose'](){console[a20_0x4a5f('0x13')](a20_0x4a5f('0x16'));setTimeout(function(){this[a20_0x4a5f('0x2')]()[a20_0x4a5f('0x9')](this);},0x1388);}['serialPortOnError'](_0x1a8a3d){console[a20_0x4a5f('0xc')](a20_0x4a5f('0x17')+_0x1a8a3d);setTimeout(function(){this[a20_0x4a5f('0x2')]();}['bind'](this),0x1388);}[a20_0x4a5f('0x11')](_0x51ad02){this[a20_0x4a5f('0x18')][a20_0x4a5f('0x19')][a20_0x4a5f('0x1a')](_0x51ad02);}['serialPortOnData'](_0x396b63){}[a20_0x4a5f('0x10')](){this[a20_0x4a5f('0x8')][a20_0x4a5f('0x1b')]();}}exports[a20_0x4a5f('0x1c')]=SerialPortService;
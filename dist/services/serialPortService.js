var a21_0x2a54=['pipe','open','serialPortOnOpen','bind','serialPortOnClose','error','serialPortOnError','data','serialPortOnData','readable','parserOnData','port\x20closed.','Serial\x20port\x20error:\x20','update','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','serialPort','StationContext','settings','portCOM','parsers','Readline'];(function(_0x465301,_0x2c0b53){var _0x2e08a5=function(_0x166c63){while(--_0x166c63){_0x465301['push'](_0x465301['shift']());}};_0x2e08a5(++_0x2c0b53);}(a21_0x2a54,0x1d1));var a21_0x4a00=function(_0x5e4c2a,_0x27135b){_0x5e4c2a=_0x5e4c2a-0x0;var _0x1434b2=a21_0x2a54[_0x5e4c2a];return _0x1434b2;};'use strict';Object[a21_0x4a00('0x0')](exports,a21_0x4a00('0x1'),{'value':!![]});const stationSettings_1=require(a21_0x4a00('0x2'));class SerialPortService{constructor(_0x365256){this[a21_0x4a00('0x3')]=_0x365256;}[a21_0x4a00('0x4')](){console[a21_0x4a00('0x5')](a21_0x4a00('0x6'));this[a21_0x4a00('0x7')]();}[a21_0x4a00('0x7')](){const _0x3e1d1c=require(a21_0x4a00('0x8'));this[a21_0x4a00('0x9')]=new _0x3e1d1c(stationSettings_1[a21_0x4a00('0xa')][a21_0x4a00('0xb')][a21_0x4a00('0xc')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':'none'});const _0x5e5f06=_0x3e1d1c[a21_0x4a00('0xd')][a21_0x4a00('0xe')];const _0x36c468=new _0x5e5f06('\x0d\x0a');this[a21_0x4a00('0x9')][a21_0x4a00('0xf')](_0x36c468);this[a21_0x4a00('0x9')]['on'](a21_0x4a00('0x10'),this[a21_0x4a00('0x11')][a21_0x4a00('0x12')](this));this[a21_0x4a00('0x9')]['on']('close',this[a21_0x4a00('0x13')][a21_0x4a00('0x12')](this));this['serialPort']['on'](a21_0x4a00('0x14'),this[a21_0x4a00('0x15')][a21_0x4a00('0x12')](this));this[a21_0x4a00('0x9')]['on'](a21_0x4a00('0x16'),this[a21_0x4a00('0x17')][a21_0x4a00('0x12')](this));this[a21_0x4a00('0x9')]['on'](a21_0x4a00('0x18'),this['serialPortOnReadable'][a21_0x4a00('0x12')](this));_0x36c468['on'](a21_0x4a00('0x16'),this[a21_0x4a00('0x19')][a21_0x4a00('0x12')](this));console['log']('init\x20SerialPort');}[a21_0x4a00('0x11')](){console[a21_0x4a00('0x5')]('Port\x20opened:\x20'+stationSettings_1[a21_0x4a00('0xa')][a21_0x4a00('0xb')][a21_0x4a00('0xc')]);}[a21_0x4a00('0x13')](){console[a21_0x4a00('0x5')](a21_0x4a00('0x1a'));setTimeout(function(){this[a21_0x4a00('0x7')]()[a21_0x4a00('0x12')](this);},0x1388);}[a21_0x4a00('0x15')](_0x2c7a18){console[a21_0x4a00('0x14')](a21_0x4a00('0x1b')+_0x2c7a18);setTimeout(function(){this['openCOM']();}[a21_0x4a00('0x12')](this),0x1388);}[a21_0x4a00('0x19')](_0x30d370){this['gpsService']['gps'][a21_0x4a00('0x1c')](_0x30d370);}[a21_0x4a00('0x17')](_0x19ee14){}['serialPortOnReadable'](){this[a21_0x4a00('0x9')]['read']();}}exports[a21_0x4a00('0x1d')]=SerialPortService;
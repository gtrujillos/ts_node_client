var a20_0x43a2=['settings','none','Readline','pipe','serialPortOnOpen','bind','close','serialPortOnClose','error','serialPortOnError','data','serialPortOnData','serialPortOnReadable','parserOnData','log','init\x20SerialPort','Port\x20opened:\x20','Serial\x20port\x20error:\x20','update','read','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','openCOM','serialPort','StationContext'];(function(_0x266f7e,_0x556648){var _0xfcb50e=function(_0x5461a5){while(--_0x5461a5){_0x266f7e['push'](_0x266f7e['shift']());}};_0xfcb50e(++_0x556648);}(a20_0x43a2,0x164));var a20_0x24a4=function(_0x1dfe2c,_0x3aff6c){_0x1dfe2c=_0x1dfe2c-0x0;var _0x47c283=a20_0x43a2[_0x1dfe2c];return _0x47c283;};'use strict';Object[a20_0x24a4('0x0')](exports,a20_0x24a4('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x24a4('0x2'));class SerialPortService{constructor(_0xb4c4f4){this[a20_0x24a4('0x3')]=_0xb4c4f4;}[a20_0x24a4('0x4')](){this[a20_0x24a4('0x5')]();}[a20_0x24a4('0x5')](){const _0x383e2d=require('serialport');this[a20_0x24a4('0x6')]=new _0x383e2d(stationSettings_1[a20_0x24a4('0x7')][a20_0x24a4('0x8')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x24a4('0x9')});const _0x4a56f9=_0x383e2d['parsers'][a20_0x24a4('0xa')];const _0x313521=new _0x4a56f9('\x0d\x0a');this[a20_0x24a4('0x6')][a20_0x24a4('0xb')](_0x313521);this[a20_0x24a4('0x6')]['on']('open',this[a20_0x24a4('0xc')][a20_0x24a4('0xd')](this));this['serialPort']['on'](a20_0x24a4('0xe'),this[a20_0x24a4('0xf')][a20_0x24a4('0xd')](this));this[a20_0x24a4('0x6')]['on'](a20_0x24a4('0x10'),this[a20_0x24a4('0x11')][a20_0x24a4('0xd')](this));this[a20_0x24a4('0x6')]['on'](a20_0x24a4('0x12'),this[a20_0x24a4('0x13')][a20_0x24a4('0xd')](this));this['serialPort']['on']('readable',this[a20_0x24a4('0x14')]['bind'](this));_0x313521['on'](a20_0x24a4('0x12'),this[a20_0x24a4('0x15')][a20_0x24a4('0xd')](this));console[a20_0x24a4('0x16')](a20_0x24a4('0x17'));}[a20_0x24a4('0xc')](){console[a20_0x24a4('0x16')](a20_0x24a4('0x18')+stationSettings_1[a20_0x24a4('0x7')][a20_0x24a4('0x8')]['portCOM']);}['serialPortOnClose'](){console[a20_0x24a4('0x16')]('port\x20closed.');setTimeout(function(){this[a20_0x24a4('0x5')]()[a20_0x24a4('0xd')](this);},0x1388);}[a20_0x24a4('0x11')](_0x291489){console[a20_0x24a4('0x10')](a20_0x24a4('0x19')+_0x291489);setTimeout(function(){this[a20_0x24a4('0x5')]();}['bind'](this),0x1388);}['parserOnData'](_0x13d9c7){this[a20_0x24a4('0x3')]['gps'][a20_0x24a4('0x1a')](_0x13d9c7);}[a20_0x24a4('0x13')](_0x4427db){}[a20_0x24a4('0x14')](){this[a20_0x24a4('0x6')][a20_0x24a4('0x1b')]();}}exports['SerialPortService']=SerialPortService;
var a23_0x3b5b=['parserOnData','serialPortOnOpen','log','portCOM','port\x20closed.','serialPortOnError','gps','update','serialPortOnData','defineProperty','../infrastructure/stationSettings','gpsService','init\x20SerialPortService','openCOM','serialport','serialPort','StationContext','settings','parsers','open','bind','close','serialPortOnClose','error','data','readable','serialPortOnReadable'];(function(_0x2f184b,_0x150adb){var _0x66a54d=function(_0x51fe1d){while(--_0x51fe1d){_0x2f184b['push'](_0x2f184b['shift']());}};_0x66a54d(++_0x150adb);}(a23_0x3b5b,0xc6));var a23_0x51d9=function(_0x26d057,_0x32c6eb){_0x26d057=_0x26d057-0x0;var _0x222f04=a23_0x3b5b[_0x26d057];return _0x222f04;};'use strict';Object[a23_0x51d9('0x0')](exports,'__esModule',{'value':!![]});const stationSettings_1=require(a23_0x51d9('0x1'));class SerialPortService{constructor(_0x436893){this[a23_0x51d9('0x2')]=_0x436893;}['init'](){console['log'](a23_0x51d9('0x3'));this[a23_0x51d9('0x4')]();}[a23_0x51d9('0x4')](){const _0x3a759c=require(a23_0x51d9('0x5'));this[a23_0x51d9('0x6')]=new _0x3a759c(stationSettings_1[a23_0x51d9('0x7')][a23_0x51d9('0x8')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':'none'});const _0x37667b=_0x3a759c[a23_0x51d9('0x9')]['Readline'];const _0x3a9fa6=new _0x37667b('\x0d\x0a');this[a23_0x51d9('0x6')]['pipe'](_0x3a9fa6);this[a23_0x51d9('0x6')]['on'](a23_0x51d9('0xa'),this['serialPortOnOpen'][a23_0x51d9('0xb')](this));this['serialPort']['on'](a23_0x51d9('0xc'),this[a23_0x51d9('0xd')][a23_0x51d9('0xb')](this));this[a23_0x51d9('0x6')]['on'](a23_0x51d9('0xe'),this['serialPortOnError'][a23_0x51d9('0xb')](this));this[a23_0x51d9('0x6')]['on'](a23_0x51d9('0xf'),this['serialPortOnData'][a23_0x51d9('0xb')](this));this[a23_0x51d9('0x6')]['on'](a23_0x51d9('0x10'),this[a23_0x51d9('0x11')]['bind'](this));_0x3a9fa6['on'](a23_0x51d9('0xf'),this[a23_0x51d9('0x12')][a23_0x51d9('0xb')](this));console['log']('init\x20SerialPort');}[a23_0x51d9('0x13')](){console[a23_0x51d9('0x14')]('Port\x20opened:\x20'+stationSettings_1[a23_0x51d9('0x7')][a23_0x51d9('0x8')][a23_0x51d9('0x15')]);}[a23_0x51d9('0xd')](){console['log'](a23_0x51d9('0x16'));setTimeout(function(){this['openCOM']()[a23_0x51d9('0xb')](this);},0x1388);}[a23_0x51d9('0x17')](_0x1b0e17){console[a23_0x51d9('0xe')]('Serial\x20port\x20error:\x20'+_0x1b0e17);setTimeout(function(){this['openCOM']();}['bind'](this),0x1388);}['parserOnData'](_0x103e46){this[a23_0x51d9('0x2')][a23_0x51d9('0x18')][a23_0x51d9('0x19')](_0x103e46);}[a23_0x51d9('0x1a')](_0x12d2b1){}[a23_0x51d9('0x11')](){this[a23_0x51d9('0x6')]['read']();}}exports['SerialPortService']=SerialPortService;
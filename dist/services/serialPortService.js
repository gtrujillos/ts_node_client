var a20_0x565b=['parsers','Readline','pipe','open','bind','close','serialPortOnClose','error','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','serialPortOnOpen','log','Port\x20opened:\x20','StationContext','port\x20closed.','serialPortOnError','Serial\x20port\x20error:\x20','update','read','SerialPortService','__esModule','../infrastructure/stationSettings','gpsService','init','openCOM','serialport','serialPort','settings','portCOM'];(function(_0x38d54d,_0x3dc049){var _0x2e9952=function(_0x5c5b47){while(--_0x5c5b47){_0x38d54d['push'](_0x38d54d['shift']());}};_0x2e9952(++_0x3dc049);}(a20_0x565b,0x1b7));var a20_0x5c5b=function(_0x1b6fe1,_0x5eea6f){_0x1b6fe1=_0x1b6fe1-0x0;var _0x22c4f6=a20_0x565b[_0x1b6fe1];return _0x22c4f6;};'use strict';Object['defineProperty'](exports,a20_0x5c5b('0x0'),{'value':!![]});const stationSettings_1=require(a20_0x5c5b('0x1'));class SerialPortService{constructor(_0x394331){this[a20_0x5c5b('0x2')]=_0x394331;}[a20_0x5c5b('0x3')](){this[a20_0x5c5b('0x4')]();}[a20_0x5c5b('0x4')](){const _0x8a7fe=require(a20_0x5c5b('0x5'));this[a20_0x5c5b('0x6')]=new _0x8a7fe(stationSettings_1['StationContext'][a20_0x5c5b('0x7')][a20_0x5c5b('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':'none'});const _0xa7f0df=_0x8a7fe[a20_0x5c5b('0x9')][a20_0x5c5b('0xa')];const _0xb56f19=new _0xa7f0df('\x0d\x0a');this[a20_0x5c5b('0x6')][a20_0x5c5b('0xb')](_0xb56f19);this[a20_0x5c5b('0x6')]['on'](a20_0x5c5b('0xc'),this['serialPortOnOpen'][a20_0x5c5b('0xd')](this));this[a20_0x5c5b('0x6')]['on'](a20_0x5c5b('0xe'),this[a20_0x5c5b('0xf')]['bind'](this));this[a20_0x5c5b('0x6')]['on'](a20_0x5c5b('0x10'),this['serialPortOnError'][a20_0x5c5b('0xd')](this));this['serialPort']['on'](a20_0x5c5b('0x11'),this[a20_0x5c5b('0x12')][a20_0x5c5b('0xd')](this));this[a20_0x5c5b('0x6')]['on'](a20_0x5c5b('0x13'),this[a20_0x5c5b('0x14')][a20_0x5c5b('0xd')](this));_0xb56f19['on'](a20_0x5c5b('0x11'),this[a20_0x5c5b('0x15')]['bind'](this));console['log']('init\x20SerialPort');}[a20_0x5c5b('0x16')](){console[a20_0x5c5b('0x17')](a20_0x5c5b('0x18')+stationSettings_1[a20_0x5c5b('0x19')]['settings'][a20_0x5c5b('0x8')]);}['serialPortOnClose'](){console['log'](a20_0x5c5b('0x1a'));setTimeout(function(){this['openCOM']()[a20_0x5c5b('0xd')](this);},0x1388);}[a20_0x5c5b('0x1b')](_0x429d9c){console['error'](a20_0x5c5b('0x1c')+_0x429d9c);setTimeout(function(){this[a20_0x5c5b('0x4')]();}[a20_0x5c5b('0xd')](this),0x1388);}[a20_0x5c5b('0x15')](_0x319268){this[a20_0x5c5b('0x2')]['gps'][a20_0x5c5b('0x1d')](_0x319268);}[a20_0x5c5b('0x12')](_0x36118a){}[a20_0x5c5b('0x14')](){this[a20_0x5c5b('0x6')][a20_0x5c5b('0x1e')]();}}exports[a20_0x5c5b('0x1f')]=SerialPortService;
var a20_0x7e08=['init\x20SerialPortService','openCOM','serialPort','StationContext','settings','portCOM','none','parsers','pipe','bind','close','error','serialPortOnError','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','init\x20SerialPort','serialPortOnOpen','Port\x20opened:\x20','serialPortOnClose','port\x20closed.','read','SerialPortService','__esModule','../infrastructure/stationSettings','gpsService','init','log'];(function(_0x5e1095,_0x55c69e){var _0x400912=function(_0x17680b){while(--_0x17680b){_0x5e1095['push'](_0x5e1095['shift']());}};_0x400912(++_0x55c69e);}(a20_0x7e08,0xcd));var a20_0x5691=function(_0x3dcbfe,_0x1752c6){_0x3dcbfe=_0x3dcbfe-0x0;var _0x4e4c89=a20_0x7e08[_0x3dcbfe];return _0x4e4c89;};'use strict';Object['defineProperty'](exports,a20_0x5691('0x0'),{'value':!![]});const stationSettings_1=require(a20_0x5691('0x1'));class SerialPortService{constructor(_0x177b63){this[a20_0x5691('0x2')]=_0x177b63;}[a20_0x5691('0x3')](){console[a20_0x5691('0x4')](a20_0x5691('0x5'));this[a20_0x5691('0x6')]();}['openCOM'](){const _0x525846=require('serialport');this[a20_0x5691('0x7')]=new _0x525846(stationSettings_1[a20_0x5691('0x8')][a20_0x5691('0x9')][a20_0x5691('0xa')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x5691('0xb')});const _0x44e0d3=_0x525846[a20_0x5691('0xc')]['Readline'];const _0x27d0af=new _0x44e0d3('\x0d\x0a');this[a20_0x5691('0x7')][a20_0x5691('0xd')](_0x27d0af);this[a20_0x5691('0x7')]['on']('open',this['serialPortOnOpen'][a20_0x5691('0xe')](this));this[a20_0x5691('0x7')]['on'](a20_0x5691('0xf'),this['serialPortOnClose'][a20_0x5691('0xe')](this));this[a20_0x5691('0x7')]['on'](a20_0x5691('0x10'),this[a20_0x5691('0x11')][a20_0x5691('0xe')](this));this[a20_0x5691('0x7')]['on'](a20_0x5691('0x12'),this[a20_0x5691('0x13')][a20_0x5691('0xe')](this));this[a20_0x5691('0x7')]['on'](a20_0x5691('0x14'),this[a20_0x5691('0x15')]['bind'](this));_0x27d0af['on'](a20_0x5691('0x12'),this[a20_0x5691('0x16')][a20_0x5691('0xe')](this));console[a20_0x5691('0x4')](a20_0x5691('0x17'));}[a20_0x5691('0x18')](){console['log'](a20_0x5691('0x19')+stationSettings_1[a20_0x5691('0x8')][a20_0x5691('0x9')]['portCOM']);}[a20_0x5691('0x1a')](){console[a20_0x5691('0x4')](a20_0x5691('0x1b'));setTimeout(function(){this['openCOM']()[a20_0x5691('0xe')](this);},0x1388);}[a20_0x5691('0x11')](_0x3d1e90){console[a20_0x5691('0x10')]('Serial\x20port\x20error:\x20'+_0x3d1e90);setTimeout(function(){this[a20_0x5691('0x6')]();}['bind'](this),0x1388);}['parserOnData'](_0x2633c1){this[a20_0x5691('0x2')]['gps']['update'](_0x2633c1);}[a20_0x5691('0x13')](_0x2cd92c){}[a20_0x5691('0x15')](){this['serialPort'][a20_0x5691('0x1c')]();}}exports[a20_0x5691('0x1d')]=SerialPortService;
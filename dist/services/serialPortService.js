var a20_0x72c1=['StationContext','settings','portCOM','none','parsers','Readline','pipe','open','serialPortOnOpen','bind','serialPortOnClose','serialPortOnError','data','readable','parserOnData','log','init\x20SerialPort','Serial\x20port\x20error:\x20','gps','update','serialPortOnData','serialPortOnReadable','SerialPortService','../infrastructure/stationSettings','gpsService','init','openCOM','serialport','serialPort'];(function(_0x106765,_0x1277b7){var _0x19f13e=function(_0x426e33){while(--_0x426e33){_0x106765['push'](_0x106765['shift']());}};_0x19f13e(++_0x1277b7);}(a20_0x72c1,0x173));var a20_0x3d09=function(_0x2d8f05,_0x4b81bb){_0x2d8f05=_0x2d8f05-0x0;var _0x4d74cb=a20_0x72c1[_0x2d8f05];return _0x4d74cb;};'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]});const stationSettings_1=require(a20_0x3d09('0x0'));class SerialPortService{constructor(_0x579b6e){this[a20_0x3d09('0x1')]=_0x579b6e;}[a20_0x3d09('0x2')](){this[a20_0x3d09('0x3')]();}[a20_0x3d09('0x3')](){const _0x578802=require(a20_0x3d09('0x4'));this[a20_0x3d09('0x5')]=new _0x578802(stationSettings_1[a20_0x3d09('0x6')][a20_0x3d09('0x7')][a20_0x3d09('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x3d09('0x9')});const _0x5e1552=_0x578802[a20_0x3d09('0xa')][a20_0x3d09('0xb')];const _0x4b318f=new _0x5e1552('\x0d\x0a');this[a20_0x3d09('0x5')][a20_0x3d09('0xc')](_0x4b318f);this['serialPort']['on'](a20_0x3d09('0xd'),this[a20_0x3d09('0xe')][a20_0x3d09('0xf')](this));this[a20_0x3d09('0x5')]['on']('close',this[a20_0x3d09('0x10')]['bind'](this));this[a20_0x3d09('0x5')]['on']('error',this[a20_0x3d09('0x11')]['bind'](this));this[a20_0x3d09('0x5')]['on'](a20_0x3d09('0x12'),this['serialPortOnData'][a20_0x3d09('0xf')](this));this[a20_0x3d09('0x5')]['on'](a20_0x3d09('0x13'),this['serialPortOnReadable'][a20_0x3d09('0xf')](this));_0x4b318f['on'](a20_0x3d09('0x12'),this[a20_0x3d09('0x14')][a20_0x3d09('0xf')](this));console[a20_0x3d09('0x15')](a20_0x3d09('0x16'));}[a20_0x3d09('0xe')](){console[a20_0x3d09('0x15')]('Port\x20opened:\x20'+stationSettings_1[a20_0x3d09('0x6')]['settings'][a20_0x3d09('0x8')]);}['serialPortOnClose'](){console['log']('port\x20closed.');setTimeout(function(){this['openCOM']()['bind'](this);},0x1388);}[a20_0x3d09('0x11')](_0x2af2eb){console['error'](a20_0x3d09('0x17')+_0x2af2eb);setTimeout(function(){this[a20_0x3d09('0x3')]();}[a20_0x3d09('0xf')](this),0x1388);}[a20_0x3d09('0x14')](_0x25704b){this[a20_0x3d09('0x1')][a20_0x3d09('0x18')][a20_0x3d09('0x19')](_0x25704b);}[a20_0x3d09('0x1a')](_0xf404da){}[a20_0x3d09('0x1b')](){this['serialPort']['read']();}}exports[a20_0x3d09('0x1c')]=SerialPortService;
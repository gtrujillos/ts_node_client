var a22_0x490d=['SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','serialPort','StationContext','settings','portCOM','none','pipe','open','serialPortOnOpen','bind','close','error','serialPortOnError','data','serialPortOnData','serialPortOnReadable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','serialPortOnClose','port\x20closed.','Serial\x20port\x20error:\x20','read'];(function(_0x154674,_0x41a177){var _0xdcaaa3=function(_0x5f242d){while(--_0x5f242d){_0x154674['push'](_0x154674['shift']());}};_0xdcaaa3(++_0x41a177);}(a22_0x490d,0x161));var a22_0xceec=function(_0x24add4,_0x80e3a8){_0x24add4=_0x24add4-0x0;var _0x2cbffc=a22_0x490d[_0x24add4];return _0x2cbffc;};'use strict';Object[a22_0xceec('0x0')](exports,a22_0xceec('0x1'),{'value':!![]});const stationSettings_1=require(a22_0xceec('0x2'));class SerialPortService{constructor(_0x5f5d37){this[a22_0xceec('0x3')]=_0x5f5d37;}[a22_0xceec('0x4')](){console[a22_0xceec('0x5')](a22_0xceec('0x6'));this['openCOM']();}[a22_0xceec('0x7')](){const _0x2d4af6=require(a22_0xceec('0x8'));this[a22_0xceec('0x9')]=new _0x2d4af6(stationSettings_1[a22_0xceec('0xa')][a22_0xceec('0xb')][a22_0xceec('0xc')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a22_0xceec('0xd')});const _0x22469d=_0x2d4af6['parsers']['Readline'];const _0x47d4f6=new _0x22469d('\x0d\x0a');this[a22_0xceec('0x9')][a22_0xceec('0xe')](_0x47d4f6);this[a22_0xceec('0x9')]['on'](a22_0xceec('0xf'),this[a22_0xceec('0x10')][a22_0xceec('0x11')](this));this[a22_0xceec('0x9')]['on'](a22_0xceec('0x12'),this['serialPortOnClose']['bind'](this));this[a22_0xceec('0x9')]['on'](a22_0xceec('0x13'),this[a22_0xceec('0x14')]['bind'](this));this[a22_0xceec('0x9')]['on'](a22_0xceec('0x15'),this[a22_0xceec('0x16')]['bind'](this));this[a22_0xceec('0x9')]['on']('readable',this[a22_0xceec('0x17')]['bind'](this));_0x47d4f6['on'](a22_0xceec('0x15'),this[a22_0xceec('0x18')][a22_0xceec('0x11')](this));console['log'](a22_0xceec('0x19'));}[a22_0xceec('0x10')](){console[a22_0xceec('0x5')](a22_0xceec('0x1a')+stationSettings_1[a22_0xceec('0xa')][a22_0xceec('0xb')][a22_0xceec('0xc')]);}[a22_0xceec('0x1b')](){console[a22_0xceec('0x5')](a22_0xceec('0x1c'));setTimeout(function(){this[a22_0xceec('0x7')]()[a22_0xceec('0x11')](this);},0x1388);}['serialPortOnError'](_0x402fff){console[a22_0xceec('0x13')](a22_0xceec('0x1d')+_0x402fff);setTimeout(function(){this[a22_0xceec('0x7')]();}[a22_0xceec('0x11')](this),0x1388);}[a22_0xceec('0x18')](_0x28e304){this[a22_0xceec('0x3')]['gps']['update'](_0x28e304);}[a22_0xceec('0x16')](_0x13c8eb){}[a22_0xceec('0x17')](){this['serialPort'][a22_0xceec('0x1e')]();}}exports[a22_0xceec('0x1f')]=SerialPortService;
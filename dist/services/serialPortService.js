var a20_0x336b=['Readline','pipe','open','serialPortOnOpen','close','serialPortOnClose','bind','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','log','Port\x20opened:\x20','settings','port\x20closed.','serialPortOnError','error','Serial\x20port\x20error:\x20','gps','update','read','SerialPortService','defineProperty','__esModule','gpsService','openCOM','serialport','serialPort','parsers'];(function(_0x448756,_0x39a4f8){var _0x477ea2=function(_0x3f44a7){while(--_0x3f44a7){_0x448756['push'](_0x448756['shift']());}};_0x477ea2(++_0x39a4f8);}(a20_0x336b,0x161));var a20_0x41ae=function(_0x3a4114,_0x43a388){_0x3a4114=_0x3a4114-0x0;var _0x4fefac=a20_0x336b[_0x3a4114];return _0x4fefac;};'use strict';Object[a20_0x41ae('0x0')](exports,a20_0x41ae('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class SerialPortService{constructor(_0x42bb6b){this[a20_0x41ae('0x2')]=_0x42bb6b;}['init'](){this[a20_0x41ae('0x3')]();}[a20_0x41ae('0x3')](){const _0x276a6e=require(a20_0x41ae('0x4'));this[a20_0x41ae('0x5')]=new _0x276a6e(stationSettings_1['StationContext']['settings']['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':'none'});const _0x2ad343=_0x276a6e[a20_0x41ae('0x6')][a20_0x41ae('0x7')];const _0x21c397=new _0x2ad343('\x0d\x0a');this['serialPort'][a20_0x41ae('0x8')](_0x21c397);this['serialPort']['on'](a20_0x41ae('0x9'),this[a20_0x41ae('0xa')]['bind'](this));this['serialPort']['on'](a20_0x41ae('0xb'),this[a20_0x41ae('0xc')][a20_0x41ae('0xd')](this));this[a20_0x41ae('0x5')]['on']('error',this['serialPortOnError']['bind'](this));this[a20_0x41ae('0x5')]['on'](a20_0x41ae('0xe'),this[a20_0x41ae('0xf')][a20_0x41ae('0xd')](this));this[a20_0x41ae('0x5')]['on'](a20_0x41ae('0x10'),this[a20_0x41ae('0x11')]['bind'](this));_0x21c397['on'](a20_0x41ae('0xe'),this[a20_0x41ae('0x12')][a20_0x41ae('0xd')](this));console[a20_0x41ae('0x13')]('init\x20SerialPort');}[a20_0x41ae('0xa')](){console[a20_0x41ae('0x13')](a20_0x41ae('0x14')+stationSettings_1['StationContext'][a20_0x41ae('0x15')]['portCOM']);}[a20_0x41ae('0xc')](){console[a20_0x41ae('0x13')](a20_0x41ae('0x16'));setTimeout(function(){this[a20_0x41ae('0x3')]()[a20_0x41ae('0xd')](this);},0x1388);}[a20_0x41ae('0x17')](_0x4b9a8c){console[a20_0x41ae('0x18')](a20_0x41ae('0x19')+_0x4b9a8c);setTimeout(function(){this[a20_0x41ae('0x3')]();}[a20_0x41ae('0xd')](this),0x1388);}[a20_0x41ae('0x12')](_0x2742cb){this[a20_0x41ae('0x2')][a20_0x41ae('0x1a')][a20_0x41ae('0x1b')](_0x2742cb);}[a20_0x41ae('0xf')](_0x1570bd){}[a20_0x41ae('0x11')](){this[a20_0x41ae('0x5')][a20_0x41ae('0x1c')]();}}exports[a20_0x41ae('0x1d')]=SerialPortService;
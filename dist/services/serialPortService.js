var a19_0x5b64=['SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','openCOM','serialport','serialPort','settings','portCOM','none','parsers','pipe','open','serialPortOnOpen','bind','close','serialPortOnClose','error','serialPortOnError','data','serialPortOnData','readable','parserOnData','log','Port\x20opened:\x20','port\x20closed.','Serial\x20port\x20error:\x20','update','serialPortOnReadable','read'];(function(_0x3b6d10,_0xcba053){var _0x14baa7=function(_0x30abff){while(--_0x30abff){_0x3b6d10['push'](_0x3b6d10['shift']());}};_0x14baa7(++_0xcba053);}(a19_0x5b64,0x7d));var a19_0x3928=function(_0x1d23ba,_0x59f107){_0x1d23ba=_0x1d23ba-0x0;var _0x5cec8c=a19_0x5b64[_0x1d23ba];return _0x5cec8c;};'use strict';Object[a19_0x3928('0x0')](exports,a19_0x3928('0x1'),{'value':!![]});const stationSettings_1=require(a19_0x3928('0x2'));class SerialPortService{constructor(_0x5cbeb2){this[a19_0x3928('0x3')]=_0x5cbeb2;}['init'](){this[a19_0x3928('0x4')]();}['openCOM'](){const _0x54db87=require(a19_0x3928('0x5'));this[a19_0x3928('0x6')]=new _0x54db87(stationSettings_1['StationContext'][a19_0x3928('0x7')][a19_0x3928('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a19_0x3928('0x9')});const _0x52222c=_0x54db87[a19_0x3928('0xa')]['Readline'];const _0x44d71=new _0x52222c('\x0d\x0a');this[a19_0x3928('0x6')][a19_0x3928('0xb')](_0x44d71);this[a19_0x3928('0x6')]['on'](a19_0x3928('0xc'),this[a19_0x3928('0xd')][a19_0x3928('0xe')](this));this[a19_0x3928('0x6')]['on'](a19_0x3928('0xf'),this[a19_0x3928('0x10')][a19_0x3928('0xe')](this));this[a19_0x3928('0x6')]['on'](a19_0x3928('0x11'),this[a19_0x3928('0x12')]['bind'](this));this['serialPort']['on'](a19_0x3928('0x13'),this[a19_0x3928('0x14')][a19_0x3928('0xe')](this));this['serialPort']['on'](a19_0x3928('0x15'),this['serialPortOnReadable'][a19_0x3928('0xe')](this));_0x44d71['on'](a19_0x3928('0x13'),this[a19_0x3928('0x16')][a19_0x3928('0xe')](this));console[a19_0x3928('0x17')]('init\x20SerialPort');}[a19_0x3928('0xd')](){console[a19_0x3928('0x17')](a19_0x3928('0x18')+stationSettings_1['StationContext'][a19_0x3928('0x7')][a19_0x3928('0x8')]);}['serialPortOnClose'](){console['log'](a19_0x3928('0x19'));setTimeout(function(){this[a19_0x3928('0x4')]()[a19_0x3928('0xe')](this);},0x1388);}[a19_0x3928('0x12')](_0x5b4899){console[a19_0x3928('0x11')](a19_0x3928('0x1a')+_0x5b4899);setTimeout(function(){this['openCOM']();}[a19_0x3928('0xe')](this),0x1388);}[a19_0x3928('0x16')](_0x5e2c68){this['gpsService']['gps'][a19_0x3928('0x1b')](_0x5e2c68);}[a19_0x3928('0x14')](_0x2d913f){}[a19_0x3928('0x1c')](){this[a19_0x3928('0x6')][a19_0x3928('0x1d')]();}}exports[a19_0x3928('0x1e')]=SerialPortService;
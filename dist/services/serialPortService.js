var a21_0x20b2=['defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','openCOM','serialport','serialPort','StationContext','none','Readline','pipe','open','serialPortOnOpen','bind','close','error','serialPortOnError','serialPortOnReadable','data','parserOnData','init\x20SerialPort','Port\x20opened:\x20','settings','portCOM','port\x20closed.','Serial\x20port\x20error:\x20','update','serialPortOnData','read'];(function(_0x3d6cc9,_0x4724c5){var _0x15b428=function(_0x2c09c6){while(--_0x2c09c6){_0x3d6cc9['push'](_0x3d6cc9['shift']());}};_0x15b428(++_0x4724c5);}(a21_0x20b2,0x117));var a21_0x1b95=function(_0x34446a,_0x3a16c3){_0x34446a=_0x34446a-0x0;var _0x4be540=a21_0x20b2[_0x34446a];return _0x4be540;};'use strict';Object[a21_0x1b95('0x0')](exports,a21_0x1b95('0x1'),{'value':!![]});const stationSettings_1=require(a21_0x1b95('0x2'));class SerialPortService{constructor(_0x5c3961){this[a21_0x1b95('0x3')]=_0x5c3961;}[a21_0x1b95('0x4')](){console[a21_0x1b95('0x5')]('init\x20SerialPortService');this[a21_0x1b95('0x6')]();}[a21_0x1b95('0x6')](){const _0x4462fe=require(a21_0x1b95('0x7'));this[a21_0x1b95('0x8')]=new _0x4462fe(stationSettings_1[a21_0x1b95('0x9')]['settings']['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a21_0x1b95('0xa')});const _0x36393a=_0x4462fe['parsers'][a21_0x1b95('0xb')];const _0x5ce8fb=new _0x36393a('\x0d\x0a');this['serialPort'][a21_0x1b95('0xc')](_0x5ce8fb);this[a21_0x1b95('0x8')]['on'](a21_0x1b95('0xd'),this[a21_0x1b95('0xe')][a21_0x1b95('0xf')](this));this[a21_0x1b95('0x8')]['on'](a21_0x1b95('0x10'),this['serialPortOnClose']['bind'](this));this['serialPort']['on'](a21_0x1b95('0x11'),this[a21_0x1b95('0x12')][a21_0x1b95('0xf')](this));this[a21_0x1b95('0x8')]['on']('data',this['serialPortOnData'][a21_0x1b95('0xf')](this));this[a21_0x1b95('0x8')]['on']('readable',this[a21_0x1b95('0x13')][a21_0x1b95('0xf')](this));_0x5ce8fb['on'](a21_0x1b95('0x14'),this[a21_0x1b95('0x15')][a21_0x1b95('0xf')](this));console[a21_0x1b95('0x5')](a21_0x1b95('0x16'));}[a21_0x1b95('0xe')](){console[a21_0x1b95('0x5')](a21_0x1b95('0x17')+stationSettings_1[a21_0x1b95('0x9')][a21_0x1b95('0x18')][a21_0x1b95('0x19')]);}['serialPortOnClose'](){console['log'](a21_0x1b95('0x1a'));setTimeout(function(){this[a21_0x1b95('0x6')]()[a21_0x1b95('0xf')](this);},0x1388);}[a21_0x1b95('0x12')](_0x4e8f34){console[a21_0x1b95('0x11')](a21_0x1b95('0x1b')+_0x4e8f34);setTimeout(function(){this[a21_0x1b95('0x6')]();}[a21_0x1b95('0xf')](this),0x1388);}[a21_0x1b95('0x15')](_0x29ab73){this[a21_0x1b95('0x3')]['gps'][a21_0x1b95('0x1c')](_0x29ab73);}[a21_0x1b95('0x1d')](_0x329588){}[a21_0x1b95('0x13')](){this[a21_0x1b95('0x8')][a21_0x1b95('0x1e')]();}}exports['SerialPortService']=SerialPortService;
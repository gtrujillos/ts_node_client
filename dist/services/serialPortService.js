var a23_0x4c59=['read','SerialPortService','defineProperty','__esModule','init\x20SerialPortService','openCOM','serialport','serialPort','StationContext','settings','portCOM','none','Readline','pipe','open','bind','serialPortOnClose','error','serialPortOnError','data','serialPortOnData','readable','parserOnData','log','Port\x20opened:\x20','port\x20closed.','Serial\x20port\x20error:\x20','gpsService','gps','serialPortOnReadable'];(function(_0x5d119d,_0x3aafcf){var _0x37e7ba=function(_0x53c700){while(--_0x53c700){_0x5d119d['push'](_0x5d119d['shift']());}};_0x37e7ba(++_0x3aafcf);}(a23_0x4c59,0x14c));var a23_0x46ec=function(_0x2d5ade,_0x1c23cf){_0x2d5ade=_0x2d5ade-0x0;var _0x51df2b=a23_0x4c59[_0x2d5ade];return _0x51df2b;};'use strict';Object[a23_0x46ec('0x0')](exports,a23_0x46ec('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class SerialPortService{constructor(_0x3238bb){this['gpsService']=_0x3238bb;}['init'](){console['log'](a23_0x46ec('0x2'));this[a23_0x46ec('0x3')]();}[a23_0x46ec('0x3')](){const _0x45ee95=require(a23_0x46ec('0x4'));this[a23_0x46ec('0x5')]=new _0x45ee95(stationSettings_1[a23_0x46ec('0x6')][a23_0x46ec('0x7')][a23_0x46ec('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a23_0x46ec('0x9')});const _0xe45c6d=_0x45ee95['parsers'][a23_0x46ec('0xa')];const _0x4e954a=new _0xe45c6d('\x0d\x0a');this[a23_0x46ec('0x5')][a23_0x46ec('0xb')](_0x4e954a);this['serialPort']['on'](a23_0x46ec('0xc'),this['serialPortOnOpen'][a23_0x46ec('0xd')](this));this[a23_0x46ec('0x5')]['on']('close',this[a23_0x46ec('0xe')][a23_0x46ec('0xd')](this));this[a23_0x46ec('0x5')]['on'](a23_0x46ec('0xf'),this[a23_0x46ec('0x10')][a23_0x46ec('0xd')](this));this[a23_0x46ec('0x5')]['on'](a23_0x46ec('0x11'),this[a23_0x46ec('0x12')]['bind'](this));this['serialPort']['on'](a23_0x46ec('0x13'),this['serialPortOnReadable']['bind'](this));_0x4e954a['on'](a23_0x46ec('0x11'),this[a23_0x46ec('0x14')][a23_0x46ec('0xd')](this));console[a23_0x46ec('0x15')]('init\x20SerialPort');}['serialPortOnOpen'](){console[a23_0x46ec('0x15')](a23_0x46ec('0x16')+stationSettings_1[a23_0x46ec('0x6')][a23_0x46ec('0x7')][a23_0x46ec('0x8')]);}[a23_0x46ec('0xe')](){console[a23_0x46ec('0x15')](a23_0x46ec('0x17'));setTimeout(function(){this[a23_0x46ec('0x3')]()[a23_0x46ec('0xd')](this);},0x1388);}['serialPortOnError'](_0x8a522e){console[a23_0x46ec('0xf')](a23_0x46ec('0x18')+_0x8a522e);setTimeout(function(){this[a23_0x46ec('0x3')]();}[a23_0x46ec('0xd')](this),0x1388);}[a23_0x46ec('0x14')](_0x164016){this[a23_0x46ec('0x19')][a23_0x46ec('0x1a')]['update'](_0x164016);}['serialPortOnData'](_0x35b7b2){}[a23_0x46ec('0x1b')](){this[a23_0x46ec('0x5')][a23_0x46ec('0x1c')]();}}exports[a23_0x46ec('0x1d')]=SerialPortService;
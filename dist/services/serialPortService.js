var a21_0x490d=['SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','serialPort','StationContext','settings','portCOM','none','pipe','open','serialPortOnOpen','bind','close','error','serialPortOnError','data','serialPortOnData','serialPortOnReadable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','serialPortOnClose','port\x20closed.','Serial\x20port\x20error:\x20','read'];(function(_0xdec1bc,_0x5b3a63){var _0x59e4de=function(_0x598426){while(--_0x598426){_0xdec1bc['push'](_0xdec1bc['shift']());}};_0x59e4de(++_0x5b3a63);}(a21_0x490d,0x161));var a21_0xceec=function(_0x524b4a,_0x5d9f3a){_0x524b4a=_0x524b4a-0x0;var _0x4fa678=a21_0x490d[_0x524b4a];return _0x4fa678;};'use strict';Object[a21_0xceec('0x0')](exports,a21_0xceec('0x1'),{'value':!![]});const stationSettings_1=require(a21_0xceec('0x2'));class SerialPortService{constructor(_0x5f5d37){this[a21_0xceec('0x3')]=_0x5f5d37;}[a21_0xceec('0x4')](){console[a21_0xceec('0x5')](a21_0xceec('0x6'));this['openCOM']();}[a21_0xceec('0x7')](){const _0x2d4af6=require(a21_0xceec('0x8'));this[a21_0xceec('0x9')]=new _0x2d4af6(stationSettings_1[a21_0xceec('0xa')][a21_0xceec('0xb')][a21_0xceec('0xc')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a21_0xceec('0xd')});const _0x22469d=_0x2d4af6['parsers']['Readline'];const _0x47d4f6=new _0x22469d('\x0d\x0a');this[a21_0xceec('0x9')][a21_0xceec('0xe')](_0x47d4f6);this[a21_0xceec('0x9')]['on'](a21_0xceec('0xf'),this[a21_0xceec('0x10')][a21_0xceec('0x11')](this));this[a21_0xceec('0x9')]['on'](a21_0xceec('0x12'),this['serialPortOnClose']['bind'](this));this[a21_0xceec('0x9')]['on'](a21_0xceec('0x13'),this[a21_0xceec('0x14')]['bind'](this));this[a21_0xceec('0x9')]['on'](a21_0xceec('0x15'),this[a21_0xceec('0x16')]['bind'](this));this[a21_0xceec('0x9')]['on']('readable',this[a21_0xceec('0x17')]['bind'](this));_0x47d4f6['on'](a21_0xceec('0x15'),this[a21_0xceec('0x18')][a21_0xceec('0x11')](this));console['log'](a21_0xceec('0x19'));}[a21_0xceec('0x10')](){console[a21_0xceec('0x5')](a21_0xceec('0x1a')+stationSettings_1[a21_0xceec('0xa')][a21_0xceec('0xb')][a21_0xceec('0xc')]);}[a21_0xceec('0x1b')](){console[a21_0xceec('0x5')](a21_0xceec('0x1c'));setTimeout(function(){this[a21_0xceec('0x7')]()[a21_0xceec('0x11')](this);},0x1388);}['serialPortOnError'](_0x402fff){console[a21_0xceec('0x13')](a21_0xceec('0x1d')+_0x402fff);setTimeout(function(){this[a21_0xceec('0x7')]();}[a21_0xceec('0x11')](this),0x1388);}[a21_0xceec('0x18')](_0x28e304){this[a21_0xceec('0x3')]['gps']['update'](_0x28e304);}[a21_0xceec('0x16')](_0x13c8eb){}[a21_0xceec('0x17')](){this['serialPort'][a21_0xceec('0x1e')]();}}exports[a21_0xceec('0x1f')]=SerialPortService;
var a23_0x3885=['update','read','SerialPortService','__esModule','./gpsService','init','log','init\x20SerialPortService','GPSService','getInstance','gps','$GPGGA,224900.000,4832.3762,N,00903.5393,E,1,04,7.8,498.6,M,48.0,M,,0000*5E','openCOM','serialPort','StationContext','settings','portCOM','none','parsers','Readline','pipe','serialPortOnOpen','bind','close','serialPortOnError','serialPortOnData','serialPortOnReadable','data','parserOnData','init\x20SerialPort','Port\x20opened:\x20','serialPortOnClose','port\x20closed.','error','Serial\x20port\x20error:\x20'];(function(_0x3c7b5f,_0x220c56){var _0x47e0a1=function(_0xe8050a){while(--_0xe8050a){_0x3c7b5f['push'](_0x3c7b5f['shift']());}};_0x47e0a1(++_0x220c56);}(a23_0x3885,0x184));var a23_0x5b45=function(_0x18799f,_0x14bae9){_0x18799f=_0x18799f-0x0;var _0xc77ed9=a23_0x3885[_0x18799f];return _0xc77ed9;};'use strict';Object['defineProperty'](exports,a23_0x5b45('0x0'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');const gpsService_1=require(a23_0x5b45('0x1'));class SerialPortService{constructor(){}[a23_0x5b45('0x2')](){console[a23_0x5b45('0x3')](a23_0x5b45('0x4'));gpsService_1[a23_0x5b45('0x5')][a23_0x5b45('0x6')]()[a23_0x5b45('0x7')]['update'](a23_0x5b45('0x8'));}[a23_0x5b45('0x9')](){const _0x39d88a=require('serialport');this[a23_0x5b45('0xa')]=new _0x39d88a(stationSettings_1[a23_0x5b45('0xb')][a23_0x5b45('0xc')][a23_0x5b45('0xd')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a23_0x5b45('0xe')});const _0x43557c=_0x39d88a[a23_0x5b45('0xf')][a23_0x5b45('0x10')];const _0x53059c=new _0x43557c('\x0d\x0a');this[a23_0x5b45('0xa')][a23_0x5b45('0x11')](_0x53059c);this[a23_0x5b45('0xa')]['on']('open',this[a23_0x5b45('0x12')][a23_0x5b45('0x13')](this));this[a23_0x5b45('0xa')]['on'](a23_0x5b45('0x14'),this['serialPortOnClose']['bind'](this));this['serialPort']['on']('error',this[a23_0x5b45('0x15')][a23_0x5b45('0x13')](this));this[a23_0x5b45('0xa')]['on']('data',this[a23_0x5b45('0x16')]['bind'](this));this[a23_0x5b45('0xa')]['on']('readable',this[a23_0x5b45('0x17')][a23_0x5b45('0x13')](this));_0x53059c['on'](a23_0x5b45('0x18'),this[a23_0x5b45('0x19')][a23_0x5b45('0x13')](this));console[a23_0x5b45('0x3')](a23_0x5b45('0x1a'));}[a23_0x5b45('0x12')](){console[a23_0x5b45('0x3')](a23_0x5b45('0x1b')+stationSettings_1[a23_0x5b45('0xb')][a23_0x5b45('0xc')][a23_0x5b45('0xd')]);}[a23_0x5b45('0x1c')](){console[a23_0x5b45('0x3')](a23_0x5b45('0x1d'));setTimeout(function(){this[a23_0x5b45('0x9')]()[a23_0x5b45('0x13')](this);},0x1388);}[a23_0x5b45('0x15')](_0xff142f){console[a23_0x5b45('0x1e')](a23_0x5b45('0x1f')+_0xff142f);setTimeout(function(){this['openCOM']();}['bind'](this),0x1388);}[a23_0x5b45('0x19')](_0x39b63c){try{gpsService_1['GPSService']['getInstance']()['gps'][a23_0x5b45('0x20')](_0x39b63c);}catch(_0x4abaea){console['error']('parserOnData',_0x4abaea);}}[a23_0x5b45('0x16')](_0x4be72c){}[a23_0x5b45('0x17')](){this[a23_0x5b45('0xa')][a23_0x5b45('0x21')]();}}exports[a23_0x5b45('0x22')]=SerialPortService;
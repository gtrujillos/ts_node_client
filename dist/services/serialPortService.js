var a20_0x31d3=['serialPortOnReadable','log','init\x20SerialPort','serialPortOnOpen','Port\x20opened:\x20','serialPortOnClose','port\x20closed.','serialPortOnError','error','parserOnData','read','SerialPortService','__esModule','../infrastructure/stationSettings','gpsService','openCOM','serialport','serialPort','StationContext','settings','portCOM','none','parsers','pipe','close','bind','data','serialPortOnData'];(function(_0x40641d,_0x6cca22){var _0x48f53d=function(_0x26d485){while(--_0x26d485){_0x40641d['push'](_0x40641d['shift']());}};_0x48f53d(++_0x6cca22);}(a20_0x31d3,0x124));var a20_0x532e=function(_0x38a82e,_0x2c9b2b){_0x38a82e=_0x38a82e-0x0;var _0x42bd83=a20_0x31d3[_0x38a82e];return _0x42bd83;};'use strict';Object['defineProperty'](exports,a20_0x532e('0x0'),{'value':!![]});const stationSettings_1=require(a20_0x532e('0x1'));class SerialPortService{constructor(_0x59d41a){this[a20_0x532e('0x2')]=_0x59d41a;}['init'](){this[a20_0x532e('0x3')]();}['openCOM'](){const _0x221b36=require(a20_0x532e('0x4'));this[a20_0x532e('0x5')]=new _0x221b36(stationSettings_1[a20_0x532e('0x6')][a20_0x532e('0x7')][a20_0x532e('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x532e('0x9')});const _0x57257a=_0x221b36[a20_0x532e('0xa')]['Readline'];const _0x5a1993=new _0x57257a('\x0d\x0a');this[a20_0x532e('0x5')][a20_0x532e('0xb')](_0x5a1993);this[a20_0x532e('0x5')]['on']('open',this['serialPortOnOpen']['bind'](this));this[a20_0x532e('0x5')]['on'](a20_0x532e('0xc'),this['serialPortOnClose']['bind'](this));this[a20_0x532e('0x5')]['on']('error',this['serialPortOnError'][a20_0x532e('0xd')](this));this[a20_0x532e('0x5')]['on'](a20_0x532e('0xe'),this[a20_0x532e('0xf')][a20_0x532e('0xd')](this));this[a20_0x532e('0x5')]['on']('readable',this[a20_0x532e('0x10')][a20_0x532e('0xd')](this));_0x5a1993['on'](a20_0x532e('0xe'),this['parserOnData'][a20_0x532e('0xd')](this));console[a20_0x532e('0x11')](a20_0x532e('0x12'));}[a20_0x532e('0x13')](){console['log'](a20_0x532e('0x14')+stationSettings_1[a20_0x532e('0x6')]['settings'][a20_0x532e('0x8')]);}[a20_0x532e('0x15')](){console['log'](a20_0x532e('0x16'));setTimeout(function(){this[a20_0x532e('0x3')]()['bind'](this);},0x1388);}[a20_0x532e('0x17')](_0x3b53f8){console[a20_0x532e('0x18')]('Serial\x20port\x20error:\x20'+_0x3b53f8);setTimeout(function(){this['openCOM']();}[a20_0x532e('0xd')](this),0x1388);}[a20_0x532e('0x19')](_0x41cda1){this[a20_0x532e('0x2')]['gps']['update'](_0x41cda1);}[a20_0x532e('0xf')](_0x832eb4){}[a20_0x532e('0x10')](){this['serialPort'][a20_0x532e('0x1a')]();}}exports[a20_0x532e('0x1b')]=SerialPortService;
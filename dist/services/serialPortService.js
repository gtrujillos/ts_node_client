var a20_0x2f0e=['bind','serialPortOnClose','serialPortOnError','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','error','Serial\x20port\x20error:\x20','update','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','serialPort','settings','portCOM','none','Readline','pipe','open','serialPortOnOpen'];(function(_0x519d3e,_0x43bf87){var _0x2e7aca=function(_0x1e22be){while(--_0x1e22be){_0x519d3e['push'](_0x519d3e['shift']());}};_0x2e7aca(++_0x43bf87);}(a20_0x2f0e,0xa9));var a20_0x2b5b=function(_0x563354,_0x1b7cf7){_0x563354=_0x563354-0x0;var _0x11fdca=a20_0x2f0e[_0x563354];return _0x11fdca;};'use strict';Object[a20_0x2b5b('0x0')](exports,a20_0x2b5b('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x2b5b('0x2'));class SerialPortService{constructor(_0x4747fa){this[a20_0x2b5b('0x3')]=_0x4747fa;}[a20_0x2b5b('0x4')](){console[a20_0x2b5b('0x5')](a20_0x2b5b('0x6'));this['openCOM']();}[a20_0x2b5b('0x7')](){const _0x78db9c=require(a20_0x2b5b('0x8'));this[a20_0x2b5b('0x9')]=new _0x78db9c(stationSettings_1['StationContext'][a20_0x2b5b('0xa')][a20_0x2b5b('0xb')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x2b5b('0xc')});const _0x351bdb=_0x78db9c['parsers'][a20_0x2b5b('0xd')];const _0x2b7314=new _0x351bdb('\x0d\x0a');this['serialPort'][a20_0x2b5b('0xe')](_0x2b7314);this[a20_0x2b5b('0x9')]['on'](a20_0x2b5b('0xf'),this[a20_0x2b5b('0x10')][a20_0x2b5b('0x11')](this));this[a20_0x2b5b('0x9')]['on']('close',this[a20_0x2b5b('0x12')]['bind'](this));this[a20_0x2b5b('0x9')]['on']('error',this[a20_0x2b5b('0x13')][a20_0x2b5b('0x11')](this));this[a20_0x2b5b('0x9')]['on'](a20_0x2b5b('0x14'),this[a20_0x2b5b('0x15')][a20_0x2b5b('0x11')](this));this[a20_0x2b5b('0x9')]['on'](a20_0x2b5b('0x16'),this[a20_0x2b5b('0x17')][a20_0x2b5b('0x11')](this));_0x2b7314['on']('data',this[a20_0x2b5b('0x18')][a20_0x2b5b('0x11')](this));console['log'](a20_0x2b5b('0x19'));}[a20_0x2b5b('0x10')](){console[a20_0x2b5b('0x5')](a20_0x2b5b('0x1a')+stationSettings_1['StationContext']['settings'][a20_0x2b5b('0xb')]);}[a20_0x2b5b('0x12')](){console['log']('port\x20closed.');setTimeout(function(){this[a20_0x2b5b('0x7')]()[a20_0x2b5b('0x11')](this);},0x1388);}[a20_0x2b5b('0x13')](_0x5ea796){console[a20_0x2b5b('0x1b')](a20_0x2b5b('0x1c')+_0x5ea796);setTimeout(function(){this['openCOM']();}[a20_0x2b5b('0x11')](this),0x1388);}[a20_0x2b5b('0x18')](_0x1cd34b){this[a20_0x2b5b('0x3')]['gps'][a20_0x2b5b('0x1d')](_0x1cd34b);}[a20_0x2b5b('0x15')](_0x4ca8e8){}[a20_0x2b5b('0x17')](){this['serialPort']['read']();}}exports[a20_0x2b5b('0x1e')]=SerialPortService;
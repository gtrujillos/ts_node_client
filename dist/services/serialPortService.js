var a20_0x3354=['serialPortOnOpen','bind','close','serialPortOnClose','error','serialPortOnData','serialPortOnReadable','parserOnData','init\x20SerialPort','log','Port\x20opened:\x20','StationContext','portCOM','port\x20closed.','serialPortOnError','Serial\x20port\x20error:\x20','gps','update','read','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','openCOM','serialport','serialPort','settings','none','parsers','pipe','open'];(function(_0x4d25ea,_0x48b501){var _0x3534b7=function(_0x50e3f5){while(--_0x50e3f5){_0x4d25ea['push'](_0x4d25ea['shift']());}};_0x3534b7(++_0x48b501);}(a20_0x3354,0x1c1));var a20_0x10e8=function(_0x15555c,_0x1c50b4){_0x15555c=_0x15555c-0x0;var _0x59dd47=a20_0x3354[_0x15555c];return _0x59dd47;};'use strict';Object[a20_0x10e8('0x0')](exports,a20_0x10e8('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x10e8('0x2'));class SerialPortService{constructor(_0x5f0a26){this[a20_0x10e8('0x3')]=_0x5f0a26;}[a20_0x10e8('0x4')](){this['openCOM']();}[a20_0x10e8('0x5')](){const _0x2f19f1=require(a20_0x10e8('0x6'));this[a20_0x10e8('0x7')]=new _0x2f19f1(stationSettings_1['StationContext'][a20_0x10e8('0x8')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x10e8('0x9')});const _0x9cee73=_0x2f19f1[a20_0x10e8('0xa')]['Readline'];const _0x13a46a=new _0x9cee73('\x0d\x0a');this[a20_0x10e8('0x7')][a20_0x10e8('0xb')](_0x13a46a);this[a20_0x10e8('0x7')]['on'](a20_0x10e8('0xc'),this[a20_0x10e8('0xd')][a20_0x10e8('0xe')](this));this[a20_0x10e8('0x7')]['on'](a20_0x10e8('0xf'),this[a20_0x10e8('0x10')][a20_0x10e8('0xe')](this));this['serialPort']['on'](a20_0x10e8('0x11'),this['serialPortOnError'][a20_0x10e8('0xe')](this));this[a20_0x10e8('0x7')]['on']('data',this[a20_0x10e8('0x12')][a20_0x10e8('0xe')](this));this[a20_0x10e8('0x7')]['on']('readable',this[a20_0x10e8('0x13')]['bind'](this));_0x13a46a['on']('data',this[a20_0x10e8('0x14')][a20_0x10e8('0xe')](this));console['log'](a20_0x10e8('0x15'));}[a20_0x10e8('0xd')](){console[a20_0x10e8('0x16')](a20_0x10e8('0x17')+stationSettings_1[a20_0x10e8('0x18')][a20_0x10e8('0x8')][a20_0x10e8('0x19')]);}[a20_0x10e8('0x10')](){console[a20_0x10e8('0x16')](a20_0x10e8('0x1a'));setTimeout(function(){this[a20_0x10e8('0x5')]()[a20_0x10e8('0xe')](this);},0x1388);}[a20_0x10e8('0x1b')](_0x181f20){console[a20_0x10e8('0x11')](a20_0x10e8('0x1c')+_0x181f20);setTimeout(function(){this['openCOM']();}[a20_0x10e8('0xe')](this),0x1388);}[a20_0x10e8('0x14')](_0x5855a4){this[a20_0x10e8('0x3')][a20_0x10e8('0x1d')][a20_0x10e8('0x1e')](_0x5855a4);}[a20_0x10e8('0x12')](_0x4edb38){}[a20_0x10e8('0x13')](){this[a20_0x10e8('0x7')][a20_0x10e8('0x1f')]();}}exports[a20_0x10e8('0x20')]=SerialPortService;
var a20_0x4396=['parserOnData','log','Port\x20opened:\x20','StationContext','portCOM','error','Serial\x20port\x20error:\x20','gps','update','../infrastructure/stationSettings','gpsService','init','serialport','serialPort','none','parsers','Readline','open','serialPortOnOpen','bind','serialPortOnClose','serialPortOnError','data','serialPortOnData','serialPortOnReadable'];(function(_0x43ec6e,_0x4c6c09){var _0x3335af=function(_0x3c57cb){while(--_0x3c57cb){_0x43ec6e['push'](_0x43ec6e['shift']());}};_0x3335af(++_0x4c6c09);}(a20_0x4396,0x1e4));var a20_0x2a58=function(_0x387c80,_0x222ea5){_0x387c80=_0x387c80-0x0;var _0x4a520e=a20_0x4396[_0x387c80];return _0x4a520e;};'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]});const stationSettings_1=require(a20_0x2a58('0x0'));class SerialPortService{constructor(_0x3a2923){this[a20_0x2a58('0x1')]=_0x3a2923;}[a20_0x2a58('0x2')](){this['openCOM']();}['openCOM'](){const _0x7d346f=require(a20_0x2a58('0x3'));this[a20_0x2a58('0x4')]=new _0x7d346f(stationSettings_1['StationContext']['settings']['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x2a58('0x5')});const _0xa29c52=_0x7d346f[a20_0x2a58('0x6')][a20_0x2a58('0x7')];const _0x39ec80=new _0xa29c52('\x0d\x0a');this[a20_0x2a58('0x4')]['pipe'](_0x39ec80);this[a20_0x2a58('0x4')]['on'](a20_0x2a58('0x8'),this[a20_0x2a58('0x9')][a20_0x2a58('0xa')](this));this[a20_0x2a58('0x4')]['on']('close',this[a20_0x2a58('0xb')][a20_0x2a58('0xa')](this));this['serialPort']['on']('error',this[a20_0x2a58('0xc')][a20_0x2a58('0xa')](this));this[a20_0x2a58('0x4')]['on'](a20_0x2a58('0xd'),this[a20_0x2a58('0xe')]['bind'](this));this[a20_0x2a58('0x4')]['on']('readable',this[a20_0x2a58('0xf')]['bind'](this));_0x39ec80['on'](a20_0x2a58('0xd'),this[a20_0x2a58('0x10')][a20_0x2a58('0xa')](this));console[a20_0x2a58('0x11')]('init\x20SerialPort');}[a20_0x2a58('0x9')](){console[a20_0x2a58('0x11')](a20_0x2a58('0x12')+stationSettings_1[a20_0x2a58('0x13')]['settings'][a20_0x2a58('0x14')]);}[a20_0x2a58('0xb')](){console[a20_0x2a58('0x11')]('port\x20closed.');setTimeout(function(){this['openCOM']()[a20_0x2a58('0xa')](this);},0x1388);}['serialPortOnError'](_0x4fa7a4){console[a20_0x2a58('0x15')](a20_0x2a58('0x16')+_0x4fa7a4);setTimeout(function(){this['openCOM']();}[a20_0x2a58('0xa')](this),0x1388);}['parserOnData'](_0x26857c){this[a20_0x2a58('0x1')][a20_0x2a58('0x17')][a20_0x2a58('0x18')](_0x26857c);}[a20_0x2a58('0xe')](_0x1c7d81){}['serialPortOnReadable'](){this[a20_0x2a58('0x4')]['read']();}}exports['SerialPortService']=SerialPortService;
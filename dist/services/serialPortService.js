var a20_0x8969=['log','init\x20SerialPort','Port\x20opened:\x20','serialPortOnClose','port\x20closed.','serialPortOnError','Serial\x20port\x20error:\x20','gpsService','gps','update','read','defineProperty','__esModule','../infrastructure/stationSettings','init','openCOM','serialport','serialPort','StationContext','portCOM','none','parsers','pipe','open','serialPortOnOpen','bind','close','error','data','serialPortOnData','readable','serialPortOnReadable','parserOnData'];(function(_0x1fd9e8,_0x251904){var _0x4e1c81=function(_0x41ecd3){while(--_0x41ecd3){_0x1fd9e8['push'](_0x1fd9e8['shift']());}};_0x4e1c81(++_0x251904);}(a20_0x8969,0xd1));var a20_0x2897=function(_0x2d8f05,_0x4b81bb){_0x2d8f05=_0x2d8f05-0x0;var _0x4d74cb=a20_0x8969[_0x2d8f05];return _0x4d74cb;};'use strict';Object[a20_0x2897('0x0')](exports,a20_0x2897('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x2897('0x2'));class SerialPortService{constructor(_0x59aad0){this['gpsService']=_0x59aad0;}[a20_0x2897('0x3')](){this[a20_0x2897('0x4')]();}[a20_0x2897('0x4')](){const _0x80fd0b=require(a20_0x2897('0x5'));this[a20_0x2897('0x6')]=new _0x80fd0b(stationSettings_1[a20_0x2897('0x7')]['settings'][a20_0x2897('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x2897('0x9')});const _0x3efcfa=_0x80fd0b[a20_0x2897('0xa')]['Readline'];const _0xb034c5=new _0x3efcfa('\x0d\x0a');this[a20_0x2897('0x6')][a20_0x2897('0xb')](_0xb034c5);this['serialPort']['on'](a20_0x2897('0xc'),this[a20_0x2897('0xd')][a20_0x2897('0xe')](this));this[a20_0x2897('0x6')]['on'](a20_0x2897('0xf'),this['serialPortOnClose'][a20_0x2897('0xe')](this));this[a20_0x2897('0x6')]['on'](a20_0x2897('0x10'),this['serialPortOnError'][a20_0x2897('0xe')](this));this[a20_0x2897('0x6')]['on'](a20_0x2897('0x11'),this[a20_0x2897('0x12')][a20_0x2897('0xe')](this));this['serialPort']['on'](a20_0x2897('0x13'),this[a20_0x2897('0x14')][a20_0x2897('0xe')](this));_0xb034c5['on']('data',this[a20_0x2897('0x15')][a20_0x2897('0xe')](this));console[a20_0x2897('0x16')](a20_0x2897('0x17'));}[a20_0x2897('0xd')](){console[a20_0x2897('0x16')](a20_0x2897('0x18')+stationSettings_1[a20_0x2897('0x7')]['settings'][a20_0x2897('0x8')]);}[a20_0x2897('0x19')](){console[a20_0x2897('0x16')](a20_0x2897('0x1a'));setTimeout(function(){this['openCOM']()[a20_0x2897('0xe')](this);},0x1388);}[a20_0x2897('0x1b')](_0x242970){console[a20_0x2897('0x10')](a20_0x2897('0x1c')+_0x242970);setTimeout(function(){this[a20_0x2897('0x4')]();}['bind'](this),0x1388);}['parserOnData'](_0x1d9efd){this[a20_0x2897('0x1d')][a20_0x2897('0x1e')][a20_0x2897('0x1f')](_0x1d9efd);}[a20_0x2897('0x12')](_0x3425e8){}['serialPortOnReadable'](){this[a20_0x2897('0x6')][a20_0x2897('0x20')]();}}exports['SerialPortService']=SerialPortService;
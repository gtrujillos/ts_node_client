var a20_0x4373=['Port\x20opened:\x20','portCOM','serialPortOnClose','log','port\x20closed.','Serial\x20port\x20error:\x20','update','serialPortOnData','serialPortOnReadable','SerialPortService','__esModule','../infrastructure/stationSettings','gpsService','openCOM','serialport','serialPort','StationContext','settings','parsers','pipe','open','bind','close','error','serialPortOnError','data','parserOnData','serialPortOnOpen'];(function(_0x2e012e,_0x5b9423){var _0x60b8a0=function(_0x389b74){while(--_0x389b74){_0x2e012e['push'](_0x2e012e['shift']());}};_0x60b8a0(++_0x5b9423);}(a20_0x4373,0x1ae));var a20_0x4ba0=function(_0x298ac3,_0x5b223a){_0x298ac3=_0x298ac3-0x0;var _0x296374=a20_0x4373[_0x298ac3];return _0x296374;};'use strict';Object['defineProperty'](exports,a20_0x4ba0('0x0'),{'value':!![]});const stationSettings_1=require(a20_0x4ba0('0x1'));class SerialPortService{constructor(_0x51ae64){this[a20_0x4ba0('0x2')]=_0x51ae64;}['init'](){this[a20_0x4ba0('0x3')]();}[a20_0x4ba0('0x3')](){const _0x1070ae=require(a20_0x4ba0('0x4'));this[a20_0x4ba0('0x5')]=new _0x1070ae(stationSettings_1[a20_0x4ba0('0x6')][a20_0x4ba0('0x7')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':'none'});const _0x32f16f=_0x1070ae[a20_0x4ba0('0x8')]['Readline'];const _0x21e0ab=new _0x32f16f('\x0d\x0a');this['serialPort'][a20_0x4ba0('0x9')](_0x21e0ab);this[a20_0x4ba0('0x5')]['on'](a20_0x4ba0('0xa'),this['serialPortOnOpen'][a20_0x4ba0('0xb')](this));this[a20_0x4ba0('0x5')]['on'](a20_0x4ba0('0xc'),this['serialPortOnClose'][a20_0x4ba0('0xb')](this));this[a20_0x4ba0('0x5')]['on'](a20_0x4ba0('0xd'),this[a20_0x4ba0('0xe')][a20_0x4ba0('0xb')](this));this['serialPort']['on']('data',this['serialPortOnData'][a20_0x4ba0('0xb')](this));this['serialPort']['on']('readable',this['serialPortOnReadable'][a20_0x4ba0('0xb')](this));_0x21e0ab['on'](a20_0x4ba0('0xf'),this[a20_0x4ba0('0x10')][a20_0x4ba0('0xb')](this));console['log']('init\x20SerialPort');}[a20_0x4ba0('0x11')](){console['log'](a20_0x4ba0('0x12')+stationSettings_1[a20_0x4ba0('0x6')][a20_0x4ba0('0x7')][a20_0x4ba0('0x13')]);}[a20_0x4ba0('0x14')](){console[a20_0x4ba0('0x15')](a20_0x4ba0('0x16'));setTimeout(function(){this[a20_0x4ba0('0x3')]()[a20_0x4ba0('0xb')](this);},0x1388);}[a20_0x4ba0('0xe')](_0x1127dd){console[a20_0x4ba0('0xd')](a20_0x4ba0('0x17')+_0x1127dd);setTimeout(function(){this[a20_0x4ba0('0x3')]();}[a20_0x4ba0('0xb')](this),0x1388);}[a20_0x4ba0('0x10')](_0x187e51){this[a20_0x4ba0('0x2')]['gps'][a20_0x4ba0('0x18')](_0x187e51);}[a20_0x4ba0('0x19')](_0x339c3d){}[a20_0x4ba0('0x1a')](){this[a20_0x4ba0('0x5')]['read']();}}exports[a20_0x4ba0('0x1b')]=SerialPortService;
var a20_0x4379=['Port\x20opened:\x20','portCOM','port\x20closed.','Serial\x20port\x20error:\x20','gps','read','SerialPortService','__esModule','gpsService','init','openCOM','serialport','serialPort','StationContext','settings','none','parsers','Readline','pipe','open','serialPortOnOpen','close','serialPortOnClose','bind','error','serialPortOnError','readable','serialPortOnReadable','data','parserOnData','log','init\x20SerialPort'];(function(_0x27201d,_0x5b0344){var _0x3b14fa=function(_0x5d7af2){while(--_0x5d7af2){_0x27201d['push'](_0x27201d['shift']());}};_0x3b14fa(++_0x5b0344);}(a20_0x4379,0x87));var a20_0xd07b=function(_0xe18ff6,_0x2e71fc){_0xe18ff6=_0xe18ff6-0x0;var _0x1d0ec6=a20_0x4379[_0xe18ff6];return _0x1d0ec6;};'use strict';Object['defineProperty'](exports,a20_0xd07b('0x0'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class SerialPortService{constructor(_0xddd4c4){this[a20_0xd07b('0x1')]=_0xddd4c4;}[a20_0xd07b('0x2')](){this[a20_0xd07b('0x3')]();}[a20_0xd07b('0x3')](){const _0x1c9702=require(a20_0xd07b('0x4'));this[a20_0xd07b('0x5')]=new _0x1c9702(stationSettings_1[a20_0xd07b('0x6')][a20_0xd07b('0x7')]['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0xd07b('0x8')});const _0x39da25=_0x1c9702[a20_0xd07b('0x9')][a20_0xd07b('0xa')];const _0x2f7cc0=new _0x39da25('\x0d\x0a');this['serialPort'][a20_0xd07b('0xb')](_0x2f7cc0);this[a20_0xd07b('0x5')]['on'](a20_0xd07b('0xc'),this[a20_0xd07b('0xd')]['bind'](this));this[a20_0xd07b('0x5')]['on'](a20_0xd07b('0xe'),this[a20_0xd07b('0xf')][a20_0xd07b('0x10')](this));this[a20_0xd07b('0x5')]['on'](a20_0xd07b('0x11'),this[a20_0xd07b('0x12')][a20_0xd07b('0x10')](this));this[a20_0xd07b('0x5')]['on']('data',this['serialPortOnData']['bind'](this));this['serialPort']['on'](a20_0xd07b('0x13'),this[a20_0xd07b('0x14')]['bind'](this));_0x2f7cc0['on'](a20_0xd07b('0x15'),this[a20_0xd07b('0x16')][a20_0xd07b('0x10')](this));console[a20_0xd07b('0x17')](a20_0xd07b('0x18'));}[a20_0xd07b('0xd')](){console[a20_0xd07b('0x17')](a20_0xd07b('0x19')+stationSettings_1[a20_0xd07b('0x6')]['settings'][a20_0xd07b('0x1a')]);}[a20_0xd07b('0xf')](){console[a20_0xd07b('0x17')](a20_0xd07b('0x1b'));setTimeout(function(){this[a20_0xd07b('0x3')]()['bind'](this);},0x1388);}[a20_0xd07b('0x12')](_0x1ed43a){console['error'](a20_0xd07b('0x1c')+_0x1ed43a);setTimeout(function(){this[a20_0xd07b('0x3')]();}['bind'](this),0x1388);}[a20_0xd07b('0x16')](_0x464b1d){this['gpsService'][a20_0xd07b('0x1d')]['update'](_0x464b1d);}['serialPortOnData'](_0x3ef8b6){}[a20_0xd07b('0x14')](){this[a20_0xd07b('0x5')][a20_0xd07b('0x1e')]();}}exports[a20_0xd07b('0x1f')]=SerialPortService;
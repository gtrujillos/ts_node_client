var a20_0x5789=['port\x20closed.','Serial\x20port\x20error:\x20','gps','update','read','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','openCOM','serialport','StationContext','portCOM','none','parsers','Readline','serialPort','pipe','open','serialPortOnOpen','bind','close','serialPortOnClose','error','serialPortOnError','data','serialPortOnData','serialPortOnReadable','parserOnData','log','init\x20SerialPort','Port\x20opened:\x20','settings'];(function(_0x52904b,_0x3ba023){var _0x41fc7c=function(_0x392d18){while(--_0x392d18){_0x52904b['push'](_0x52904b['shift']());}};_0x41fc7c(++_0x3ba023);}(a20_0x5789,0x6f));var a20_0x23c2=function(_0x45e793,_0x41528d){_0x45e793=_0x45e793-0x0;var _0x33f334=a20_0x5789[_0x45e793];return _0x33f334;};'use strict';Object[a20_0x23c2('0x0')](exports,a20_0x23c2('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x23c2('0x2'));class SerialPortService{constructor(_0x238ec1){this[a20_0x23c2('0x3')]=_0x238ec1;}[a20_0x23c2('0x4')](){this[a20_0x23c2('0x5')]();}[a20_0x23c2('0x5')](){const _0x2155e3=require(a20_0x23c2('0x6'));this['serialPort']=new _0x2155e3(stationSettings_1[a20_0x23c2('0x7')]['settings'][a20_0x23c2('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x23c2('0x9')});const _0x3cbe3b=_0x2155e3[a20_0x23c2('0xa')][a20_0x23c2('0xb')];const _0x14c860=new _0x3cbe3b('\x0d\x0a');this[a20_0x23c2('0xc')][a20_0x23c2('0xd')](_0x14c860);this['serialPort']['on'](a20_0x23c2('0xe'),this[a20_0x23c2('0xf')][a20_0x23c2('0x10')](this));this[a20_0x23c2('0xc')]['on'](a20_0x23c2('0x11'),this[a20_0x23c2('0x12')]['bind'](this));this[a20_0x23c2('0xc')]['on'](a20_0x23c2('0x13'),this[a20_0x23c2('0x14')][a20_0x23c2('0x10')](this));this['serialPort']['on'](a20_0x23c2('0x15'),this[a20_0x23c2('0x16')][a20_0x23c2('0x10')](this));this[a20_0x23c2('0xc')]['on']('readable',this[a20_0x23c2('0x17')]['bind'](this));_0x14c860['on'](a20_0x23c2('0x15'),this[a20_0x23c2('0x18')][a20_0x23c2('0x10')](this));console[a20_0x23c2('0x19')](a20_0x23c2('0x1a'));}[a20_0x23c2('0xf')](){console[a20_0x23c2('0x19')](a20_0x23c2('0x1b')+stationSettings_1[a20_0x23c2('0x7')][a20_0x23c2('0x1c')][a20_0x23c2('0x8')]);}['serialPortOnClose'](){console['log'](a20_0x23c2('0x1d'));setTimeout(function(){this[a20_0x23c2('0x5')]()['bind'](this);},0x1388);}['serialPortOnError'](_0x1ccc6b){console[a20_0x23c2('0x13')](a20_0x23c2('0x1e')+_0x1ccc6b);setTimeout(function(){this[a20_0x23c2('0x5')]();}['bind'](this),0x1388);}['parserOnData'](_0x21c2d1){this[a20_0x23c2('0x3')][a20_0x23c2('0x1f')][a20_0x23c2('0x20')](_0x21c2d1);}[a20_0x23c2('0x16')](_0x10ab75){}[a20_0x23c2('0x17')](){this[a20_0x23c2('0xc')][a20_0x23c2('0x21')]();}}exports[a20_0x23c2('0x22')]=SerialPortService;
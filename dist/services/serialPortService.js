var a24_0xa1b8=['StationContext','settings','portCOM','none','parsers','Readline','serialPort','pipe','serialPortOnOpen','bind','close','serialPortOnClose','error','data','serialPortOnReadable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','port\x20closed.','Serial\x20port\x20error:\x20','gps','update','read','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','init','log','init\x20SerialPortService','openCOM','serialport'];(function(_0x322edb,_0x3928a8){var _0x41fa0d=function(_0x189cf3){while(--_0x189cf3){_0x322edb['push'](_0x322edb['shift']());}};_0x41fa0d(++_0x3928a8);}(a24_0xa1b8,0x138));var a24_0x29e5=function(_0x1b97c9,_0x4574f3){_0x1b97c9=_0x1b97c9-0x0;var _0x36bb68=a24_0xa1b8[_0x1b97c9];return _0x36bb68;};'use strict';Object[a24_0x29e5('0x0')](exports,a24_0x29e5('0x1'),{'value':!![]});const stationSettings_1=require(a24_0x29e5('0x2'));class SerialPortService{constructor(_0x3fc36c){this['gpsService']=_0x3fc36c;}[a24_0x29e5('0x3')](){console[a24_0x29e5('0x4')](a24_0x29e5('0x5'));this['openCOM']();}[a24_0x29e5('0x6')](){const _0x3a4bca=require(a24_0x29e5('0x7'));this['serialPort']=new _0x3a4bca(stationSettings_1[a24_0x29e5('0x8')][a24_0x29e5('0x9')][a24_0x29e5('0xa')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a24_0x29e5('0xb')});const _0x39b786=_0x3a4bca[a24_0x29e5('0xc')][a24_0x29e5('0xd')];const _0x4245ca=new _0x39b786('\x0d\x0a');this[a24_0x29e5('0xe')][a24_0x29e5('0xf')](_0x4245ca);this['serialPort']['on']('open',this[a24_0x29e5('0x10')][a24_0x29e5('0x11')](this));this['serialPort']['on'](a24_0x29e5('0x12'),this[a24_0x29e5('0x13')][a24_0x29e5('0x11')](this));this[a24_0x29e5('0xe')]['on'](a24_0x29e5('0x14'),this['serialPortOnError'][a24_0x29e5('0x11')](this));this[a24_0x29e5('0xe')]['on'](a24_0x29e5('0x15'),this['serialPortOnData'][a24_0x29e5('0x11')](this));this['serialPort']['on']('readable',this[a24_0x29e5('0x16')]['bind'](this));_0x4245ca['on'](a24_0x29e5('0x15'),this[a24_0x29e5('0x17')][a24_0x29e5('0x11')](this));console[a24_0x29e5('0x4')](a24_0x29e5('0x18'));}[a24_0x29e5('0x10')](){console[a24_0x29e5('0x4')](a24_0x29e5('0x19')+stationSettings_1[a24_0x29e5('0x8')]['settings']['portCOM']);}[a24_0x29e5('0x13')](){console[a24_0x29e5('0x4')](a24_0x29e5('0x1a'));setTimeout(function(){this['openCOM']()[a24_0x29e5('0x11')](this);},0x1388);}['serialPortOnError'](_0x35fe9f){console[a24_0x29e5('0x14')](a24_0x29e5('0x1b')+_0x35fe9f);setTimeout(function(){this['openCOM']();}[a24_0x29e5('0x11')](this),0x1388);}[a24_0x29e5('0x17')](_0x4a7b49){this['gpsService'][a24_0x29e5('0x1c')][a24_0x29e5('0x1d')](_0x4a7b49);}['serialPortOnData'](_0x548359){}[a24_0x29e5('0x16')](){this['serialPort'][a24_0x29e5('0x1e')]();}}exports[a24_0x29e5('0x1f')]=SerialPortService;
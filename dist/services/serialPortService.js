var a19_0x2f1f=['update','read','SerialPortService','__esModule','../infrastructure/stationSettings','gpsService','openCOM','serialport','StationContext','portCOM','parsers','Readline','pipe','serialPort','serialPortOnOpen','bind','close','error','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','log','Port\x20opened:\x20','settings','serialPortOnClose','port\x20closed.','serialPortOnError','Serial\x20port\x20error:\x20'];(function(_0x165ecf,_0x1d4845){var _0x1b440d=function(_0x16cf7c){while(--_0x16cf7c){_0x165ecf['push'](_0x165ecf['shift']());}};_0x1b440d(++_0x1d4845);}(a19_0x2f1f,0xb7));var a19_0x9652=function(_0x2d8f05,_0x4b81bb){_0x2d8f05=_0x2d8f05-0x0;var _0x4d74cb=a19_0x2f1f[_0x2d8f05];return _0x4d74cb;};'use strict';Object['defineProperty'](exports,a19_0x9652('0x0'),{'value':!![]});const stationSettings_1=require(a19_0x9652('0x1'));class SerialPortService{constructor(_0x4275b4){this[a19_0x9652('0x2')]=_0x4275b4;}['init'](){this[a19_0x9652('0x3')]();}[a19_0x9652('0x3')](){const _0x56749d=require(a19_0x9652('0x4'));this['serialPort']=new _0x56749d(stationSettings_1[a19_0x9652('0x5')]['settings'][a19_0x9652('0x6')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':'none'});const _0x389ef0=_0x56749d[a19_0x9652('0x7')][a19_0x9652('0x8')];const _0xa5cbd6=new _0x389ef0('\x0d\x0a');this['serialPort'][a19_0x9652('0x9')](_0xa5cbd6);this[a19_0x9652('0xa')]['on']('open',this[a19_0x9652('0xb')][a19_0x9652('0xc')](this));this[a19_0x9652('0xa')]['on'](a19_0x9652('0xd'),this['serialPortOnClose'][a19_0x9652('0xc')](this));this[a19_0x9652('0xa')]['on'](a19_0x9652('0xe'),this['serialPortOnError']['bind'](this));this['serialPort']['on'](a19_0x9652('0xf'),this[a19_0x9652('0x10')][a19_0x9652('0xc')](this));this['serialPort']['on'](a19_0x9652('0x11'),this[a19_0x9652('0x12')][a19_0x9652('0xc')](this));_0xa5cbd6['on'](a19_0x9652('0xf'),this[a19_0x9652('0x13')][a19_0x9652('0xc')](this));console['log']('init\x20SerialPort');}['serialPortOnOpen'](){console[a19_0x9652('0x14')](a19_0x9652('0x15')+stationSettings_1[a19_0x9652('0x5')][a19_0x9652('0x16')][a19_0x9652('0x6')]);}[a19_0x9652('0x17')](){console[a19_0x9652('0x14')](a19_0x9652('0x18'));setTimeout(function(){this[a19_0x9652('0x3')]()[a19_0x9652('0xc')](this);},0x1388);}[a19_0x9652('0x19')](_0x4528fb){console[a19_0x9652('0xe')](a19_0x9652('0x1a')+_0x4528fb);setTimeout(function(){this[a19_0x9652('0x3')]();}['bind'](this),0x1388);}[a19_0x9652('0x13')](_0x3d22cc){this[a19_0x9652('0x2')]['gps'][a19_0x9652('0x1b')](_0x3d22cc);}[a19_0x9652('0x10')](_0x31acc7){}[a19_0x9652('0x12')](){this[a19_0x9652('0xa')][a19_0x9652('0x1c')]();}}exports[a19_0x9652('0x1d')]=SerialPortService;
var a23_0x3589=['serialPortOnError','Serial\x20port\x20error:\x20','gps','update','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','settings','portCOM','none','parsers','Readline','serialPort','pipe','open','serialPortOnOpen','bind','serialPortOnClose','error','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','init\x20SerialPort','StationContext'];(function(_0x456ee0,_0x31e8de){var _0x357eba=function(_0xf907e1){while(--_0xf907e1){_0x456ee0['push'](_0x456ee0['shift']());}};_0x357eba(++_0x31e8de);}(a23_0x3589,0xec));var a23_0x50c1=function(_0x114670,_0x195806){_0x114670=_0x114670-0x0;var _0x312c4a=a23_0x3589[_0x114670];return _0x312c4a;};'use strict';Object[a23_0x50c1('0x0')](exports,a23_0x50c1('0x1'),{'value':!![]});const stationSettings_1=require(a23_0x50c1('0x2'));class SerialPortService{constructor(_0x182701){this[a23_0x50c1('0x3')]=_0x182701;}[a23_0x50c1('0x4')](){console[a23_0x50c1('0x5')](a23_0x50c1('0x6'));this[a23_0x50c1('0x7')]();}['openCOM'](){const _0x77fb02=require(a23_0x50c1('0x8'));this['serialPort']=new _0x77fb02(stationSettings_1['StationContext'][a23_0x50c1('0x9')][a23_0x50c1('0xa')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a23_0x50c1('0xb')});const _0x1703d5=_0x77fb02[a23_0x50c1('0xc')][a23_0x50c1('0xd')];const _0x11d2c4=new _0x1703d5('\x0d\x0a');this[a23_0x50c1('0xe')][a23_0x50c1('0xf')](_0x11d2c4);this[a23_0x50c1('0xe')]['on'](a23_0x50c1('0x10'),this[a23_0x50c1('0x11')][a23_0x50c1('0x12')](this));this[a23_0x50c1('0xe')]['on']('close',this[a23_0x50c1('0x13')][a23_0x50c1('0x12')](this));this[a23_0x50c1('0xe')]['on'](a23_0x50c1('0x14'),this['serialPortOnError']['bind'](this));this[a23_0x50c1('0xe')]['on'](a23_0x50c1('0x15'),this[a23_0x50c1('0x16')][a23_0x50c1('0x12')](this));this[a23_0x50c1('0xe')]['on'](a23_0x50c1('0x17'),this[a23_0x50c1('0x18')][a23_0x50c1('0x12')](this));_0x11d2c4['on'](a23_0x50c1('0x15'),this[a23_0x50c1('0x19')][a23_0x50c1('0x12')](this));console[a23_0x50c1('0x5')](a23_0x50c1('0x1a'));}[a23_0x50c1('0x11')](){console[a23_0x50c1('0x5')]('Port\x20opened:\x20'+stationSettings_1[a23_0x50c1('0x1b')][a23_0x50c1('0x9')]['portCOM']);}[a23_0x50c1('0x13')](){console[a23_0x50c1('0x5')]('port\x20closed.');setTimeout(function(){this[a23_0x50c1('0x7')]()['bind'](this);},0x1388);}[a23_0x50c1('0x1c')](_0x18d23c){console[a23_0x50c1('0x14')](a23_0x50c1('0x1d')+_0x18d23c);setTimeout(function(){this['openCOM']();}[a23_0x50c1('0x12')](this),0x1388);}['parserOnData'](_0x293a47){this['gpsService'][a23_0x50c1('0x1e')][a23_0x50c1('0x1f')](_0x293a47);}[a23_0x50c1('0x16')](_0x182269){}['serialPortOnReadable'](){this[a23_0x50c1('0xe')]['read']();}}exports[a23_0x50c1('0x20')]=SerialPortService;
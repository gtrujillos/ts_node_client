var a19_0x462e=['openCOM','serialport','StationContext','none','Readline','serialPort','open','serialPortOnOpen','bind','close','serialPortOnError','data','readable','serialPortOnReadable','log','Port\x20opened:\x20','settings','portCOM','serialPortOnClose','port\x20closed.','error','Serial\x20port\x20error:\x20','parserOnData','gps','update','serialPortOnData','read','SerialPortService','__esModule','../infrastructure/stationSettings','gpsService'];(function(_0x37228e,_0xbb5563){var _0x49b3b5=function(_0x25202e){while(--_0x25202e){_0x37228e['push'](_0x37228e['shift']());}};_0x49b3b5(++_0xbb5563);}(a19_0x462e,0x1ed));var a19_0x3a9c=function(_0x1a1c0d,_0x5dada7){_0x1a1c0d=_0x1a1c0d-0x0;var _0x2ba9b9=a19_0x462e[_0x1a1c0d];return _0x2ba9b9;};'use strict';Object['defineProperty'](exports,a19_0x3a9c('0x0'),{'value':!![]});const stationSettings_1=require(a19_0x3a9c('0x1'));class SerialPortService{constructor(_0x5ac87c){this[a19_0x3a9c('0x2')]=_0x5ac87c;}['init'](){this[a19_0x3a9c('0x3')]();}['openCOM'](){const _0x3f73f1=require(a19_0x3a9c('0x4'));this['serialPort']=new _0x3f73f1(stationSettings_1[a19_0x3a9c('0x5')]['settings']['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a19_0x3a9c('0x6')});const _0x27fbe0=_0x3f73f1['parsers'][a19_0x3a9c('0x7')];const _0x3fd16b=new _0x27fbe0('\x0d\x0a');this['serialPort']['pipe'](_0x3fd16b);this[a19_0x3a9c('0x8')]['on'](a19_0x3a9c('0x9'),this[a19_0x3a9c('0xa')][a19_0x3a9c('0xb')](this));this[a19_0x3a9c('0x8')]['on'](a19_0x3a9c('0xc'),this['serialPortOnClose']['bind'](this));this[a19_0x3a9c('0x8')]['on']('error',this[a19_0x3a9c('0xd')][a19_0x3a9c('0xb')](this));this[a19_0x3a9c('0x8')]['on'](a19_0x3a9c('0xe'),this['serialPortOnData'][a19_0x3a9c('0xb')](this));this['serialPort']['on'](a19_0x3a9c('0xf'),this[a19_0x3a9c('0x10')][a19_0x3a9c('0xb')](this));_0x3fd16b['on']('data',this['parserOnData'][a19_0x3a9c('0xb')](this));console[a19_0x3a9c('0x11')]('init\x20SerialPort');}['serialPortOnOpen'](){console['log'](a19_0x3a9c('0x12')+stationSettings_1[a19_0x3a9c('0x5')][a19_0x3a9c('0x13')][a19_0x3a9c('0x14')]);}[a19_0x3a9c('0x15')](){console[a19_0x3a9c('0x11')](a19_0x3a9c('0x16'));setTimeout(function(){this['openCOM']()[a19_0x3a9c('0xb')](this);},0x1388);}['serialPortOnError'](_0x1f59ca){console[a19_0x3a9c('0x17')](a19_0x3a9c('0x18')+_0x1f59ca);setTimeout(function(){this[a19_0x3a9c('0x3')]();}[a19_0x3a9c('0xb')](this),0x1388);}[a19_0x3a9c('0x19')](_0x2e6f68){this[a19_0x3a9c('0x2')][a19_0x3a9c('0x1a')][a19_0x3a9c('0x1b')](_0x2e6f68);}[a19_0x3a9c('0x1c')](_0x79c0fa){}[a19_0x3a9c('0x10')](){this['serialPort'][a19_0x3a9c('0x1d')]();}}exports[a19_0x3a9c('0x1e')]=SerialPortService;
var a20_0x372a=['openCOM','serialport','serialPort','portCOM','none','parsers','Readline','pipe','open','bind','close','serialPortOnClose','serialPortOnError','data','serialPortOnData','serialPortOnReadable','serialPortOnOpen','Port\x20opened:\x20','StationContext','port\x20closed.','error','Serial\x20port\x20error:\x20','parserOnData','gpsService','gps','update','read','SerialPortService','__esModule','../infrastructure/stationSettings','init','log','init\x20SerialPortService'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(a20_0x372a,0x145));var a20_0x363a=function(_0x25211c,_0x56b9c6){_0x25211c=_0x25211c-0x0;var _0xd8aedd=a20_0x372a[_0x25211c];return _0xd8aedd;};'use strict';Object['defineProperty'](exports,a20_0x363a('0x0'),{'value':!![]});const stationSettings_1=require(a20_0x363a('0x1'));class SerialPortService{constructor(_0x4b53f3){this['gpsService']=_0x4b53f3;}[a20_0x363a('0x2')](){console[a20_0x363a('0x3')](a20_0x363a('0x4'));this[a20_0x363a('0x5')]();}[a20_0x363a('0x5')](){const _0x444d20=require(a20_0x363a('0x6'));this[a20_0x363a('0x7')]=new _0x444d20(stationSettings_1['StationContext']['settings'][a20_0x363a('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x363a('0x9')});const _0x22aabf=_0x444d20[a20_0x363a('0xa')][a20_0x363a('0xb')];const _0x120a26=new _0x22aabf('\x0d\x0a');this[a20_0x363a('0x7')][a20_0x363a('0xc')](_0x120a26);this[a20_0x363a('0x7')]['on'](a20_0x363a('0xd'),this['serialPortOnOpen'][a20_0x363a('0xe')](this));this[a20_0x363a('0x7')]['on'](a20_0x363a('0xf'),this[a20_0x363a('0x10')]['bind'](this));this['serialPort']['on']('error',this[a20_0x363a('0x11')][a20_0x363a('0xe')](this));this[a20_0x363a('0x7')]['on'](a20_0x363a('0x12'),this[a20_0x363a('0x13')]['bind'](this));this[a20_0x363a('0x7')]['on']('readable',this[a20_0x363a('0x14')]['bind'](this));_0x120a26['on'](a20_0x363a('0x12'),this['parserOnData'][a20_0x363a('0xe')](this));console[a20_0x363a('0x3')]('init\x20SerialPort');}[a20_0x363a('0x15')](){console[a20_0x363a('0x3')](a20_0x363a('0x16')+stationSettings_1[a20_0x363a('0x17')]['settings'][a20_0x363a('0x8')]);}['serialPortOnClose'](){console['log'](a20_0x363a('0x18'));setTimeout(function(){this[a20_0x363a('0x5')]()[a20_0x363a('0xe')](this);},0x1388);}[a20_0x363a('0x11')](_0x292f4b){console[a20_0x363a('0x19')](a20_0x363a('0x1a')+_0x292f4b);setTimeout(function(){this[a20_0x363a('0x5')]();}['bind'](this),0x1388);}[a20_0x363a('0x1b')](_0x453100){this[a20_0x363a('0x1c')][a20_0x363a('0x1d')][a20_0x363a('0x1e')](_0x453100);}[a20_0x363a('0x13')](_0x4d3d41){}['serialPortOnReadable'](){this['serialPort'][a20_0x363a('0x1f')]();}}exports[a20_0x363a('0x20')]=SerialPortService;
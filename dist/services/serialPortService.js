var a19_0x4e96=['openCOM','serialport','serialPort','portCOM','none','parsers','Readline','pipe','open','bind','serialPortOnClose','error','serialPortOnError','data','serialPortOnData','readable','parserOnData','log','serialPortOnOpen','Port\x20opened:\x20','StationContext','settings','port\x20closed.','Serial\x20port\x20error:\x20','update','serialPortOnReadable','read','SerialPortService','defineProperty','__esModule','gpsService','init'];(function(_0x3366aa,_0x2dd567){var _0x4b46f2=function(_0x4e0c68){while(--_0x4e0c68){_0x3366aa['push'](_0x3366aa['shift']());}};_0x4b46f2(++_0x2dd567);}(a19_0x4e96,0x9c));var a19_0x74e0=function(_0x532beb,_0x70f0b9){_0x532beb=_0x532beb-0x0;var _0x58eee4=a19_0x4e96[_0x532beb];return _0x58eee4;};'use strict';Object[a19_0x74e0('0x0')](exports,a19_0x74e0('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class SerialPortService{constructor(_0x2daad7){this[a19_0x74e0('0x2')]=_0x2daad7;}[a19_0x74e0('0x3')](){this[a19_0x74e0('0x4')]();}['openCOM'](){const _0x464672=require(a19_0x74e0('0x5'));this[a19_0x74e0('0x6')]=new _0x464672(stationSettings_1['StationContext']['settings'][a19_0x74e0('0x7')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a19_0x74e0('0x8')});const _0xe5df5b=_0x464672[a19_0x74e0('0x9')][a19_0x74e0('0xa')];const _0x1d5156=new _0xe5df5b('\x0d\x0a');this['serialPort'][a19_0x74e0('0xb')](_0x1d5156);this[a19_0x74e0('0x6')]['on'](a19_0x74e0('0xc'),this['serialPortOnOpen'][a19_0x74e0('0xd')](this));this[a19_0x74e0('0x6')]['on']('close',this[a19_0x74e0('0xe')][a19_0x74e0('0xd')](this));this['serialPort']['on'](a19_0x74e0('0xf'),this[a19_0x74e0('0x10')][a19_0x74e0('0xd')](this));this[a19_0x74e0('0x6')]['on'](a19_0x74e0('0x11'),this[a19_0x74e0('0x12')]['bind'](this));this[a19_0x74e0('0x6')]['on'](a19_0x74e0('0x13'),this['serialPortOnReadable'][a19_0x74e0('0xd')](this));_0x1d5156['on']('data',this[a19_0x74e0('0x14')][a19_0x74e0('0xd')](this));console[a19_0x74e0('0x15')]('init\x20SerialPort');}[a19_0x74e0('0x16')](){console[a19_0x74e0('0x15')](a19_0x74e0('0x17')+stationSettings_1[a19_0x74e0('0x18')][a19_0x74e0('0x19')][a19_0x74e0('0x7')]);}[a19_0x74e0('0xe')](){console[a19_0x74e0('0x15')](a19_0x74e0('0x1a'));setTimeout(function(){this[a19_0x74e0('0x4')]()[a19_0x74e0('0xd')](this);},0x1388);}['serialPortOnError'](_0x317195){console['error'](a19_0x74e0('0x1b')+_0x317195);setTimeout(function(){this[a19_0x74e0('0x4')]();}[a19_0x74e0('0xd')](this),0x1388);}[a19_0x74e0('0x14')](_0x4efdb1){this['gpsService']['gps'][a19_0x74e0('0x1c')](_0x4efdb1);}['serialPortOnData'](_0x2896a8){}[a19_0x74e0('0x1d')](){this[a19_0x74e0('0x6')][a19_0x74e0('0x1e')]();}}exports[a19_0x74e0('0x1f')]=SerialPortService;
var a21_0x823e=['__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialPort','StationContext','portCOM','none','parsers','serialPortOnOpen','bind','serialPortOnClose','error','serialPortOnError','data','readable','serialPortOnReadable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','settings','port\x20closed.','Serial\x20port\x20error:\x20','gps','update','serialPortOnData','read','SerialPortService','defineProperty'];(function(_0x4d9aa0,_0x809e3f){var _0x18ada9=function(_0x34cbba){while(--_0x34cbba){_0x4d9aa0['push'](_0x4d9aa0['shift']());}};_0x18ada9(++_0x809e3f);}(a21_0x823e,0x9f));var a21_0x5eb8=function(_0x3465ca,_0xa14641){_0x3465ca=_0x3465ca-0x0;var _0x565359=a21_0x823e[_0x3465ca];return _0x565359;};'use strict';Object[a21_0x5eb8('0x0')](exports,a21_0x5eb8('0x1'),{'value':!![]});const stationSettings_1=require(a21_0x5eb8('0x2'));class SerialPortService{constructor(_0x3d3ca6){this[a21_0x5eb8('0x3')]=_0x3d3ca6;}[a21_0x5eb8('0x4')](){console[a21_0x5eb8('0x5')](a21_0x5eb8('0x6'));this[a21_0x5eb8('0x7')]();}[a21_0x5eb8('0x7')](){const _0xfa5a7f=require('serialport');this[a21_0x5eb8('0x8')]=new _0xfa5a7f(stationSettings_1[a21_0x5eb8('0x9')]['settings'][a21_0x5eb8('0xa')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a21_0x5eb8('0xb')});const _0x1d0ee9=_0xfa5a7f[a21_0x5eb8('0xc')]['Readline'];const _0x2acfaf=new _0x1d0ee9('\x0d\x0a');this[a21_0x5eb8('0x8')]['pipe'](_0x2acfaf);this[a21_0x5eb8('0x8')]['on']('open',this[a21_0x5eb8('0xd')][a21_0x5eb8('0xe')](this));this['serialPort']['on']('close',this[a21_0x5eb8('0xf')][a21_0x5eb8('0xe')](this));this['serialPort']['on'](a21_0x5eb8('0x10'),this[a21_0x5eb8('0x11')]['bind'](this));this[a21_0x5eb8('0x8')]['on'](a21_0x5eb8('0x12'),this['serialPortOnData']['bind'](this));this[a21_0x5eb8('0x8')]['on'](a21_0x5eb8('0x13'),this[a21_0x5eb8('0x14')][a21_0x5eb8('0xe')](this));_0x2acfaf['on'](a21_0x5eb8('0x12'),this[a21_0x5eb8('0x15')][a21_0x5eb8('0xe')](this));console[a21_0x5eb8('0x5')](a21_0x5eb8('0x16'));}[a21_0x5eb8('0xd')](){console['log'](a21_0x5eb8('0x17')+stationSettings_1[a21_0x5eb8('0x9')][a21_0x5eb8('0x18')][a21_0x5eb8('0xa')]);}[a21_0x5eb8('0xf')](){console[a21_0x5eb8('0x5')](a21_0x5eb8('0x19'));setTimeout(function(){this[a21_0x5eb8('0x7')]()[a21_0x5eb8('0xe')](this);},0x1388);}[a21_0x5eb8('0x11')](_0x4bb57e){console[a21_0x5eb8('0x10')](a21_0x5eb8('0x1a')+_0x4bb57e);setTimeout(function(){this[a21_0x5eb8('0x7')]();}['bind'](this),0x1388);}[a21_0x5eb8('0x15')](_0x1142d9){this[a21_0x5eb8('0x3')][a21_0x5eb8('0x1b')][a21_0x5eb8('0x1c')](_0x1142d9);}[a21_0x5eb8('0x1d')](_0x3b8d4d){}[a21_0x5eb8('0x14')](){this[a21_0x5eb8('0x8')][a21_0x5eb8('0x1e')]();}}exports[a21_0x5eb8('0x1f')]=SerialPortService;
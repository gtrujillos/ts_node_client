var a24_0x24f3=['read','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','log','openCOM','serialPort','StationContext','portCOM','none','Readline','pipe','open','serialPortOnOpen','bind','close','serialPortOnClose','error','serialPortOnData','readable','serialPortOnReadable','parserOnData','init\x20SerialPort','settings','port\x20closed.','serialPortOnError','Serial\x20port\x20error:\x20','gps'];(function(_0xa7d8e0,_0x2a3ea2){var _0x58a019=function(_0x29ae10){while(--_0x29ae10){_0xa7d8e0['push'](_0xa7d8e0['shift']());}};_0x58a019(++_0x2a3ea2);}(a24_0x24f3,0x1a6));var a24_0x3ecb=function(_0x220d27,_0x1a2319){_0x220d27=_0x220d27-0x0;var _0x4e7a8a=a24_0x24f3[_0x220d27];return _0x4e7a8a;};'use strict';Object[a24_0x3ecb('0x0')](exports,a24_0x3ecb('0x1'),{'value':!![]});const stationSettings_1=require(a24_0x3ecb('0x2'));class SerialPortService{constructor(_0x1e379c){this[a24_0x3ecb('0x3')]=_0x1e379c;}['init'](){console[a24_0x3ecb('0x4')]('init\x20SerialPortService');this['openCOM']();}[a24_0x3ecb('0x5')](){const _0x231246=require('serialport');this[a24_0x3ecb('0x6')]=new _0x231246(stationSettings_1[a24_0x3ecb('0x7')]['settings'][a24_0x3ecb('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a24_0x3ecb('0x9')});const _0x1f15e7=_0x231246['parsers'][a24_0x3ecb('0xa')];const _0x4518b8=new _0x1f15e7('\x0d\x0a');this['serialPort'][a24_0x3ecb('0xb')](_0x4518b8);this[a24_0x3ecb('0x6')]['on'](a24_0x3ecb('0xc'),this[a24_0x3ecb('0xd')][a24_0x3ecb('0xe')](this));this[a24_0x3ecb('0x6')]['on'](a24_0x3ecb('0xf'),this[a24_0x3ecb('0x10')][a24_0x3ecb('0xe')](this));this[a24_0x3ecb('0x6')]['on'](a24_0x3ecb('0x11'),this['serialPortOnError'][a24_0x3ecb('0xe')](this));this[a24_0x3ecb('0x6')]['on']('data',this[a24_0x3ecb('0x12')][a24_0x3ecb('0xe')](this));this[a24_0x3ecb('0x6')]['on'](a24_0x3ecb('0x13'),this[a24_0x3ecb('0x14')][a24_0x3ecb('0xe')](this));_0x4518b8['on']('data',this[a24_0x3ecb('0x15')]['bind'](this));console['log'](a24_0x3ecb('0x16'));}[a24_0x3ecb('0xd')](){console['log']('Port\x20opened:\x20'+stationSettings_1[a24_0x3ecb('0x7')][a24_0x3ecb('0x17')][a24_0x3ecb('0x8')]);}[a24_0x3ecb('0x10')](){console['log'](a24_0x3ecb('0x18'));setTimeout(function(){this[a24_0x3ecb('0x5')]()[a24_0x3ecb('0xe')](this);},0x1388);}[a24_0x3ecb('0x19')](_0x36a317){console['error'](a24_0x3ecb('0x1a')+_0x36a317);setTimeout(function(){this[a24_0x3ecb('0x5')]();}[a24_0x3ecb('0xe')](this),0x1388);}['parserOnData'](_0x5ddd04){this[a24_0x3ecb('0x3')][a24_0x3ecb('0x1b')]['update'](_0x5ddd04);}['serialPortOnData'](_0x2d6f2c){}[a24_0x3ecb('0x14')](){this[a24_0x3ecb('0x6')][a24_0x3ecb('0x1c')]();}}exports[a24_0x3ecb('0x1d')]=SerialPortService;
var a19_0x9719=['none','pipe','open','serialPortOnOpen','bind','close','serialPortOnError','data','readable','serialPortOnReadable','parserOnData','log','init\x20SerialPort','Port\x20opened:\x20','StationContext','port\x20closed.','Serial\x20port\x20error:\x20','gps','update','serialPortOnData','read','SerialPortService','__esModule','../infrastructure/stationSettings','gpsService','init','openCOM','serialport','serialPort','settings','portCOM'];(function(_0x4adc7d,_0x25f49c){var _0x591923=function(_0x352423){while(--_0x352423){_0x4adc7d['push'](_0x4adc7d['shift']());}};_0x591923(++_0x25f49c);}(a19_0x9719,0x92));var a19_0x49c8=function(_0x486a45,_0x3d472a){_0x486a45=_0x486a45-0x0;var _0x39c003=a19_0x9719[_0x486a45];return _0x39c003;};'use strict';Object['defineProperty'](exports,a19_0x49c8('0x0'),{'value':!![]});const stationSettings_1=require(a19_0x49c8('0x1'));class SerialPortService{constructor(_0x591592){this[a19_0x49c8('0x2')]=_0x591592;}[a19_0x49c8('0x3')](){this['openCOM']();}[a19_0x49c8('0x4')](){const _0x412e13=require(a19_0x49c8('0x5'));this[a19_0x49c8('0x6')]=new _0x412e13(stationSettings_1['StationContext'][a19_0x49c8('0x7')][a19_0x49c8('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a19_0x49c8('0x9')});const _0x1b8b4d=_0x412e13['parsers']['Readline'];const _0x39002c=new _0x1b8b4d('\x0d\x0a');this[a19_0x49c8('0x6')][a19_0x49c8('0xa')](_0x39002c);this[a19_0x49c8('0x6')]['on'](a19_0x49c8('0xb'),this[a19_0x49c8('0xc')][a19_0x49c8('0xd')](this));this[a19_0x49c8('0x6')]['on'](a19_0x49c8('0xe'),this['serialPortOnClose']['bind'](this));this[a19_0x49c8('0x6')]['on']('error',this[a19_0x49c8('0xf')][a19_0x49c8('0xd')](this));this[a19_0x49c8('0x6')]['on'](a19_0x49c8('0x10'),this['serialPortOnData'][a19_0x49c8('0xd')](this));this[a19_0x49c8('0x6')]['on'](a19_0x49c8('0x11'),this[a19_0x49c8('0x12')]['bind'](this));_0x39002c['on'](a19_0x49c8('0x10'),this[a19_0x49c8('0x13')][a19_0x49c8('0xd')](this));console[a19_0x49c8('0x14')](a19_0x49c8('0x15'));}[a19_0x49c8('0xc')](){console[a19_0x49c8('0x14')](a19_0x49c8('0x16')+stationSettings_1[a19_0x49c8('0x17')]['settings'][a19_0x49c8('0x8')]);}['serialPortOnClose'](){console[a19_0x49c8('0x14')](a19_0x49c8('0x18'));setTimeout(function(){this[a19_0x49c8('0x4')]()['bind'](this);},0x1388);}[a19_0x49c8('0xf')](_0xf40d12){console['error'](a19_0x49c8('0x19')+_0xf40d12);setTimeout(function(){this[a19_0x49c8('0x4')]();}[a19_0x49c8('0xd')](this),0x1388);}[a19_0x49c8('0x13')](_0x4fc3af){this[a19_0x49c8('0x2')][a19_0x49c8('0x1a')][a19_0x49c8('0x1b')](_0x4fc3af);}[a19_0x49c8('0x1c')](_0x94cd76){}[a19_0x49c8('0x12')](){this['serialPort'][a19_0x49c8('0x1d')]();}}exports[a19_0x49c8('0x1e')]=SerialPortService;
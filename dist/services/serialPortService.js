var a20_0x2a54=['pipe','open','serialPortOnOpen','bind','serialPortOnClose','error','serialPortOnError','data','serialPortOnData','readable','parserOnData','port\x20closed.','Serial\x20port\x20error:\x20','update','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','serialPort','StationContext','settings','portCOM','parsers','Readline'];(function(_0x12fa7c,_0x43d5f9){var _0x259ae0=function(_0x5ab9f7){while(--_0x5ab9f7){_0x12fa7c['push'](_0x12fa7c['shift']());}};_0x259ae0(++_0x43d5f9);}(a20_0x2a54,0x1d1));var a20_0x4a00=function(_0x40486a,_0x247e04){_0x40486a=_0x40486a-0x0;var _0x2c5bc5=a20_0x2a54[_0x40486a];return _0x2c5bc5;};'use strict';Object[a20_0x4a00('0x0')](exports,a20_0x4a00('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x4a00('0x2'));class SerialPortService{constructor(_0x365256){this[a20_0x4a00('0x3')]=_0x365256;}[a20_0x4a00('0x4')](){console[a20_0x4a00('0x5')](a20_0x4a00('0x6'));this[a20_0x4a00('0x7')]();}[a20_0x4a00('0x7')](){const _0x3e1d1c=require(a20_0x4a00('0x8'));this[a20_0x4a00('0x9')]=new _0x3e1d1c(stationSettings_1[a20_0x4a00('0xa')][a20_0x4a00('0xb')][a20_0x4a00('0xc')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':'none'});const _0x5e5f06=_0x3e1d1c[a20_0x4a00('0xd')][a20_0x4a00('0xe')];const _0x36c468=new _0x5e5f06('\x0d\x0a');this[a20_0x4a00('0x9')][a20_0x4a00('0xf')](_0x36c468);this[a20_0x4a00('0x9')]['on'](a20_0x4a00('0x10'),this[a20_0x4a00('0x11')][a20_0x4a00('0x12')](this));this[a20_0x4a00('0x9')]['on']('close',this[a20_0x4a00('0x13')][a20_0x4a00('0x12')](this));this['serialPort']['on'](a20_0x4a00('0x14'),this[a20_0x4a00('0x15')][a20_0x4a00('0x12')](this));this[a20_0x4a00('0x9')]['on'](a20_0x4a00('0x16'),this[a20_0x4a00('0x17')][a20_0x4a00('0x12')](this));this[a20_0x4a00('0x9')]['on'](a20_0x4a00('0x18'),this['serialPortOnReadable'][a20_0x4a00('0x12')](this));_0x36c468['on'](a20_0x4a00('0x16'),this[a20_0x4a00('0x19')][a20_0x4a00('0x12')](this));console['log']('init\x20SerialPort');}[a20_0x4a00('0x11')](){console[a20_0x4a00('0x5')]('Port\x20opened:\x20'+stationSettings_1[a20_0x4a00('0xa')][a20_0x4a00('0xb')][a20_0x4a00('0xc')]);}[a20_0x4a00('0x13')](){console[a20_0x4a00('0x5')](a20_0x4a00('0x1a'));setTimeout(function(){this[a20_0x4a00('0x7')]()[a20_0x4a00('0x12')](this);},0x1388);}[a20_0x4a00('0x15')](_0x2c7a18){console[a20_0x4a00('0x14')](a20_0x4a00('0x1b')+_0x2c7a18);setTimeout(function(){this['openCOM']();}[a20_0x4a00('0x12')](this),0x1388);}[a20_0x4a00('0x19')](_0x30d370){this['gpsService']['gps'][a20_0x4a00('0x1c')](_0x30d370);}[a20_0x4a00('0x17')](_0x19ee14){}['serialPortOnReadable'](){this[a20_0x4a00('0x9')]['read']();}}exports[a20_0x4a00('0x1d')]=SerialPortService;
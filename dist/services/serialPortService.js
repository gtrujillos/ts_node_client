var a20_0x1dbc=['Serial\x20port\x20error:\x20','gps','update','read','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','openCOM','serialport','StationContext','none','parsers','pipe','serialPort','bind','close','serialPortOnClose','error','serialPortOnError','serialPortOnData','readable','serialPortOnReadable','data','parserOnData','log','init\x20SerialPort','Port\x20opened:\x20','portCOM','port\x20closed.'];(function(_0x1e1891,_0x2e6940){var _0x42d02f=function(_0x3b2bc2){while(--_0x3b2bc2){_0x1e1891['push'](_0x1e1891['shift']());}};_0x42d02f(++_0x2e6940);}(a20_0x1dbc,0x1d5));var a20_0x341d=function(_0x2fbeca,_0x302170){_0x2fbeca=_0x2fbeca-0x0;var _0x1ae02f=a20_0x1dbc[_0x2fbeca];return _0x1ae02f;};'use strict';Object[a20_0x341d('0x0')](exports,a20_0x341d('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x341d('0x2'));class SerialPortService{constructor(_0x8a88b9){this[a20_0x341d('0x3')]=_0x8a88b9;}[a20_0x341d('0x4')](){this[a20_0x341d('0x5')]();}['openCOM'](){const _0x553327=require(a20_0x341d('0x6'));this['serialPort']=new _0x553327(stationSettings_1[a20_0x341d('0x7')]['settings']['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x341d('0x8')});const _0x185548=_0x553327[a20_0x341d('0x9')]['Readline'];const _0x422ede=new _0x185548('\x0d\x0a');this['serialPort'][a20_0x341d('0xa')](_0x422ede);this[a20_0x341d('0xb')]['on']('open',this['serialPortOnOpen'][a20_0x341d('0xc')](this));this[a20_0x341d('0xb')]['on'](a20_0x341d('0xd'),this[a20_0x341d('0xe')][a20_0x341d('0xc')](this));this[a20_0x341d('0xb')]['on'](a20_0x341d('0xf'),this[a20_0x341d('0x10')][a20_0x341d('0xc')](this));this[a20_0x341d('0xb')]['on']('data',this[a20_0x341d('0x11')][a20_0x341d('0xc')](this));this[a20_0x341d('0xb')]['on'](a20_0x341d('0x12'),this[a20_0x341d('0x13')]['bind'](this));_0x422ede['on'](a20_0x341d('0x14'),this[a20_0x341d('0x15')][a20_0x341d('0xc')](this));console[a20_0x341d('0x16')](a20_0x341d('0x17'));}['serialPortOnOpen'](){console[a20_0x341d('0x16')](a20_0x341d('0x18')+stationSettings_1[a20_0x341d('0x7')]['settings'][a20_0x341d('0x19')]);}[a20_0x341d('0xe')](){console['log'](a20_0x341d('0x1a'));setTimeout(function(){this[a20_0x341d('0x5')]()[a20_0x341d('0xc')](this);},0x1388);}['serialPortOnError'](_0x58e92c){console[a20_0x341d('0xf')](a20_0x341d('0x1b')+_0x58e92c);setTimeout(function(){this['openCOM']();}['bind'](this),0x1388);}[a20_0x341d('0x15')](_0x3b5510){this[a20_0x341d('0x3')][a20_0x341d('0x1c')][a20_0x341d('0x1d')](_0x3b5510);}[a20_0x341d('0x11')](_0x6c2ab7){}[a20_0x341d('0x13')](){this[a20_0x341d('0xb')][a20_0x341d('0x1e')]();}}exports['SerialPortService']=SerialPortService;
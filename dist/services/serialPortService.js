var a19_0x4999=['serialPortOnError','data','serialPortOnData','readable','log','init\x20SerialPort','Port\x20opened:\x20','port\x20closed.','parserOnData','update','serialPortOnReadable','read','SerialPortService','__esModule','../infrastructure/stationSettings','init','openCOM','serialport','serialPort','StationContext','settings','portCOM','none','parsers','Readline','open','serialPortOnOpen','bind','close','serialPortOnClose','error'];(function(_0x21849f,_0x29d4a1){var _0x53b639=function(_0x598586){while(--_0x598586){_0x21849f['push'](_0x21849f['shift']());}};_0x53b639(++_0x29d4a1);}(a19_0x4999,0xe6));var a19_0x2879=function(_0x35a44c,_0x17eda9){_0x35a44c=_0x35a44c-0x0;var _0x59c300=a19_0x4999[_0x35a44c];return _0x59c300;};'use strict';Object['defineProperty'](exports,a19_0x2879('0x0'),{'value':!![]});const stationSettings_1=require(a19_0x2879('0x1'));class SerialPortService{constructor(_0x2518ff){this['gpsService']=_0x2518ff;}[a19_0x2879('0x2')](){this['openCOM']();}[a19_0x2879('0x3')](){const _0x12e4bc=require(a19_0x2879('0x4'));this[a19_0x2879('0x5')]=new _0x12e4bc(stationSettings_1[a19_0x2879('0x6')][a19_0x2879('0x7')][a19_0x2879('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a19_0x2879('0x9')});const _0x3ebd38=_0x12e4bc[a19_0x2879('0xa')][a19_0x2879('0xb')];const _0x2ea336=new _0x3ebd38('\x0d\x0a');this[a19_0x2879('0x5')]['pipe'](_0x2ea336);this[a19_0x2879('0x5')]['on'](a19_0x2879('0xc'),this[a19_0x2879('0xd')][a19_0x2879('0xe')](this));this[a19_0x2879('0x5')]['on'](a19_0x2879('0xf'),this[a19_0x2879('0x10')][a19_0x2879('0xe')](this));this[a19_0x2879('0x5')]['on'](a19_0x2879('0x11'),this[a19_0x2879('0x12')][a19_0x2879('0xe')](this));this[a19_0x2879('0x5')]['on'](a19_0x2879('0x13'),this[a19_0x2879('0x14')][a19_0x2879('0xe')](this));this[a19_0x2879('0x5')]['on'](a19_0x2879('0x15'),this['serialPortOnReadable'][a19_0x2879('0xe')](this));_0x2ea336['on']('data',this['parserOnData'][a19_0x2879('0xe')](this));console[a19_0x2879('0x16')](a19_0x2879('0x17'));}['serialPortOnOpen'](){console[a19_0x2879('0x16')](a19_0x2879('0x18')+stationSettings_1[a19_0x2879('0x6')][a19_0x2879('0x7')]['portCOM']);}['serialPortOnClose'](){console[a19_0x2879('0x16')](a19_0x2879('0x19'));setTimeout(function(){this[a19_0x2879('0x3')]()['bind'](this);},0x1388);}[a19_0x2879('0x12')](_0x5c7cdc){console[a19_0x2879('0x11')]('Serial\x20port\x20error:\x20'+_0x5c7cdc);setTimeout(function(){this[a19_0x2879('0x3')]();}[a19_0x2879('0xe')](this),0x1388);}[a19_0x2879('0x1a')](_0x354d04){this['gpsService']['gps'][a19_0x2879('0x1b')](_0x354d04);}[a19_0x2879('0x14')](_0x5a5eef){}[a19_0x2879('0x1c')](){this['serialPort'][a19_0x2879('0x1d')]();}}exports[a19_0x2879('0x1e')]=SerialPortService;
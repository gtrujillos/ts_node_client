var a19_0x3cd7=['none','Readline','pipe','open','serialPortOnOpen','close','bind','serialPortOnError','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','log','init\x20SerialPort','Port\x20opened:\x20','serialPortOnClose','port\x20closed.','Serial\x20port\x20error:\x20','gpsService','gps','update','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','init','openCOM','serialPort','StationContext','settings','portCOM'];(function(_0x53854b,_0x1a954c){var _0x18984f=function(_0x313842){while(--_0x313842){_0x53854b['push'](_0x53854b['shift']());}};_0x18984f(++_0x1a954c);}(a19_0x3cd7,0x1d7));var a19_0x3e44=function(_0x1c716c,_0x543fb3){_0x1c716c=_0x1c716c-0x0;var _0x53cda5=a19_0x3cd7[_0x1c716c];return _0x53cda5;};'use strict';Object[a19_0x3e44('0x0')](exports,a19_0x3e44('0x1'),{'value':!![]});const stationSettings_1=require(a19_0x3e44('0x2'));class SerialPortService{constructor(_0xdd1f84){this['gpsService']=_0xdd1f84;}[a19_0x3e44('0x3')](){this[a19_0x3e44('0x4')]();}[a19_0x3e44('0x4')](){const _0x31bfb5=require('serialport');this[a19_0x3e44('0x5')]=new _0x31bfb5(stationSettings_1[a19_0x3e44('0x6')][a19_0x3e44('0x7')][a19_0x3e44('0x8')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a19_0x3e44('0x9')});const _0x3a72e5=_0x31bfb5['parsers'][a19_0x3e44('0xa')];const _0x11de20=new _0x3a72e5('\x0d\x0a');this[a19_0x3e44('0x5')][a19_0x3e44('0xb')](_0x11de20);this['serialPort']['on'](a19_0x3e44('0xc'),this[a19_0x3e44('0xd')]['bind'](this));this['serialPort']['on'](a19_0x3e44('0xe'),this['serialPortOnClose'][a19_0x3e44('0xf')](this));this[a19_0x3e44('0x5')]['on']('error',this[a19_0x3e44('0x10')][a19_0x3e44('0xf')](this));this[a19_0x3e44('0x5')]['on'](a19_0x3e44('0x11'),this[a19_0x3e44('0x12')]['bind'](this));this[a19_0x3e44('0x5')]['on'](a19_0x3e44('0x13'),this[a19_0x3e44('0x14')][a19_0x3e44('0xf')](this));_0x11de20['on'](a19_0x3e44('0x11'),this[a19_0x3e44('0x15')][a19_0x3e44('0xf')](this));console[a19_0x3e44('0x16')](a19_0x3e44('0x17'));}[a19_0x3e44('0xd')](){console[a19_0x3e44('0x16')](a19_0x3e44('0x18')+stationSettings_1[a19_0x3e44('0x6')][a19_0x3e44('0x7')][a19_0x3e44('0x8')]);}[a19_0x3e44('0x19')](){console['log'](a19_0x3e44('0x1a'));setTimeout(function(){this[a19_0x3e44('0x4')]()['bind'](this);},0x1388);}['serialPortOnError'](_0x7f8bb7){console['error'](a19_0x3e44('0x1b')+_0x7f8bb7);setTimeout(function(){this['openCOM']();}[a19_0x3e44('0xf')](this),0x1388);}['parserOnData'](_0x57b37e){this[a19_0x3e44('0x1c')][a19_0x3e44('0x1d')][a19_0x3e44('0x1e')](_0x57b37e);}[a19_0x3e44('0x12')](_0x84c25e){}[a19_0x3e44('0x14')](){this[a19_0x3e44('0x5')]['read']();}}exports[a19_0x3e44('0x1f')]=SerialPortService;
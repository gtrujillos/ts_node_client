var a24_0x2f0e=['bind','serialPortOnClose','serialPortOnError','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','error','Serial\x20port\x20error:\x20','update','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','serialPort','settings','portCOM','none','Readline','pipe','open','serialPortOnOpen'];(function(_0x5db9ad,_0x338a80){var _0x3b2fda=function(_0x564cb0){while(--_0x564cb0){_0x5db9ad['push'](_0x5db9ad['shift']());}};_0x3b2fda(++_0x338a80);}(a24_0x2f0e,0xa9));var a24_0x2b5b=function(_0x5af7b7,_0x1ff88e){_0x5af7b7=_0x5af7b7-0x0;var _0x2d22d4=a24_0x2f0e[_0x5af7b7];return _0x2d22d4;};'use strict';Object[a24_0x2b5b('0x0')](exports,a24_0x2b5b('0x1'),{'value':!![]});const stationSettings_1=require(a24_0x2b5b('0x2'));class SerialPortService{constructor(_0x4747fa){this[a24_0x2b5b('0x3')]=_0x4747fa;}[a24_0x2b5b('0x4')](){console[a24_0x2b5b('0x5')](a24_0x2b5b('0x6'));this['openCOM']();}[a24_0x2b5b('0x7')](){const _0x78db9c=require(a24_0x2b5b('0x8'));this[a24_0x2b5b('0x9')]=new _0x78db9c(stationSettings_1['StationContext'][a24_0x2b5b('0xa')][a24_0x2b5b('0xb')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a24_0x2b5b('0xc')});const _0x351bdb=_0x78db9c['parsers'][a24_0x2b5b('0xd')];const _0x2b7314=new _0x351bdb('\x0d\x0a');this['serialPort'][a24_0x2b5b('0xe')](_0x2b7314);this[a24_0x2b5b('0x9')]['on'](a24_0x2b5b('0xf'),this[a24_0x2b5b('0x10')][a24_0x2b5b('0x11')](this));this[a24_0x2b5b('0x9')]['on']('close',this[a24_0x2b5b('0x12')]['bind'](this));this[a24_0x2b5b('0x9')]['on']('error',this[a24_0x2b5b('0x13')][a24_0x2b5b('0x11')](this));this[a24_0x2b5b('0x9')]['on'](a24_0x2b5b('0x14'),this[a24_0x2b5b('0x15')][a24_0x2b5b('0x11')](this));this[a24_0x2b5b('0x9')]['on'](a24_0x2b5b('0x16'),this[a24_0x2b5b('0x17')][a24_0x2b5b('0x11')](this));_0x2b7314['on']('data',this[a24_0x2b5b('0x18')][a24_0x2b5b('0x11')](this));console['log'](a24_0x2b5b('0x19'));}[a24_0x2b5b('0x10')](){console[a24_0x2b5b('0x5')](a24_0x2b5b('0x1a')+stationSettings_1['StationContext']['settings'][a24_0x2b5b('0xb')]);}[a24_0x2b5b('0x12')](){console['log']('port\x20closed.');setTimeout(function(){this[a24_0x2b5b('0x7')]()[a24_0x2b5b('0x11')](this);},0x1388);}[a24_0x2b5b('0x13')](_0x5ea796){console[a24_0x2b5b('0x1b')](a24_0x2b5b('0x1c')+_0x5ea796);setTimeout(function(){this['openCOM']();}[a24_0x2b5b('0x11')](this),0x1388);}[a24_0x2b5b('0x18')](_0x1cd34b){this[a24_0x2b5b('0x3')]['gps'][a24_0x2b5b('0x1d')](_0x1cd34b);}[a24_0x2b5b('0x15')](_0x4ca8e8){}[a24_0x2b5b('0x17')](){this['serialPort']['read']();}}exports[a24_0x2b5b('0x1e')]=SerialPortService;
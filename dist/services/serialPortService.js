var a20_0x20b2=['defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','openCOM','serialport','serialPort','StationContext','none','Readline','pipe','open','serialPortOnOpen','bind','close','error','serialPortOnError','serialPortOnReadable','data','parserOnData','init\x20SerialPort','Port\x20opened:\x20','settings','portCOM','port\x20closed.','Serial\x20port\x20error:\x20','update','serialPortOnData','read'];(function(_0x4a3929,_0x315fa2){var _0x38e66f=function(_0x3ef560){while(--_0x3ef560){_0x4a3929['push'](_0x4a3929['shift']());}};_0x38e66f(++_0x315fa2);}(a20_0x20b2,0x117));var a20_0x1b95=function(_0x26e225,_0xe7115c){_0x26e225=_0x26e225-0x0;var _0x79b04d=a20_0x20b2[_0x26e225];return _0x79b04d;};'use strict';Object[a20_0x1b95('0x0')](exports,a20_0x1b95('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x1b95('0x2'));class SerialPortService{constructor(_0x5c3961){this[a20_0x1b95('0x3')]=_0x5c3961;}[a20_0x1b95('0x4')](){console[a20_0x1b95('0x5')]('init\x20SerialPortService');this[a20_0x1b95('0x6')]();}[a20_0x1b95('0x6')](){const _0x4462fe=require(a20_0x1b95('0x7'));this[a20_0x1b95('0x8')]=new _0x4462fe(stationSettings_1[a20_0x1b95('0x9')]['settings']['portCOM'],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x1b95('0xa')});const _0x36393a=_0x4462fe['parsers'][a20_0x1b95('0xb')];const _0x5ce8fb=new _0x36393a('\x0d\x0a');this['serialPort'][a20_0x1b95('0xc')](_0x5ce8fb);this[a20_0x1b95('0x8')]['on'](a20_0x1b95('0xd'),this[a20_0x1b95('0xe')][a20_0x1b95('0xf')](this));this[a20_0x1b95('0x8')]['on'](a20_0x1b95('0x10'),this['serialPortOnClose']['bind'](this));this['serialPort']['on'](a20_0x1b95('0x11'),this[a20_0x1b95('0x12')][a20_0x1b95('0xf')](this));this[a20_0x1b95('0x8')]['on']('data',this['serialPortOnData'][a20_0x1b95('0xf')](this));this[a20_0x1b95('0x8')]['on']('readable',this[a20_0x1b95('0x13')][a20_0x1b95('0xf')](this));_0x5ce8fb['on'](a20_0x1b95('0x14'),this[a20_0x1b95('0x15')][a20_0x1b95('0xf')](this));console[a20_0x1b95('0x5')](a20_0x1b95('0x16'));}[a20_0x1b95('0xe')](){console[a20_0x1b95('0x5')](a20_0x1b95('0x17')+stationSettings_1[a20_0x1b95('0x9')][a20_0x1b95('0x18')][a20_0x1b95('0x19')]);}['serialPortOnClose'](){console['log'](a20_0x1b95('0x1a'));setTimeout(function(){this[a20_0x1b95('0x6')]()[a20_0x1b95('0xf')](this);},0x1388);}[a20_0x1b95('0x12')](_0x4e8f34){console[a20_0x1b95('0x11')](a20_0x1b95('0x1b')+_0x4e8f34);setTimeout(function(){this[a20_0x1b95('0x6')]();}[a20_0x1b95('0xf')](this),0x1388);}[a20_0x1b95('0x15')](_0x29ab73){this[a20_0x1b95('0x3')]['gps'][a20_0x1b95('0x1c')](_0x29ab73);}[a20_0x1b95('0x1d')](_0x329588){}[a20_0x1b95('0x13')](){this[a20_0x1b95('0x8')][a20_0x1b95('0x1e')]();}}exports['SerialPortService']=SerialPortService;
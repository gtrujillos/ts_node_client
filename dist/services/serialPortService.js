var a20_0x3589=['serialPortOnError','Serial\x20port\x20error:\x20','gps','update','SerialPortService','defineProperty','__esModule','../infrastructure/stationSettings','gpsService','init','log','init\x20SerialPortService','openCOM','serialport','settings','portCOM','none','parsers','Readline','serialPort','pipe','open','serialPortOnOpen','bind','serialPortOnClose','error','data','serialPortOnData','readable','serialPortOnReadable','parserOnData','init\x20SerialPort','StationContext'];(function(_0x4bd822,_0x2bd6f7){var _0xb4bdb3=function(_0x1d68f6){while(--_0x1d68f6){_0x4bd822['push'](_0x4bd822['shift']());}};_0xb4bdb3(++_0x2bd6f7);}(a20_0x3589,0xec));var a20_0x50c1=function(_0xf909b,_0x383a6c){_0xf909b=_0xf909b-0x0;var _0x3d2d88=a20_0x3589[_0xf909b];return _0x3d2d88;};'use strict';Object[a20_0x50c1('0x0')](exports,a20_0x50c1('0x1'),{'value':!![]});const stationSettings_1=require(a20_0x50c1('0x2'));class SerialPortService{constructor(_0x182701){this[a20_0x50c1('0x3')]=_0x182701;}[a20_0x50c1('0x4')](){console[a20_0x50c1('0x5')](a20_0x50c1('0x6'));this[a20_0x50c1('0x7')]();}['openCOM'](){const _0x77fb02=require(a20_0x50c1('0x8'));this['serialPort']=new _0x77fb02(stationSettings_1['StationContext'][a20_0x50c1('0x9')][a20_0x50c1('0xa')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x50c1('0xb')});const _0x1703d5=_0x77fb02[a20_0x50c1('0xc')][a20_0x50c1('0xd')];const _0x11d2c4=new _0x1703d5('\x0d\x0a');this[a20_0x50c1('0xe')][a20_0x50c1('0xf')](_0x11d2c4);this[a20_0x50c1('0xe')]['on'](a20_0x50c1('0x10'),this[a20_0x50c1('0x11')][a20_0x50c1('0x12')](this));this[a20_0x50c1('0xe')]['on']('close',this[a20_0x50c1('0x13')][a20_0x50c1('0x12')](this));this[a20_0x50c1('0xe')]['on'](a20_0x50c1('0x14'),this['serialPortOnError']['bind'](this));this[a20_0x50c1('0xe')]['on'](a20_0x50c1('0x15'),this[a20_0x50c1('0x16')][a20_0x50c1('0x12')](this));this[a20_0x50c1('0xe')]['on'](a20_0x50c1('0x17'),this[a20_0x50c1('0x18')][a20_0x50c1('0x12')](this));_0x11d2c4['on'](a20_0x50c1('0x15'),this[a20_0x50c1('0x19')][a20_0x50c1('0x12')](this));console[a20_0x50c1('0x5')](a20_0x50c1('0x1a'));}[a20_0x50c1('0x11')](){console[a20_0x50c1('0x5')]('Port\x20opened:\x20'+stationSettings_1[a20_0x50c1('0x1b')][a20_0x50c1('0x9')]['portCOM']);}[a20_0x50c1('0x13')](){console[a20_0x50c1('0x5')]('port\x20closed.');setTimeout(function(){this[a20_0x50c1('0x7')]()['bind'](this);},0x1388);}[a20_0x50c1('0x1c')](_0x18d23c){console[a20_0x50c1('0x14')](a20_0x50c1('0x1d')+_0x18d23c);setTimeout(function(){this['openCOM']();}[a20_0x50c1('0x12')](this),0x1388);}['parserOnData'](_0x293a47){this['gpsService'][a20_0x50c1('0x1e')][a20_0x50c1('0x1f')](_0x293a47);}[a20_0x50c1('0x16')](_0x182269){}['serialPortOnReadable'](){this[a20_0x50c1('0xe')]['read']();}}exports[a20_0x50c1('0x20')]=SerialPortService;
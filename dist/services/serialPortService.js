var a20_0x3fc9=['log','init\x20SerialPortService','openCOM','serialport','serialPort','settings','portCOM','none','parsers','Readline','pipe','serialPortOnOpen','close','serialPortOnClose','serialPortOnError','bind','data','serialPortOnData','readable','parserOnData','init\x20SerialPort','Port\x20opened:\x20','StationContext','error','Serial\x20port\x20error:\x20','gpsService','gps','serialPortOnReadable','read','SerialPortService','__esModule','../infrastructure/stationSettings','init'];(function(_0x563a59,_0x28bf0c){var _0x32edcd=function(_0x49b099){while(--_0x49b099){_0x563a59['push'](_0x563a59['shift']());}};_0x32edcd(++_0x28bf0c);}(a20_0x3fc9,0x1ec));var a20_0x406f=function(_0x3edf64,_0x4edf20){_0x3edf64=_0x3edf64-0x0;var _0x358dc5=a20_0x3fc9[_0x3edf64];return _0x358dc5;};'use strict';Object['defineProperty'](exports,a20_0x406f('0x0'),{'value':!![]});const stationSettings_1=require(a20_0x406f('0x1'));class SerialPortService{constructor(_0xcce60e){this['gpsService']=_0xcce60e;}[a20_0x406f('0x2')](){console[a20_0x406f('0x3')](a20_0x406f('0x4'));this['openCOM']();}[a20_0x406f('0x5')](){const _0x118601=require(a20_0x406f('0x6'));this[a20_0x406f('0x7')]=new _0x118601(stationSettings_1['StationContext'][a20_0x406f('0x8')][a20_0x406f('0x9')],{'baudRate':0x2580,'dataBits':0x8,'stopBits':0x1,'parity':a20_0x406f('0xa')});const _0x349f5f=_0x118601[a20_0x406f('0xb')][a20_0x406f('0xc')];const _0x14cecb=new _0x349f5f('\x0d\x0a');this[a20_0x406f('0x7')][a20_0x406f('0xd')](_0x14cecb);this[a20_0x406f('0x7')]['on']('open',this[a20_0x406f('0xe')]['bind'](this));this[a20_0x406f('0x7')]['on'](a20_0x406f('0xf'),this[a20_0x406f('0x10')]['bind'](this));this[a20_0x406f('0x7')]['on']('error',this[a20_0x406f('0x11')][a20_0x406f('0x12')](this));this[a20_0x406f('0x7')]['on'](a20_0x406f('0x13'),this[a20_0x406f('0x14')][a20_0x406f('0x12')](this));this[a20_0x406f('0x7')]['on'](a20_0x406f('0x15'),this['serialPortOnReadable']['bind'](this));_0x14cecb['on']('data',this[a20_0x406f('0x16')][a20_0x406f('0x12')](this));console[a20_0x406f('0x3')](a20_0x406f('0x17'));}[a20_0x406f('0xe')](){console[a20_0x406f('0x3')](a20_0x406f('0x18')+stationSettings_1[a20_0x406f('0x19')][a20_0x406f('0x8')][a20_0x406f('0x9')]);}['serialPortOnClose'](){console[a20_0x406f('0x3')]('port\x20closed.');setTimeout(function(){this[a20_0x406f('0x5')]()[a20_0x406f('0x12')](this);},0x1388);}[a20_0x406f('0x11')](_0x3ce50b){console[a20_0x406f('0x1a')](a20_0x406f('0x1b')+_0x3ce50b);setTimeout(function(){this[a20_0x406f('0x5')]();}['bind'](this),0x1388);}['parserOnData'](_0x3f4d20){this[a20_0x406f('0x1c')][a20_0x406f('0x1d')]['update'](_0x3f4d20);}[a20_0x406f('0x14')](_0xcbd71d){}[a20_0x406f('0x1e')](){this[a20_0x406f('0x7')][a20_0x406f('0x1f')]();}}exports[a20_0x406f('0x20')]=SerialPortService;
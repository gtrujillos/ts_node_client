var a16_0x4ebf=['StationContext','settings','cameraSocket','open','Websocket\x20opened:','onError','bind','incoming','Data','length','parse','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','error','CountingWebSocketService','defineProperty','__esModule','../infrastructure/stationSettings','eventCounter','log','init\x20CountingWebSocket','createWebSocket'];(function(_0x41f755,_0x1bfe4d){var _0x42be0e=function(_0x3d3ec8){while(--_0x3d3ec8){_0x41f755['push'](_0x41f755['shift']());}};_0x42be0e(++_0x1bfe4d);}(a16_0x4ebf,0x12d));var a16_0x4001=function(_0x54967c,_0x28fb83){_0x54967c=_0x54967c-0x0;var _0x4387ae=a16_0x4ebf[_0x54967c];return _0x4387ae;};'use strict';Object[a16_0x4001('0x0')](exports,a16_0x4001('0x1'),{'value':!![]});const stationSettings_1=require(a16_0x4001('0x2'));class CountingWebSocketService{constructor(){this[a16_0x4001('0x3')]=0x0;}['init'](){console[a16_0x4001('0x4')](a16_0x4001('0x5'));this[a16_0x4001('0x6')]();}[a16_0x4001('0x6')](){const _0x48044e=require('ws');const _0x133bbe=new _0x48044e(stationSettings_1[a16_0x4001('0x7')][a16_0x4001('0x8')][a16_0x4001('0x9')]);_0x133bbe['on'](a16_0x4001('0xa'),function open(){console['log'](a16_0x4001('0xb')+stationSettings_1[a16_0x4001('0x7')][a16_0x4001('0x8')]['cameraSocket']);this[a16_0x4001('0x3')]=0x0;});_0x133bbe['on']('error',this[a16_0x4001('0xc')][a16_0x4001('0xd')](this));_0x133bbe['on']('message',this['incoming'][a16_0x4001('0xd')](this));}[a16_0x4001('0xe')](_0x1da228){const _0xe659b6=JSON['parse'](_0x1da228);if(_0xe659b6[a16_0x4001('0xf')]==null||_0xe659b6[a16_0x4001('0xf')][a16_0x4001('0x10')]==0x0){_0x1da228=JSON[a16_0x4001('0x11')](a16_0x4001('0x12'));}if(_0xe659b6['Data']!=null&&_0xe659b6[a16_0x4001('0xf')][a16_0x4001('0x10')]>0x0){this[a16_0x4001('0x13')](_0xe659b6['Data'][0x0]);}}['onError'](_0x492b12){console[a16_0x4001('0x14')](_0x492b12);setTimeout(function(){this[a16_0x4001('0x6')]();}[a16_0x4001('0xd')](this),0x1388);}}exports[a16_0x4001('0x15')]=CountingWebSocketService;
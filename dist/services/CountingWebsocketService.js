var a14_0x2b94=['error','onError','bind','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','CountingWebSocketService','defineProperty','__esModule','../infrastructure/stationSettings','log','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket','open','Websocket\x20opened:'];(function(_0x242ecc,_0x528af0){var _0x1e1be8=function(_0x1efd91){while(--_0x1efd91){_0x242ecc['push'](_0x242ecc['shift']());}};_0x1e1be8(++_0x528af0);}(a14_0x2b94,0x135));var a14_0x5087=function(_0x34e0c2,_0x39dac8){_0x34e0c2=_0x34e0c2-0x0;var _0x44038f=a14_0x2b94[_0x34e0c2];return _0x44038f;};'use strict';Object[a14_0x5087('0x0')](exports,a14_0x5087('0x1'),{'value':!![]});const stationSettings_1=require(a14_0x5087('0x2'));class CountingWebSocketService{constructor(){this['eventCounter']=0x0;}['init'](){console[a14_0x5087('0x3')](a14_0x5087('0x4'));this[a14_0x5087('0x5')]();}[a14_0x5087('0x5')](){const _0x28680c=require('ws');const _0x495756=new _0x28680c(stationSettings_1[a14_0x5087('0x6')][a14_0x5087('0x7')][a14_0x5087('0x8')]);_0x495756['on'](a14_0x5087('0x9'),function open(){console['log'](a14_0x5087('0xa')+stationSettings_1['StationContext'][a14_0x5087('0x7')][a14_0x5087('0x8')]);this['eventCounter']=0x0;});_0x495756['on'](a14_0x5087('0xb'),this[a14_0x5087('0xc')]['bind'](this));_0x495756['on']('message',this['incoming'][a14_0x5087('0xd')](this));}['incoming'](_0x33a6fe){const _0x4de37c=JSON[a14_0x5087('0xe')](_0x33a6fe);if(_0x4de37c['Data']==null||_0x4de37c[a14_0x5087('0xf')][a14_0x5087('0x10')]==0x0){_0x33a6fe=JSON['parse'](a14_0x5087('0x11'));}if(_0x4de37c[a14_0x5087('0xf')]!=null&&_0x4de37c['Data'][a14_0x5087('0x10')]>0x0){this[a14_0x5087('0x12')](_0x4de37c['Data'][0x0]);}}[a14_0x5087('0xc')](_0x2f3e40){console[a14_0x5087('0xb')](_0x2f3e40);setTimeout(function(){this[a14_0x5087('0x5')]();}[a14_0x5087('0xd')](this),0x1388);}}exports[a14_0x5087('0x13')]=CountingWebSocketService;
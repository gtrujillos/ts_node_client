var a14_0x5581=['init\x20CountingWebSocket','createWebSocket','settings','cameraSocket','open','Websocket\x20opened:','StationContext','error','onError','message','bind','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','__esModule','../infrastructure/stationSettings','eventCounter','init','log'];(function(_0x8c4a7a,_0x2ea076){var _0x575636=function(_0x1b973f){while(--_0x1b973f){_0x8c4a7a['push'](_0x8c4a7a['shift']());}};_0x575636(++_0x2ea076);}(a14_0x5581,0x175));var a14_0x4406=function(_0x4b4f87,_0x39c793){_0x4b4f87=_0x4b4f87-0x0;var _0xd1487d=a14_0x5581[_0x4b4f87];return _0xd1487d;};'use strict';Object['defineProperty'](exports,a14_0x4406('0x0'),{'value':!![]});const stationSettings_1=require(a14_0x4406('0x1'));class CountingWebSocketService{constructor(){this[a14_0x4406('0x2')]=0x0;}[a14_0x4406('0x3')](){console[a14_0x4406('0x4')](a14_0x4406('0x5'));this[a14_0x4406('0x6')]();}[a14_0x4406('0x6')](){const _0x1fc53c=require('ws');const _0x5e3b8d=new _0x1fc53c(stationSettings_1['StationContext'][a14_0x4406('0x7')][a14_0x4406('0x8')]);_0x5e3b8d['on'](a14_0x4406('0x9'),function open(){console[a14_0x4406('0x4')](a14_0x4406('0xa')+stationSettings_1[a14_0x4406('0xb')][a14_0x4406('0x7')]['cameraSocket']);this['eventCounter']=0x0;});_0x5e3b8d['on'](a14_0x4406('0xc'),this[a14_0x4406('0xd')]['bind'](this));_0x5e3b8d['on'](a14_0x4406('0xe'),this['incoming'][a14_0x4406('0xf')](this));}['incoming'](_0x5d5808){const _0x2974ae=JSON[a14_0x4406('0x10')](_0x5d5808);if(_0x2974ae[a14_0x4406('0x11')]==null||_0x2974ae['Data'][a14_0x4406('0x12')]==0x0){_0x5d5808=JSON[a14_0x4406('0x10')](a14_0x4406('0x13'));}if(_0x2974ae[a14_0x4406('0x11')]!=null&&_0x2974ae[a14_0x4406('0x11')][a14_0x4406('0x12')]>0x0){this[a14_0x4406('0x14')](_0x2974ae['Data'][0x0]);}}['onError'](_0x1227ef){console[a14_0x4406('0xc')](_0x1227ef);setTimeout(function(){this[a14_0x4406('0x6')]();}[a14_0x4406('0xf')](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
var a16_0x1610=['eventCounter','init','log','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket','open','Websocket\x20opened:','error','onError','incoming','bind','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','CountingWebSocketService','__esModule','../infrastructure/stationSettings'];(function(_0x3a6262,_0x3347ef){var _0x365b24=function(_0x41f8fd){while(--_0x41f8fd){_0x3a6262['push'](_0x3a6262['shift']());}};_0x365b24(++_0x3347ef);}(a16_0x1610,0x18a));var a16_0x5650=function(_0x39e331,_0x2e2982){_0x39e331=_0x39e331-0x0;var _0x16b3d0=a16_0x1610[_0x39e331];return _0x16b3d0;};'use strict';Object['defineProperty'](exports,a16_0x5650('0x0'),{'value':!![]});const stationSettings_1=require(a16_0x5650('0x1'));class CountingWebSocketService{constructor(){this[a16_0x5650('0x2')]=0x0;}[a16_0x5650('0x3')](){console[a16_0x5650('0x4')](a16_0x5650('0x5'));this[a16_0x5650('0x6')]();}['createWebSocket'](){const _0x85d280=require('ws');const _0x3f8ea3=new _0x85d280(stationSettings_1[a16_0x5650('0x7')][a16_0x5650('0x8')][a16_0x5650('0x9')]);_0x3f8ea3['on'](a16_0x5650('0xa'),function open(){console[a16_0x5650('0x4')](a16_0x5650('0xb')+stationSettings_1[a16_0x5650('0x7')]['settings'][a16_0x5650('0x9')]);this[a16_0x5650('0x2')]=0x0;});_0x3f8ea3['on'](a16_0x5650('0xc'),this[a16_0x5650('0xd')]['bind'](this));_0x3f8ea3['on']('message',this[a16_0x5650('0xe')][a16_0x5650('0xf')](this));}[a16_0x5650('0xe')](_0x42c1ca){const _0x4c1cbb=JSON[a16_0x5650('0x10')](_0x42c1ca);if(_0x4c1cbb[a16_0x5650('0x11')]==null||_0x4c1cbb[a16_0x5650('0x11')][a16_0x5650('0x12')]==0x0){_0x42c1ca=JSON[a16_0x5650('0x10')](a16_0x5650('0x13'));}if(_0x4c1cbb[a16_0x5650('0x11')]!=null&&_0x4c1cbb[a16_0x5650('0x11')][a16_0x5650('0x12')]>0x0){this[a16_0x5650('0x14')](_0x4c1cbb[a16_0x5650('0x11')][0x0]);}}[a16_0x5650('0xd')](_0x18eec5){console[a16_0x5650('0xc')](_0x18eec5);setTimeout(function(){this[a16_0x5650('0x6')]();}[a16_0x5650('0xf')](this),0x1388);}}exports[a16_0x5650('0x15')]=CountingWebSocketService;
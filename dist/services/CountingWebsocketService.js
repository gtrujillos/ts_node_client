var a14_0x1b94=['{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','error','CountingWebSocketService','defineProperty','__esModule','eventCounter','createWebSocket','log','init\x20CountingWebSocket','StationContext','settings','cameraSocket','Websocket\x20opened:','onError','bind','message','incoming','parse','Data','length'];(function(_0x69a2b3,_0x354cc7){var _0x3c79f4=function(_0x2cb929){while(--_0x2cb929){_0x69a2b3['push'](_0x69a2b3['shift']());}};_0x3c79f4(++_0x354cc7);}(a14_0x1b94,0x1d2));var a14_0x25bd=function(_0x2d6c07,_0x29e4c3){_0x2d6c07=_0x2d6c07-0x0;var _0x22112a=a14_0x1b94[_0x2d6c07];return _0x22112a;};'use strict';Object[a14_0x25bd('0x0')](exports,a14_0x25bd('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class CountingWebSocketService{constructor(){this[a14_0x25bd('0x2')]=0x0;}['init'](){this[a14_0x25bd('0x3')]();console[a14_0x25bd('0x4')](a14_0x25bd('0x5'));}[a14_0x25bd('0x3')](){const _0xb2a34e=require('ws');const _0x40fe22=new _0xb2a34e(stationSettings_1[a14_0x25bd('0x6')][a14_0x25bd('0x7')][a14_0x25bd('0x8')]);_0x40fe22['on']('open',function open(){console['log'](a14_0x25bd('0x9')+stationSettings_1[a14_0x25bd('0x6')][a14_0x25bd('0x7')][a14_0x25bd('0x8')]);this[a14_0x25bd('0x2')]=0x0;});_0x40fe22['on']('error',this[a14_0x25bd('0xa')][a14_0x25bd('0xb')](this));_0x40fe22['on'](a14_0x25bd('0xc'),this['incoming'][a14_0x25bd('0xb')](this));}[a14_0x25bd('0xd')](_0xc4faac){const _0x5174dc=JSON[a14_0x25bd('0xe')](_0xc4faac);if(_0x5174dc[a14_0x25bd('0xf')]==null||_0x5174dc[a14_0x25bd('0xf')][a14_0x25bd('0x10')]==0x0){_0xc4faac=JSON[a14_0x25bd('0xe')](a14_0x25bd('0x11'));}if(_0x5174dc[a14_0x25bd('0xf')]!=null&&_0x5174dc[a14_0x25bd('0xf')]['length']>0x0){this[a14_0x25bd('0x12')](_0x5174dc[a14_0x25bd('0xf')][0x0]);}}[a14_0x25bd('0xa')](_0x1dd11b){console[a14_0x25bd('0x13')](_0x1dd11b);setTimeout(function(){this[a14_0x25bd('0x3')]();}[a14_0x25bd('0xb')](this),0x1388);}}exports[a14_0x25bd('0x14')]=CountingWebSocketService;
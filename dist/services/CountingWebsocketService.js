var a14_0x335b=['settings','cameraSocket','open','Websocket\x20opened:','error','onError','bind','message','incoming','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','CountingWebSocketService','defineProperty','__esModule','../infrastructure/stationSettings','eventCounter','init','log','init\x20CountingWebSocket','createWebSocket','StationContext'];(function(_0x48bd7e,_0x37cd51){var _0x2e5445=function(_0x458e11){while(--_0x458e11){_0x48bd7e['push'](_0x48bd7e['shift']());}};_0x2e5445(++_0x37cd51);}(a14_0x335b,0x195));var a14_0x2df0=function(_0x23fbc2,_0x570453){_0x23fbc2=_0x23fbc2-0x0;var _0x1849dd=a14_0x335b[_0x23fbc2];return _0x1849dd;};'use strict';Object[a14_0x2df0('0x0')](exports,a14_0x2df0('0x1'),{'value':!![]});const stationSettings_1=require(a14_0x2df0('0x2'));class CountingWebSocketService{constructor(){this[a14_0x2df0('0x3')]=0x0;}[a14_0x2df0('0x4')](){console[a14_0x2df0('0x5')](a14_0x2df0('0x6'));this[a14_0x2df0('0x7')]();}[a14_0x2df0('0x7')](){const _0x516979=require('ws');const _0x38f60e=new _0x516979(stationSettings_1[a14_0x2df0('0x8')][a14_0x2df0('0x9')][a14_0x2df0('0xa')]);_0x38f60e['on'](a14_0x2df0('0xb'),function open(){console[a14_0x2df0('0x5')](a14_0x2df0('0xc')+stationSettings_1['StationContext']['settings'][a14_0x2df0('0xa')]);this[a14_0x2df0('0x3')]=0x0;});_0x38f60e['on'](a14_0x2df0('0xd'),this[a14_0x2df0('0xe')][a14_0x2df0('0xf')](this));_0x38f60e['on'](a14_0x2df0('0x10'),this[a14_0x2df0('0x11')]['bind'](this));}[a14_0x2df0('0x11')](_0x267746){const _0x1aab13=JSON['parse'](_0x267746);if(_0x1aab13['Data']==null||_0x1aab13[a14_0x2df0('0x12')][a14_0x2df0('0x13')]==0x0){_0x267746=JSON['parse'](a14_0x2df0('0x14'));}if(_0x1aab13[a14_0x2df0('0x12')]!=null&&_0x1aab13[a14_0x2df0('0x12')][a14_0x2df0('0x13')]>0x0){this[a14_0x2df0('0x15')](_0x1aab13[a14_0x2df0('0x12')][0x0]);}}[a14_0x2df0('0xe')](_0x5b829e){console['error'](_0x5b829e);setTimeout(function(){this[a14_0x2df0('0x7')]();}['bind'](this),0x1388);}}exports[a14_0x2df0('0x16')]=CountingWebSocketService;
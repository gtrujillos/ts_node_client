var a14_0x2a3e=['error','bind','message','incoming','parse','Data','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','onError','defineProperty','__esModule','../infrastructure/stationSettings','init','createWebSocket','log','init\x20CountingWebSocket','StationContext','settings','Websocket\x20opened:','cameraSocket','eventCounter'];(function(_0x407f08,_0x3f7b41){var _0x5152d5=function(_0xbd6a58){while(--_0xbd6a58){_0x407f08['push'](_0x407f08['shift']());}};_0x5152d5(++_0x3f7b41);}(a14_0x2a3e,0xb1));var a14_0x2e77=function(_0x28180c,_0x4c1cbe){_0x28180c=_0x28180c-0x0;var _0x1d5586=a14_0x2a3e[_0x28180c];return _0x1d5586;};'use strict';Object[a14_0x2e77('0x0')](exports,a14_0x2e77('0x1'),{'value':!![]});const stationSettings_1=require(a14_0x2e77('0x2'));class CountingWebSocketService{constructor(){this['eventCounter']=0x0;}[a14_0x2e77('0x3')](){this[a14_0x2e77('0x4')]();console[a14_0x2e77('0x5')](a14_0x2e77('0x6'));}['createWebSocket'](){const _0x448990=require('ws');const _0xb2b1bd=new _0x448990(stationSettings_1[a14_0x2e77('0x7')][a14_0x2e77('0x8')]['cameraSocket']);_0xb2b1bd['on']('open',function open(){console['log'](a14_0x2e77('0x9')+stationSettings_1['StationContext'][a14_0x2e77('0x8')][a14_0x2e77('0xa')]);this[a14_0x2e77('0xb')]=0x0;});_0xb2b1bd['on'](a14_0x2e77('0xc'),this['onError'][a14_0x2e77('0xd')](this));_0xb2b1bd['on'](a14_0x2e77('0xe'),this[a14_0x2e77('0xf')][a14_0x2e77('0xd')](this));}['incoming'](_0xa32b7d){const _0x678a98=JSON[a14_0x2e77('0x10')](_0xa32b7d);if(_0x678a98[a14_0x2e77('0x11')]==null||_0x678a98[a14_0x2e77('0x11')]['length']==0x0){_0xa32b7d=JSON['parse'](a14_0x2e77('0x12'));}if(_0x678a98[a14_0x2e77('0x11')]!=null&&_0x678a98[a14_0x2e77('0x11')]['length']>0x0){this[a14_0x2e77('0x13')](_0x678a98[a14_0x2e77('0x11')][0x0]);}}[a14_0x2e77('0x14')](_0x21f12d){console[a14_0x2e77('0xc')](_0x21f12d);setTimeout(function(){this[a14_0x2e77('0x4')]();}[a14_0x2e77('0xd')](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
var a16_0x4d35=['open','Websocket\x20opened:','eventCounter','onError','bind','message','incoming','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','error','defineProperty','__esModule','../infrastructure/stationSettings','init','log','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket'];(function(_0x349e1d,_0x9a01e0){var _0x16e285=function(_0x1439a6){while(--_0x1439a6){_0x349e1d['push'](_0x349e1d['shift']());}};_0x16e285(++_0x9a01e0);}(a16_0x4d35,0x1ae));var a16_0x1b1a=function(_0x458d88,_0x5798e7){_0x458d88=_0x458d88-0x0;var _0x482657=a16_0x4d35[_0x458d88];return _0x482657;};'use strict';Object[a16_0x1b1a('0x0')](exports,a16_0x1b1a('0x1'),{'value':!![]});const stationSettings_1=require(a16_0x1b1a('0x2'));class CountingWebSocketService{constructor(){this['eventCounter']=0x0;}[a16_0x1b1a('0x3')](){console[a16_0x1b1a('0x4')](a16_0x1b1a('0x5'));this[a16_0x1b1a('0x6')]();}[a16_0x1b1a('0x6')](){const _0x12d5be=require('ws');const _0x13fa02=new _0x12d5be(stationSettings_1[a16_0x1b1a('0x7')][a16_0x1b1a('0x8')][a16_0x1b1a('0x9')]);_0x13fa02['on'](a16_0x1b1a('0xa'),function open(){console[a16_0x1b1a('0x4')](a16_0x1b1a('0xb')+stationSettings_1[a16_0x1b1a('0x7')]['settings'][a16_0x1b1a('0x9')]);this[a16_0x1b1a('0xc')]=0x0;});_0x13fa02['on']('error',this[a16_0x1b1a('0xd')][a16_0x1b1a('0xe')](this));_0x13fa02['on'](a16_0x1b1a('0xf'),this['incoming']['bind'](this));}[a16_0x1b1a('0x10')](_0x358bd6){const _0x484e66=JSON['parse'](_0x358bd6);if(_0x484e66[a16_0x1b1a('0x11')]==null||_0x484e66[a16_0x1b1a('0x11')][a16_0x1b1a('0x12')]==0x0){_0x358bd6=JSON['parse'](a16_0x1b1a('0x13'));}if(_0x484e66[a16_0x1b1a('0x11')]!=null&&_0x484e66[a16_0x1b1a('0x11')][a16_0x1b1a('0x12')]>0x0){this[a16_0x1b1a('0x14')](_0x484e66[a16_0x1b1a('0x11')][0x0]);}}[a16_0x1b1a('0xd')](_0x2edea7){console[a16_0x1b1a('0x15')](_0x2edea7);setTimeout(function(){this['createWebSocket']();}[a16_0x1b1a('0xe')](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
var a14_0x38b3=['Websocket\x20opened:','eventCounter','onError','message','incoming','bind','parse','Data','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','error','CountingWebSocketService','defineProperty','__esModule','log','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket','open'];(function(_0x28a640,_0x5e4611){var _0x517bc9=function(_0x543dbc){while(--_0x543dbc){_0x28a640['push'](_0x28a640['shift']());}};_0x517bc9(++_0x5e4611);}(a14_0x38b3,0xb4));var a14_0x51a8=function(_0x2da6e1,_0xa9e012){_0x2da6e1=_0x2da6e1-0x0;var _0x5e652e=a14_0x38b3[_0x2da6e1];return _0x5e652e;};'use strict';Object[a14_0x51a8('0x0')](exports,a14_0x51a8('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class CountingWebSocketService{constructor(){this['eventCounter']=0x0;}['init'](){console[a14_0x51a8('0x2')](a14_0x51a8('0x3'));this[a14_0x51a8('0x4')]();}[a14_0x51a8('0x4')](){const _0x2f58e3=require('ws');const _0x304ab5=new _0x2f58e3(stationSettings_1[a14_0x51a8('0x5')][a14_0x51a8('0x6')][a14_0x51a8('0x7')]);_0x304ab5['on'](a14_0x51a8('0x8'),function open(){console[a14_0x51a8('0x2')](a14_0x51a8('0x9')+stationSettings_1['StationContext'][a14_0x51a8('0x6')][a14_0x51a8('0x7')]);this[a14_0x51a8('0xa')]=0x0;});_0x304ab5['on']('error',this[a14_0x51a8('0xb')]['bind'](this));_0x304ab5['on'](a14_0x51a8('0xc'),this[a14_0x51a8('0xd')][a14_0x51a8('0xe')](this));}[a14_0x51a8('0xd')](_0x3c9976){const _0x481a08=JSON[a14_0x51a8('0xf')](_0x3c9976);if(_0x481a08['Data']==null||_0x481a08[a14_0x51a8('0x10')]['length']==0x0){_0x3c9976=JSON[a14_0x51a8('0xf')](a14_0x51a8('0x11'));}if(_0x481a08[a14_0x51a8('0x10')]!=null&&_0x481a08[a14_0x51a8('0x10')]['length']>0x0){this[a14_0x51a8('0x12')](_0x481a08['Data'][0x0]);}}['onError'](_0x38fff9){console[a14_0x51a8('0x13')](_0x38fff9);setTimeout(function(){this['createWebSocket']();}[a14_0x51a8('0xe')](this),0x1388);}}exports[a14_0x51a8('0x14')]=CountingWebSocketService;
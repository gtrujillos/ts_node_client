var a14_0x1ee5=['init','log','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket','open','Websocket\x20opened:','error','onError','bind','message','incoming','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','CountingWebSocketService','defineProperty','__esModule','../infrastructure/stationSettings','eventCounter'];(function(_0x573056,_0x6d4315){var _0x1a3737=function(_0x2aa630){while(--_0x2aa630){_0x573056['push'](_0x573056['shift']());}};_0x1a3737(++_0x6d4315);}(a14_0x1ee5,0x183));var a14_0x5e88=function(_0x3f91d9,_0x1ebcc1){_0x3f91d9=_0x3f91d9-0x0;var _0x127524=a14_0x1ee5[_0x3f91d9];return _0x127524;};'use strict';Object[a14_0x5e88('0x0')](exports,a14_0x5e88('0x1'),{'value':!![]});const stationSettings_1=require(a14_0x5e88('0x2'));class CountingWebSocketService{constructor(){this[a14_0x5e88('0x3')]=0x0;}[a14_0x5e88('0x4')](){console[a14_0x5e88('0x5')](a14_0x5e88('0x6'));this[a14_0x5e88('0x7')]();}[a14_0x5e88('0x7')](){const _0x8e34fd=require('ws');const _0x1e7573=new _0x8e34fd(stationSettings_1[a14_0x5e88('0x8')][a14_0x5e88('0x9')][a14_0x5e88('0xa')]);_0x1e7573['on'](a14_0x5e88('0xb'),function open(){console[a14_0x5e88('0x5')](a14_0x5e88('0xc')+stationSettings_1[a14_0x5e88('0x8')][a14_0x5e88('0x9')]['cameraSocket']);this[a14_0x5e88('0x3')]=0x0;});_0x1e7573['on'](a14_0x5e88('0xd'),this[a14_0x5e88('0xe')][a14_0x5e88('0xf')](this));_0x1e7573['on'](a14_0x5e88('0x10'),this[a14_0x5e88('0x11')][a14_0x5e88('0xf')](this));}['incoming'](_0x2c2c11){const _0x2c5ad6=JSON[a14_0x5e88('0x12')](_0x2c2c11);if(_0x2c5ad6[a14_0x5e88('0x13')]==null||_0x2c5ad6[a14_0x5e88('0x13')][a14_0x5e88('0x14')]==0x0){_0x2c2c11=JSON['parse'](a14_0x5e88('0x15'));}if(_0x2c5ad6[a14_0x5e88('0x13')]!=null&&_0x2c5ad6[a14_0x5e88('0x13')][a14_0x5e88('0x14')]>0x0){this['createEvent'](_0x2c5ad6[a14_0x5e88('0x13')][0x0]);}}[a14_0x5e88('0xe')](_0x27aabc){console[a14_0x5e88('0xd')](_0x27aabc);setTimeout(function(){this[a14_0x5e88('0x7')]();}['bind'](this),0x1388);}}exports[a14_0x5e88('0x16')]=CountingWebSocketService;
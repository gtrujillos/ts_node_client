var a14_0x894c=['open','Websocket\x20opened:','StationContext','settings','error','onError','bind','message','incoming','Data','parse','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','CountingWebSocketService','defineProperty','../infrastructure/stationSettings','eventCounter','init','log','cameraSocket'];(function(_0x2b3d75,_0x57bc22){var _0x2452c9=function(_0x33e159){while(--_0x33e159){_0x2b3d75['push'](_0x2b3d75['shift']());}};_0x2452c9(++_0x57bc22);}(a14_0x894c,0x1c6));var a14_0x3c27=function(_0x28202e,_0x153345){_0x28202e=_0x28202e-0x0;var _0x43e9ef=a14_0x894c[_0x28202e];return _0x43e9ef;};'use strict';Object[a14_0x3c27('0x0')](exports,'__esModule',{'value':!![]});const stationSettings_1=require(a14_0x3c27('0x1'));class CountingWebSocketService{constructor(){this[a14_0x3c27('0x2')]=0x0;}[a14_0x3c27('0x3')](){console[a14_0x3c27('0x4')]('init\x20CountingWebSocket');this['createWebSocket']();}['createWebSocket'](){const _0x5e8105=require('ws');const _0x377d33=new _0x5e8105(stationSettings_1['StationContext']['settings'][a14_0x3c27('0x5')]);_0x377d33['on'](a14_0x3c27('0x6'),function open(){console[a14_0x3c27('0x4')](a14_0x3c27('0x7')+stationSettings_1[a14_0x3c27('0x8')][a14_0x3c27('0x9')][a14_0x3c27('0x5')]);this['eventCounter']=0x0;});_0x377d33['on'](a14_0x3c27('0xa'),this[a14_0x3c27('0xb')][a14_0x3c27('0xc')](this));_0x377d33['on'](a14_0x3c27('0xd'),this[a14_0x3c27('0xe')][a14_0x3c27('0xc')](this));}['incoming'](_0x5b30a7){const _0x56aad0=JSON['parse'](_0x5b30a7);if(_0x56aad0[a14_0x3c27('0xf')]==null||_0x56aad0[a14_0x3c27('0xf')]['length']==0x0){_0x5b30a7=JSON[a14_0x3c27('0x10')](a14_0x3c27('0x11'));}if(_0x56aad0[a14_0x3c27('0xf')]!=null&&_0x56aad0[a14_0x3c27('0xf')]['length']>0x0){this[a14_0x3c27('0x12')](_0x56aad0[a14_0x3c27('0xf')][0x0]);}}[a14_0x3c27('0xb')](_0x256bab){console[a14_0x3c27('0xa')](_0x256bab);setTimeout(function(){this['createWebSocket']();}[a14_0x3c27('0xc')](this),0x1388);}}exports[a14_0x3c27('0x13')]=CountingWebSocketService;
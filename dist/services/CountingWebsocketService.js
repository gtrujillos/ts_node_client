var a14_0x26e4=['incoming','parse','Data','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','length','CountingWebSocketService','../infrastructure/stationSettings','eventCounter','init','init\x20CountingWebSocket','createWebSocket','StationContext','cameraSocket','open','log','Websocket\x20opened:','error','onError','bind','message'];(function(_0x3cdf26,_0x36950f){var _0x132ba8=function(_0x9594c){while(--_0x9594c){_0x3cdf26['push'](_0x3cdf26['shift']());}};_0x132ba8(++_0x36950f);}(a14_0x26e4,0x146));var a14_0x272b=function(_0x5e36c7,_0x5851c3){_0x5e36c7=_0x5e36c7-0x0;var _0x23ebc2=a14_0x26e4[_0x5e36c7];return _0x23ebc2;};'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]});const stationSettings_1=require(a14_0x272b('0x0'));class CountingWebSocketService{constructor(){this[a14_0x272b('0x1')]=0x0;}[a14_0x272b('0x2')](){console['log'](a14_0x272b('0x3'));this[a14_0x272b('0x4')]();}[a14_0x272b('0x4')](){const _0x3a8b2b=require('ws');const _0xe09e95=new _0x3a8b2b(stationSettings_1[a14_0x272b('0x5')]['settings'][a14_0x272b('0x6')]);_0xe09e95['on'](a14_0x272b('0x7'),function open(){console[a14_0x272b('0x8')](a14_0x272b('0x9')+stationSettings_1[a14_0x272b('0x5')]['settings'][a14_0x272b('0x6')]);this[a14_0x272b('0x1')]=0x0;});_0xe09e95['on'](a14_0x272b('0xa'),this[a14_0x272b('0xb')][a14_0x272b('0xc')](this));_0xe09e95['on'](a14_0x272b('0xd'),this[a14_0x272b('0xe')]['bind'](this));}[a14_0x272b('0xe')](_0x104936){const _0x265677=JSON[a14_0x272b('0xf')](_0x104936);if(_0x265677[a14_0x272b('0x10')]==null||_0x265677[a14_0x272b('0x10')]['length']==0x0){_0x104936=JSON[a14_0x272b('0xf')](a14_0x272b('0x11'));}if(_0x265677[a14_0x272b('0x10')]!=null&&_0x265677['Data'][a14_0x272b('0x12')]>0x0){this['createEvent'](_0x265677['Data'][0x0]);}}['onError'](_0x1e3073){console['error'](_0x1e3073);setTimeout(function(){this[a14_0x272b('0x4')]();}['bind'](this),0x1388);}}exports[a14_0x272b('0x13')]=CountingWebSocketService;
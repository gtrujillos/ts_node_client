var a14_0x4a82=['createWebSocket','StationContext','settings','cameraSocket','open','Websocket\x20opened:','error','onError','message','incoming','bind','Data','length','parse','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','defineProperty','__esModule','eventCounter','log'];(function(_0x5507f1,_0x9507f1){var _0x1c7d24=function(_0x104198){while(--_0x104198){_0x5507f1['push'](_0x5507f1['shift']());}};_0x1c7d24(++_0x9507f1);}(a14_0x4a82,0x100));var a14_0x4446=function(_0x4fb800,_0x3afdae){_0x4fb800=_0x4fb800-0x0;var _0x3fcfe5=a14_0x4a82[_0x4fb800];return _0x3fcfe5;};'use strict';Object[a14_0x4446('0x0')](exports,a14_0x4446('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class CountingWebSocketService{constructor(){this[a14_0x4446('0x2')]=0x0;}['init'](){this['createWebSocket']();console[a14_0x4446('0x3')]('init\x20CountingWebSocket');}[a14_0x4446('0x4')](){const _0x526a08=require('ws');const _0x2e7cd8=new _0x526a08(stationSettings_1[a14_0x4446('0x5')][a14_0x4446('0x6')][a14_0x4446('0x7')]);_0x2e7cd8['on'](a14_0x4446('0x8'),function open(){console['log'](a14_0x4446('0x9')+stationSettings_1[a14_0x4446('0x5')][a14_0x4446('0x6')][a14_0x4446('0x7')]);this['eventCounter']=0x0;});_0x2e7cd8['on'](a14_0x4446('0xa'),this[a14_0x4446('0xb')]['bind'](this));_0x2e7cd8['on'](a14_0x4446('0xc'),this[a14_0x4446('0xd')][a14_0x4446('0xe')](this));}[a14_0x4446('0xd')](_0x254212){const _0x2f2772=JSON['parse'](_0x254212);if(_0x2f2772[a14_0x4446('0xf')]==null||_0x2f2772['Data'][a14_0x4446('0x10')]==0x0){_0x254212=JSON[a14_0x4446('0x11')](a14_0x4446('0x12'));}if(_0x2f2772['Data']!=null&&_0x2f2772['Data'][a14_0x4446('0x10')]>0x0){this[a14_0x4446('0x13')](_0x2f2772[a14_0x4446('0xf')][0x0]);}}[a14_0x4446('0xb')](_0x32112f){console['error'](_0x32112f);setTimeout(function(){this[a14_0x4446('0x4')]();}[a14_0x4446('0xe')](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
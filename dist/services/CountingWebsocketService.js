var a14_0x1c0e=['../infrastructure/stationSettings','eventCounter','init','createWebSocket','log','init\x20CountingWebSocket','StationContext','cameraSocket','open','onError','bind','incoming','Data','length','parse','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','CountingWebSocketService','defineProperty','__esModule'];(function(_0x57712a,_0x423ff7){var _0x126498=function(_0x4c0ac1){while(--_0x4c0ac1){_0x57712a['push'](_0x57712a['shift']());}};_0x126498(++_0x423ff7);}(a14_0x1c0e,0x1f2));var a14_0x56f1=function(_0x2d6b06,_0x1e6e60){_0x2d6b06=_0x2d6b06-0x0;var _0x1377be=a14_0x1c0e[_0x2d6b06];return _0x1377be;};'use strict';Object[a14_0x56f1('0x0')](exports,a14_0x56f1('0x1'),{'value':!![]});const stationSettings_1=require(a14_0x56f1('0x2'));class CountingWebSocketService{constructor(){this[a14_0x56f1('0x3')]=0x0;}[a14_0x56f1('0x4')](){this[a14_0x56f1('0x5')]();console[a14_0x56f1('0x6')](a14_0x56f1('0x7'));}[a14_0x56f1('0x5')](){const _0x485586=require('ws');const _0x1baa1a=new _0x485586(stationSettings_1[a14_0x56f1('0x8')]['settings'][a14_0x56f1('0x9')]);_0x1baa1a['on'](a14_0x56f1('0xa'),function open(){console[a14_0x56f1('0x6')]('Websocket\x20opened:'+stationSettings_1[a14_0x56f1('0x8')]['settings'][a14_0x56f1('0x9')]);this[a14_0x56f1('0x3')]=0x0;});_0x1baa1a['on']('error',this[a14_0x56f1('0xb')][a14_0x56f1('0xc')](this));_0x1baa1a['on']('message',this[a14_0x56f1('0xd')][a14_0x56f1('0xc')](this));}[a14_0x56f1('0xd')](_0x1c97d0){const _0x13ff86=JSON['parse'](_0x1c97d0);if(_0x13ff86[a14_0x56f1('0xe')]==null||_0x13ff86[a14_0x56f1('0xe')][a14_0x56f1('0xf')]==0x0){_0x1c97d0=JSON[a14_0x56f1('0x10')](a14_0x56f1('0x11'));}if(_0x13ff86[a14_0x56f1('0xe')]!=null&&_0x13ff86[a14_0x56f1('0xe')][a14_0x56f1('0xf')]>0x0){this[a14_0x56f1('0x12')](_0x13ff86[a14_0x56f1('0xe')][0x0]);}}[a14_0x56f1('0xb')](_0x5acde7){console['error'](_0x5acde7);setTimeout(function(){this['createWebSocket']();}[a14_0x56f1('0xc')](this),0x1388);}}exports[a14_0x56f1('0x13')]=CountingWebSocketService;
var a14_0x1338=['onError','bind','message','incoming','Data','parse','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','error','CountingWebSocketService','defineProperty','__esModule','../infrastructure/stationSettings','eventCounter','init','log','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket','open','Websocket\x20opened:'];(function(_0x1c459d,_0x312b2d){var _0x4c16ee=function(_0x3d4639){while(--_0x3d4639){_0x1c459d['push'](_0x1c459d['shift']());}};_0x4c16ee(++_0x312b2d);}(a14_0x1338,0x127));var a14_0x143c=function(_0x45cc86,_0x3d4629){_0x45cc86=_0x45cc86-0x0;var _0x273968=a14_0x1338[_0x45cc86];return _0x273968;};'use strict';Object[a14_0x143c('0x0')](exports,a14_0x143c('0x1'),{'value':!![]});const stationSettings_1=require(a14_0x143c('0x2'));class CountingWebSocketService{constructor(){this[a14_0x143c('0x3')]=0x0;}[a14_0x143c('0x4')](){console[a14_0x143c('0x5')](a14_0x143c('0x6'));this[a14_0x143c('0x7')]();}[a14_0x143c('0x7')](){const _0x2445ab=require('ws');const _0x2ef69c=new _0x2445ab(stationSettings_1[a14_0x143c('0x8')][a14_0x143c('0x9')][a14_0x143c('0xa')]);_0x2ef69c['on'](a14_0x143c('0xb'),function open(){console[a14_0x143c('0x5')](a14_0x143c('0xc')+stationSettings_1['StationContext'][a14_0x143c('0x9')][a14_0x143c('0xa')]);this['eventCounter']=0x0;});_0x2ef69c['on']('error',this[a14_0x143c('0xd')][a14_0x143c('0xe')](this));_0x2ef69c['on'](a14_0x143c('0xf'),this[a14_0x143c('0x10')][a14_0x143c('0xe')](this));}[a14_0x143c('0x10')](_0xef584f){const _0x3ed592=JSON['parse'](_0xef584f);if(_0x3ed592[a14_0x143c('0x11')]==null||_0x3ed592[a14_0x143c('0x11')]['length']==0x0){_0xef584f=JSON[a14_0x143c('0x12')](a14_0x143c('0x13'));}if(_0x3ed592[a14_0x143c('0x11')]!=null&&_0x3ed592[a14_0x143c('0x11')]['length']>0x0){this['createEvent'](_0x3ed592[a14_0x143c('0x11')][0x0]);}}[a14_0x143c('0xd')](_0x5c3035){console[a14_0x143c('0x14')](_0x5c3035);setTimeout(function(){this[a14_0x143c('0x7')]();}[a14_0x143c('0xe')](this),0x1388);}}exports[a14_0x143c('0x15')]=CountingWebSocketService;
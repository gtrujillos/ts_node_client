var a13_0x5e75=['cameraSocket','error','bind','incoming','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','CountingWebSocketService','__esModule','../infrastructure/stationSettings','eventCounter','init','createWebSocket','log','init\x20CountingWebSocket','StationContext','open','Websocket\x20opened:','settings'];(function(_0x2b9f6f,_0x19c403){var _0x1cfbec=function(_0x359b14){while(--_0x359b14){_0x2b9f6f['push'](_0x2b9f6f['shift']());}};_0x1cfbec(++_0x19c403);}(a13_0x5e75,0x1c3));var a13_0x2364=function(_0x51b111,_0x13e4d4){_0x51b111=_0x51b111-0x0;var _0x4b8c25=a13_0x5e75[_0x51b111];return _0x4b8c25;};'use strict';Object['defineProperty'](exports,a13_0x2364('0x0'),{'value':!![]});const stationSettings_1=require(a13_0x2364('0x1'));class CountingWebSocketService{constructor(){this[a13_0x2364('0x2')]=0x0;}[a13_0x2364('0x3')](){this[a13_0x2364('0x4')]();console[a13_0x2364('0x5')](a13_0x2364('0x6'));}['createWebSocket'](){const _0x24ffe7=require('ws');const _0x27526c=new _0x24ffe7(stationSettings_1[a13_0x2364('0x7')]['settings']['cameraSocket']);_0x27526c['on'](a13_0x2364('0x8'),function open(){console[a13_0x2364('0x5')](a13_0x2364('0x9')+stationSettings_1['StationContext'][a13_0x2364('0xa')][a13_0x2364('0xb')]);this[a13_0x2364('0x2')]=0x0;});_0x27526c['on'](a13_0x2364('0xc'),this['onError'][a13_0x2364('0xd')](this));_0x27526c['on']('message',this[a13_0x2364('0xe')]['bind'](this));}[a13_0x2364('0xe')](_0x456dd6){const _0x5d27c5=JSON[a13_0x2364('0xf')](_0x456dd6);if(_0x5d27c5[a13_0x2364('0x10')]==null||_0x5d27c5[a13_0x2364('0x10')][a13_0x2364('0x11')]==0x0){_0x456dd6=JSON[a13_0x2364('0xf')](a13_0x2364('0x12'));}if(_0x5d27c5[a13_0x2364('0x10')]!=null&&_0x5d27c5['Data'][a13_0x2364('0x11')]>0x0){this[a13_0x2364('0x13')](_0x5d27c5[a13_0x2364('0x10')][0x0]);}}['onError'](_0x5418a5){console[a13_0x2364('0xc')](_0x5418a5);setTimeout(function(){this[a13_0x2364('0x4')]();}['bind'](this),0x1388);}}exports[a13_0x2364('0x14')]=CountingWebSocketService;
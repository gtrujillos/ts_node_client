var a14_0x516c=['open','log','Websocket\x20opened:','bind','incoming','parse','Data','length','createEvent','onError','error','CountingWebSocketService','__esModule','../infrastructure/stationSettings','eventCounter','init','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket'];(function(_0x208691,_0x4088f4){var _0x170509=function(_0xe42485){while(--_0xe42485){_0x208691['push'](_0x208691['shift']());}};_0x170509(++_0x4088f4);}(a14_0x516c,0x8a));var a14_0x21e3=function(_0x5e621b,_0x4564e7){_0x5e621b=_0x5e621b-0x0;var _0x506cd7=a14_0x516c[_0x5e621b];return _0x506cd7;};'use strict';Object['defineProperty'](exports,a14_0x21e3('0x0'),{'value':!![]});const stationSettings_1=require(a14_0x21e3('0x1'));class CountingWebSocketService{constructor(){this[a14_0x21e3('0x2')]=0x0;}[a14_0x21e3('0x3')](){console['log'](a14_0x21e3('0x4'));this[a14_0x21e3('0x5')]();}['createWebSocket'](){const _0xdb7aba=require('ws');const _0x119a80=new _0xdb7aba(stationSettings_1[a14_0x21e3('0x6')][a14_0x21e3('0x7')][a14_0x21e3('0x8')]);_0x119a80['on'](a14_0x21e3('0x9'),function open(){console[a14_0x21e3('0xa')](a14_0x21e3('0xb')+stationSettings_1[a14_0x21e3('0x6')][a14_0x21e3('0x7')][a14_0x21e3('0x8')]);this[a14_0x21e3('0x2')]=0x0;});_0x119a80['on']('error',this['onError'][a14_0x21e3('0xc')](this));_0x119a80['on']('message',this[a14_0x21e3('0xd')][a14_0x21e3('0xc')](this));}[a14_0x21e3('0xd')](_0x5a69b3){const _0x1f2c31=JSON[a14_0x21e3('0xe')](_0x5a69b3);if(_0x1f2c31[a14_0x21e3('0xf')]==null||_0x1f2c31[a14_0x21e3('0xf')][a14_0x21e3('0x10')]==0x0){_0x5a69b3=JSON[a14_0x21e3('0xe')]('{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}');}if(_0x1f2c31[a14_0x21e3('0xf')]!=null&&_0x1f2c31[a14_0x21e3('0xf')][a14_0x21e3('0x10')]>0x0){this[a14_0x21e3('0x11')](_0x1f2c31['Data'][0x0]);}}[a14_0x21e3('0x12')](_0x306399){console[a14_0x21e3('0x13')](_0x306399);setTimeout(function(){this[a14_0x21e3('0x5')]();}[a14_0x21e3('0xc')](this),0x1388);}}exports[a14_0x21e3('0x14')]=CountingWebSocketService;
var a14_0x2b96=['Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','bind','defineProperty','__esModule','../infrastructure/stationSettings','init','log','init\x20CountingWebSocket','createWebSocket','StationContext','cameraSocket','open','Websocket\x20opened:','eventCounter','error','message','incoming','parse'];(function(_0x534037,_0x585bca){var _0x49108e=function(_0x337cc6){while(--_0x337cc6){_0x534037['push'](_0x534037['shift']());}};_0x49108e(++_0x585bca);}(a14_0x2b96,0x1d3));var a14_0x4336=function(_0x1df477,_0x10cf4b){_0x1df477=_0x1df477-0x0;var _0x24bc96=a14_0x2b96[_0x1df477];return _0x24bc96;};'use strict';Object[a14_0x4336('0x0')](exports,a14_0x4336('0x1'),{'value':!![]});const stationSettings_1=require(a14_0x4336('0x2'));class CountingWebSocketService{constructor(){this['eventCounter']=0x0;}[a14_0x4336('0x3')](){this['createWebSocket']();console[a14_0x4336('0x4')](a14_0x4336('0x5'));}[a14_0x4336('0x6')](){const _0x5d5e45=require('ws');const _0x1de66b=new _0x5d5e45(stationSettings_1[a14_0x4336('0x7')]['settings'][a14_0x4336('0x8')]);_0x1de66b['on'](a14_0x4336('0x9'),function open(){console['log'](a14_0x4336('0xa')+stationSettings_1[a14_0x4336('0x7')]['settings'][a14_0x4336('0x8')]);this[a14_0x4336('0xb')]=0x0;});_0x1de66b['on'](a14_0x4336('0xc'),this['onError']['bind'](this));_0x1de66b['on'](a14_0x4336('0xd'),this[a14_0x4336('0xe')]['bind'](this));}['incoming'](_0x4c817b){const _0x1bfb5b=JSON[a14_0x4336('0xf')](_0x4c817b);if(_0x1bfb5b[a14_0x4336('0x10')]==null||_0x1bfb5b[a14_0x4336('0x10')][a14_0x4336('0x11')]==0x0){_0x4c817b=JSON[a14_0x4336('0xf')](a14_0x4336('0x12'));}if(_0x1bfb5b['Data']!=null&&_0x1bfb5b[a14_0x4336('0x10')][a14_0x4336('0x11')]>0x0){this[a14_0x4336('0x13')](_0x1bfb5b[a14_0x4336('0x10')][0x0]);}}['onError'](_0x30016b){console[a14_0x4336('0xc')](_0x30016b);setTimeout(function(){this[a14_0x4336('0x6')]();}[a14_0x4336('0x14')](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
var a14_0x1817=['onError','bind','message','incoming','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','defineProperty','__esModule','../infrastructure/stationSettings','eventCounter','log','init\x20CountingWebSocket','createWebSocket','settings','cameraSocket','open','Websocket\x20opened:'];(function(_0x2badd4,_0x1735b2){var _0x8fdc88=function(_0x55c390){while(--_0x55c390){_0x2badd4['push'](_0x2badd4['shift']());}};_0x8fdc88(++_0x1735b2);}(a14_0x1817,0x1e3));var a14_0x5226=function(_0x23eae3,_0x5c9c51){_0x23eae3=_0x23eae3-0x0;var _0x5ef2fa=a14_0x1817[_0x23eae3];return _0x5ef2fa;};'use strict';Object[a14_0x5226('0x0')](exports,a14_0x5226('0x1'),{'value':!![]});const stationSettings_1=require(a14_0x5226('0x2'));class CountingWebSocketService{constructor(){this[a14_0x5226('0x3')]=0x0;}['init'](){console[a14_0x5226('0x4')](a14_0x5226('0x5'));this['createWebSocket']();}[a14_0x5226('0x6')](){const _0x11717a=require('ws');const _0x2640b7=new _0x11717a(stationSettings_1['StationContext'][a14_0x5226('0x7')][a14_0x5226('0x8')]);_0x2640b7['on'](a14_0x5226('0x9'),function open(){console[a14_0x5226('0x4')](a14_0x5226('0xa')+stationSettings_1['StationContext'][a14_0x5226('0x7')][a14_0x5226('0x8')]);this['eventCounter']=0x0;});_0x2640b7['on']('error',this[a14_0x5226('0xb')][a14_0x5226('0xc')](this));_0x2640b7['on'](a14_0x5226('0xd'),this[a14_0x5226('0xe')][a14_0x5226('0xc')](this));}[a14_0x5226('0xe')](_0x134ac4){const _0x23a718=JSON[a14_0x5226('0xf')](_0x134ac4);if(_0x23a718[a14_0x5226('0x10')]==null||_0x23a718[a14_0x5226('0x10')][a14_0x5226('0x11')]==0x0){_0x134ac4=JSON[a14_0x5226('0xf')](a14_0x5226('0x12'));}if(_0x23a718['Data']!=null&&_0x23a718[a14_0x5226('0x10')][a14_0x5226('0x11')]>0x0){this['createEvent'](_0x23a718['Data'][0x0]);}}[a14_0x5226('0xb')](_0x36d353){console['error'](_0x36d353);setTimeout(function(){this[a14_0x5226('0x6')]();}[a14_0x5226('0xc')](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
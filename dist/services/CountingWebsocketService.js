var a14_0x19cc=['length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','bind','__esModule','../infrastructure/stationSettings','eventCounter','init','createWebSocket','log','init\x20CountingWebSocket','StationContext','settings','cameraSocket','open','Websocket\x20opened:','error','onError','message','incoming','Data'];(function(_0x1ac52a,_0xbf18bc){var _0x58eb91=function(_0x1971d8){while(--_0x1971d8){_0x1ac52a['push'](_0x1ac52a['shift']());}};_0x58eb91(++_0xbf18bc);}(a14_0x19cc,0x1d2));var a14_0x592a=function(_0x4b562c,_0x4ef122){_0x4b562c=_0x4b562c-0x0;var _0x430c1a=a14_0x19cc[_0x4b562c];return _0x430c1a;};'use strict';Object['defineProperty'](exports,a14_0x592a('0x0'),{'value':!![]});const stationSettings_1=require(a14_0x592a('0x1'));class CountingWebSocketService{constructor(){this[a14_0x592a('0x2')]=0x0;}[a14_0x592a('0x3')](){this[a14_0x592a('0x4')]();console[a14_0x592a('0x5')](a14_0x592a('0x6'));}[a14_0x592a('0x4')](){const _0x172d8f=require('ws');const _0x4f4ade=new _0x172d8f(stationSettings_1[a14_0x592a('0x7')][a14_0x592a('0x8')][a14_0x592a('0x9')]);_0x4f4ade['on'](a14_0x592a('0xa'),function open(){console[a14_0x592a('0x5')](a14_0x592a('0xb')+stationSettings_1['StationContext'][a14_0x592a('0x8')]['cameraSocket']);this[a14_0x592a('0x2')]=0x0;});_0x4f4ade['on'](a14_0x592a('0xc'),this[a14_0x592a('0xd')]['bind'](this));_0x4f4ade['on'](a14_0x592a('0xe'),this[a14_0x592a('0xf')]['bind'](this));}[a14_0x592a('0xf')](_0x2e1744){const _0x341ac6=JSON['parse'](_0x2e1744);if(_0x341ac6[a14_0x592a('0x10')]==null||_0x341ac6[a14_0x592a('0x10')][a14_0x592a('0x11')]==0x0){_0x2e1744=JSON['parse'](a14_0x592a('0x12'));}if(_0x341ac6[a14_0x592a('0x10')]!=null&&_0x341ac6['Data']['length']>0x0){this[a14_0x592a('0x13')](_0x341ac6[a14_0x592a('0x10')][0x0]);}}[a14_0x592a('0xd')](_0x4a6d80){console[a14_0x592a('0xc')](_0x4a6d80);setTimeout(function(){this[a14_0x592a('0x4')]();}[a14_0x592a('0x14')](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
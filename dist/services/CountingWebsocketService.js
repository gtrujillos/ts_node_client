var a14_0x540c=['onError','incoming','bind','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','error','CountingWebSocketService','defineProperty','eventCounter','init','log','init\x20CountingWebSocket','createWebSocket','settings','cameraSocket','open','Websocket\x20opened:','StationContext'];(function(_0x924f42,_0x380fa0){var _0x3f7f5c=function(_0x14d5a7){while(--_0x14d5a7){_0x924f42['push'](_0x924f42['shift']());}};_0x3f7f5c(++_0x380fa0);}(a14_0x540c,0x199));var a14_0x22af=function(_0x4811f3,_0x1ab06e){_0x4811f3=_0x4811f3-0x0;var _0x302cbd=a14_0x540c[_0x4811f3];return _0x302cbd;};'use strict';Object[a14_0x22af('0x0')](exports,'__esModule',{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class CountingWebSocketService{constructor(){this[a14_0x22af('0x1')]=0x0;}[a14_0x22af('0x2')](){console[a14_0x22af('0x3')](a14_0x22af('0x4'));this[a14_0x22af('0x5')]();}['createWebSocket'](){const _0x335370=require('ws');const _0x455d41=new _0x335370(stationSettings_1['StationContext'][a14_0x22af('0x6')][a14_0x22af('0x7')]);_0x455d41['on'](a14_0x22af('0x8'),function open(){console['log'](a14_0x22af('0x9')+stationSettings_1[a14_0x22af('0xa')][a14_0x22af('0x6')][a14_0x22af('0x7')]);this[a14_0x22af('0x1')]=0x0;});_0x455d41['on']('error',this[a14_0x22af('0xb')]['bind'](this));_0x455d41['on']('message',this[a14_0x22af('0xc')][a14_0x22af('0xd')](this));}[a14_0x22af('0xc')](_0x17659b){const _0x434249=JSON[a14_0x22af('0xe')](_0x17659b);if(_0x434249['Data']==null||_0x434249[a14_0x22af('0xf')][a14_0x22af('0x10')]==0x0){_0x17659b=JSON[a14_0x22af('0xe')](a14_0x22af('0x11'));}if(_0x434249['Data']!=null&&_0x434249['Data'][a14_0x22af('0x10')]>0x0){this[a14_0x22af('0x12')](_0x434249[a14_0x22af('0xf')][0x0]);}}['onError'](_0x177b6f){console[a14_0x22af('0x13')](_0x177b6f);setTimeout(function(){this[a14_0x22af('0x5')]();}['bind'](this),0x1388);}}exports[a14_0x22af('0x14')]=CountingWebSocketService;
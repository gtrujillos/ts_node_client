var a14_0x3c02=['eventCounter','error','onError','bind','incoming','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','defineProperty','__esModule','../infrastructure/stationSettings','init','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket','open','log','Websocket\x20opened:'];(function(_0x345f4f,_0x101bb0){var _0x3be09b=function(_0x33010e){while(--_0x33010e){_0x345f4f['push'](_0x345f4f['shift']());}};_0x3be09b(++_0x101bb0);}(a14_0x3c02,0x112));var a14_0x4f62=function(_0x41b5ff,_0xff9ae8){_0x41b5ff=_0x41b5ff-0x0;var _0x3e8ff1=a14_0x3c02[_0x41b5ff];return _0x3e8ff1;};'use strict';Object[a14_0x4f62('0x0')](exports,a14_0x4f62('0x1'),{'value':!![]});const stationSettings_1=require(a14_0x4f62('0x2'));class CountingWebSocketService{constructor(){this['eventCounter']=0x0;}[a14_0x4f62('0x3')](){console['log'](a14_0x4f62('0x4'));this[a14_0x4f62('0x5')]();}[a14_0x4f62('0x5')](){const _0x31789f=require('ws');const _0x177c02=new _0x31789f(stationSettings_1[a14_0x4f62('0x6')][a14_0x4f62('0x7')][a14_0x4f62('0x8')]);_0x177c02['on'](a14_0x4f62('0x9'),function open(){console[a14_0x4f62('0xa')](a14_0x4f62('0xb')+stationSettings_1[a14_0x4f62('0x6')][a14_0x4f62('0x7')]['cameraSocket']);this[a14_0x4f62('0xc')]=0x0;});_0x177c02['on'](a14_0x4f62('0xd'),this[a14_0x4f62('0xe')][a14_0x4f62('0xf')](this));_0x177c02['on']('message',this[a14_0x4f62('0x10')][a14_0x4f62('0xf')](this));}['incoming'](_0x4af63f){const _0xf596b4=JSON[a14_0x4f62('0x11')](_0x4af63f);if(_0xf596b4['Data']==null||_0xf596b4[a14_0x4f62('0x12')][a14_0x4f62('0x13')]==0x0){_0x4af63f=JSON['parse'](a14_0x4f62('0x14'));}if(_0xf596b4[a14_0x4f62('0x12')]!=null&&_0xf596b4['Data']['length']>0x0){this[a14_0x4f62('0x15')](_0xf596b4[a14_0x4f62('0x12')][0x0]);}}[a14_0x4f62('0xe')](_0x53a412){console[a14_0x4f62('0xd')](_0x53a412);setTimeout(function(){this[a14_0x4f62('0x5')]();}[a14_0x4f62('0xf')](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
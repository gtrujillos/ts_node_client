var a14_0x2e4d=['error','onError','bind','incoming','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','__esModule','../infrastructure/stationSettings','eventCounter','init','createWebSocket','log','StationContext','settings','cameraSocket','open','Websocket\x20opened:'];(function(_0x35141e,_0x56084a){var _0x5dffb3=function(_0xe3fb0b){while(--_0xe3fb0b){_0x35141e['push'](_0x35141e['shift']());}};_0x5dffb3(++_0x56084a);}(a14_0x2e4d,0xec));var a14_0x2af8=function(_0x208c99,_0x297704){_0x208c99=_0x208c99-0x0;var _0xfb741d=a14_0x2e4d[_0x208c99];return _0xfb741d;};'use strict';Object['defineProperty'](exports,a14_0x2af8('0x0'),{'value':!![]});const stationSettings_1=require(a14_0x2af8('0x1'));class CountingWebSocketService{constructor(){this[a14_0x2af8('0x2')]=0x0;}[a14_0x2af8('0x3')](){this[a14_0x2af8('0x4')]();console[a14_0x2af8('0x5')]('init\x20CountingWebSocket');}['createWebSocket'](){const _0x2389a9=require('ws');const _0x3e2a41=new _0x2389a9(stationSettings_1[a14_0x2af8('0x6')][a14_0x2af8('0x7')][a14_0x2af8('0x8')]);_0x3e2a41['on'](a14_0x2af8('0x9'),function open(){console[a14_0x2af8('0x5')](a14_0x2af8('0xa')+stationSettings_1[a14_0x2af8('0x6')][a14_0x2af8('0x7')][a14_0x2af8('0x8')]);this[a14_0x2af8('0x2')]=0x0;});_0x3e2a41['on'](a14_0x2af8('0xb'),this[a14_0x2af8('0xc')][a14_0x2af8('0xd')](this));_0x3e2a41['on']('message',this[a14_0x2af8('0xe')][a14_0x2af8('0xd')](this));}[a14_0x2af8('0xe')](_0x58fe38){const _0x59d862=JSON[a14_0x2af8('0xf')](_0x58fe38);if(_0x59d862['Data']==null||_0x59d862[a14_0x2af8('0x10')][a14_0x2af8('0x11')]==0x0){_0x58fe38=JSON[a14_0x2af8('0xf')](a14_0x2af8('0x12'));}if(_0x59d862[a14_0x2af8('0x10')]!=null&&_0x59d862[a14_0x2af8('0x10')][a14_0x2af8('0x11')]>0x0){this['createEvent'](_0x59d862['Data'][0x0]);}}[a14_0x2af8('0xc')](_0x4866f4){console['error'](_0x4866f4);setTimeout(function(){this[a14_0x2af8('0x4')]();}[a14_0x2af8('0xd')](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
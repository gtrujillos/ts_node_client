var a14_0x5628=['createEvent','defineProperty','__esModule','eventCounter','init','log','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket','open','Websocket\x20opened:','error','onError','bind','message','incoming','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}'];(function(_0x26c959,_0x51fc1f){var _0x3fc5a3=function(_0x1de38c){while(--_0x1de38c){_0x26c959['push'](_0x26c959['shift']());}};_0x3fc5a3(++_0x51fc1f);}(a14_0x5628,0x85));var a14_0x1ca1=function(_0x319c86,_0x2c1211){_0x319c86=_0x319c86-0x0;var _0x50d673=a14_0x5628[_0x319c86];return _0x50d673;};'use strict';Object[a14_0x1ca1('0x0')](exports,a14_0x1ca1('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class CountingWebSocketService{constructor(){this[a14_0x1ca1('0x2')]=0x0;}[a14_0x1ca1('0x3')](){console[a14_0x1ca1('0x4')](a14_0x1ca1('0x5'));this[a14_0x1ca1('0x6')]();}['createWebSocket'](){const _0x410b02=require('ws');const _0x4da544=new _0x410b02(stationSettings_1[a14_0x1ca1('0x7')][a14_0x1ca1('0x8')][a14_0x1ca1('0x9')]);_0x4da544['on'](a14_0x1ca1('0xa'),function open(){console[a14_0x1ca1('0x4')](a14_0x1ca1('0xb')+stationSettings_1[a14_0x1ca1('0x7')][a14_0x1ca1('0x8')][a14_0x1ca1('0x9')]);this[a14_0x1ca1('0x2')]=0x0;});_0x4da544['on'](a14_0x1ca1('0xc'),this[a14_0x1ca1('0xd')][a14_0x1ca1('0xe')](this));_0x4da544['on'](a14_0x1ca1('0xf'),this[a14_0x1ca1('0x10')][a14_0x1ca1('0xe')](this));}['incoming'](_0x20dfc4){const _0x1a4e9c=JSON[a14_0x1ca1('0x11')](_0x20dfc4);if(_0x1a4e9c[a14_0x1ca1('0x12')]==null||_0x1a4e9c[a14_0x1ca1('0x12')][a14_0x1ca1('0x13')]==0x0){_0x20dfc4=JSON[a14_0x1ca1('0x11')](a14_0x1ca1('0x14'));}if(_0x1a4e9c[a14_0x1ca1('0x12')]!=null&&_0x1a4e9c['Data'][a14_0x1ca1('0x13')]>0x0){this[a14_0x1ca1('0x15')](_0x1a4e9c[a14_0x1ca1('0x12')][0x0]);}}[a14_0x1ca1('0xd')](_0x28e7eb){console[a14_0x1ca1('0xc')](_0x28e7eb);setTimeout(function(){this[a14_0x1ca1('0x6')]();}[a14_0x1ca1('0xe')](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
var a14_0x4d61=['bind','message','incoming','parse','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','Data','createEvent','error','__esModule','../infrastructure/stationSettings','eventCounter','init\x20CountingWebSocket','createWebSocket','settings','cameraSocket','open','log','StationContext','onError'];(function(_0x5b7542,_0x2c86df){var _0x59f6e1=function(_0x354256){while(--_0x354256){_0x5b7542['push'](_0x5b7542['shift']());}};_0x59f6e1(++_0x2c86df);}(a14_0x4d61,0xa9));var a14_0x3015=function(_0x68dd0,_0x437e8b){_0x68dd0=_0x68dd0-0x0;var _0x4deec0=a14_0x4d61[_0x68dd0];return _0x4deec0;};'use strict';Object['defineProperty'](exports,a14_0x3015('0x0'),{'value':!![]});const stationSettings_1=require(a14_0x3015('0x1'));class CountingWebSocketService{constructor(){this[a14_0x3015('0x2')]=0x0;}['init'](){console['log'](a14_0x3015('0x3'));this[a14_0x3015('0x4')]();}['createWebSocket'](){const _0x55df13=require('ws');const _0x42c86b=new _0x55df13(stationSettings_1['StationContext'][a14_0x3015('0x5')][a14_0x3015('0x6')]);_0x42c86b['on'](a14_0x3015('0x7'),function open(){console[a14_0x3015('0x8')]('Websocket\x20opened:'+stationSettings_1[a14_0x3015('0x9')][a14_0x3015('0x5')]['cameraSocket']);this['eventCounter']=0x0;});_0x42c86b['on']('error',this[a14_0x3015('0xa')][a14_0x3015('0xb')](this));_0x42c86b['on'](a14_0x3015('0xc'),this[a14_0x3015('0xd')][a14_0x3015('0xb')](this));}['incoming'](_0x1fac7b){const _0x3b686b=JSON[a14_0x3015('0xe')](_0x1fac7b);if(_0x3b686b['Data']==null||_0x3b686b['Data'][a14_0x3015('0xf')]==0x0){_0x1fac7b=JSON[a14_0x3015('0xe')](a14_0x3015('0x10'));}if(_0x3b686b[a14_0x3015('0x11')]!=null&&_0x3b686b[a14_0x3015('0x11')][a14_0x3015('0xf')]>0x0){this[a14_0x3015('0x12')](_0x3b686b[a14_0x3015('0x11')][0x0]);}}[a14_0x3015('0xa')](_0xe8830e){console[a14_0x3015('0x13')](_0xe8830e);setTimeout(function(){this[a14_0x3015('0x4')]();}['bind'](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
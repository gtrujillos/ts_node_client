var a14_0x51be=['message','parse','Data','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','length','createEvent','onError','CountingWebSocketService','defineProperty','eventCounter','init','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket','open','log','Websocket\x20opened:','error','bind'];(function(_0x4a926e,_0x329599){var _0x59f0f6=function(_0x16a0be){while(--_0x16a0be){_0x4a926e['push'](_0x4a926e['shift']());}};_0x59f0f6(++_0x329599);}(a14_0x51be,0x9b));var a14_0x2912=function(_0x5e5a77,_0x288fef){_0x5e5a77=_0x5e5a77-0x0;var _0xaa1f48=a14_0x51be[_0x5e5a77];return _0xaa1f48;};'use strict';Object[a14_0x2912('0x0')](exports,'__esModule',{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class CountingWebSocketService{constructor(){this[a14_0x2912('0x1')]=0x0;}[a14_0x2912('0x2')](){console['log'](a14_0x2912('0x3'));this[a14_0x2912('0x4')]();}[a14_0x2912('0x4')](){const _0x4e7916=require('ws');const _0x5d524a=new _0x4e7916(stationSettings_1[a14_0x2912('0x5')][a14_0x2912('0x6')][a14_0x2912('0x7')]);_0x5d524a['on'](a14_0x2912('0x8'),function open(){console[a14_0x2912('0x9')](a14_0x2912('0xa')+stationSettings_1[a14_0x2912('0x5')][a14_0x2912('0x6')]['cameraSocket']);this[a14_0x2912('0x1')]=0x0;});_0x5d524a['on'](a14_0x2912('0xb'),this['onError'][a14_0x2912('0xc')](this));_0x5d524a['on'](a14_0x2912('0xd'),this['incoming'][a14_0x2912('0xc')](this));}['incoming'](_0x5770bd){const _0x10da7c=JSON[a14_0x2912('0xe')](_0x5770bd);if(_0x10da7c[a14_0x2912('0xf')]==null||_0x10da7c[a14_0x2912('0xf')]['length']==0x0){_0x5770bd=JSON[a14_0x2912('0xe')](a14_0x2912('0x10'));}if(_0x10da7c['Data']!=null&&_0x10da7c['Data'][a14_0x2912('0x11')]>0x0){this[a14_0x2912('0x12')](_0x10da7c['Data'][0x0]);}}[a14_0x2912('0x13')](_0xb85064){console[a14_0x2912('0xb')](_0xb85064);setTimeout(function(){this['createWebSocket']();}[a14_0x2912('0xc')](this),0x1388);}}exports[a14_0x2912('0x14')]=CountingWebSocketService;
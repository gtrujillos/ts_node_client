var a16_0x295f=['Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','defineProperty','__esModule','../infrastructure/stationSettings','eventCounter','log','init\x20CountingWebSocket','createWebSocket','StationContext','settings','open','Websocket\x20opened:','error','onError','bind','message','incoming','parse'];(function(_0x35d650,_0x437c0a){var _0x3e0bfa=function(_0x5be7ba){while(--_0x5be7ba){_0x35d650['push'](_0x35d650['shift']());}};_0x3e0bfa(++_0x437c0a);}(a16_0x295f,0x6d));var a16_0x5deb=function(_0xc721d6,_0x3fd491){_0xc721d6=_0xc721d6-0x0;var _0xe4cb85=a16_0x295f[_0xc721d6];return _0xe4cb85;};'use strict';Object[a16_0x5deb('0x0')](exports,a16_0x5deb('0x1'),{'value':!![]});const stationSettings_1=require(a16_0x5deb('0x2'));class CountingWebSocketService{constructor(){this[a16_0x5deb('0x3')]=0x0;}['init'](){console[a16_0x5deb('0x4')](a16_0x5deb('0x5'));this[a16_0x5deb('0x6')]();}[a16_0x5deb('0x6')](){const _0x1b8662=require('ws');const _0x3c4fc5=new _0x1b8662(stationSettings_1[a16_0x5deb('0x7')][a16_0x5deb('0x8')]['cameraSocket']);_0x3c4fc5['on'](a16_0x5deb('0x9'),function open(){console[a16_0x5deb('0x4')](a16_0x5deb('0xa')+stationSettings_1[a16_0x5deb('0x7')][a16_0x5deb('0x8')]['cameraSocket']);this[a16_0x5deb('0x3')]=0x0;});_0x3c4fc5['on'](a16_0x5deb('0xb'),this[a16_0x5deb('0xc')][a16_0x5deb('0xd')](this));_0x3c4fc5['on'](a16_0x5deb('0xe'),this[a16_0x5deb('0xf')][a16_0x5deb('0xd')](this));}[a16_0x5deb('0xf')](_0x5da9e6){const _0x55ac1e=JSON[a16_0x5deb('0x10')](_0x5da9e6);if(_0x55ac1e['Data']==null||_0x55ac1e[a16_0x5deb('0x11')][a16_0x5deb('0x12')]==0x0){_0x5da9e6=JSON[a16_0x5deb('0x10')](a16_0x5deb('0x13'));}if(_0x55ac1e[a16_0x5deb('0x11')]!=null&&_0x55ac1e[a16_0x5deb('0x11')][a16_0x5deb('0x12')]>0x0){this[a16_0x5deb('0x14')](_0x55ac1e[a16_0x5deb('0x11')][0x0]);}}[a16_0x5deb('0xc')](_0x2e2472){console[a16_0x5deb('0xb')](_0x2e2472);setTimeout(function(){this[a16_0x5deb('0x6')]();}['bind'](this),0x1388);}}exports['CountingWebSocketService']=CountingWebSocketService;
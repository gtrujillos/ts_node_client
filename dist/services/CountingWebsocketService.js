var a14_0x5f45=['eventCounter','init','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket','open','log','Websocket\x20opened:','error','onError','bind','incoming','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','CountingWebSocketService','defineProperty','__esModule','../infrastructure/stationSettings'];(function(_0x3dcf9c,_0x3e8d76){var _0x135c00=function(_0x7aaef0){while(--_0x7aaef0){_0x3dcf9c['push'](_0x3dcf9c['shift']());}};_0x135c00(++_0x3e8d76);}(a14_0x5f45,0x19b));var a14_0x38e9=function(_0x4edae5,_0x3c0fa3){_0x4edae5=_0x4edae5-0x0;var _0x2ecd75=a14_0x5f45[_0x4edae5];return _0x2ecd75;};'use strict';Object[a14_0x38e9('0x0')](exports,a14_0x38e9('0x1'),{'value':!![]});const stationSettings_1=require(a14_0x38e9('0x2'));class CountingWebSocketService{constructor(){this[a14_0x38e9('0x3')]=0x0;}[a14_0x38e9('0x4')](){console['log'](a14_0x38e9('0x5'));this[a14_0x38e9('0x6')]();}[a14_0x38e9('0x6')](){const _0x1ef8e0=require('ws');const _0x57607e=new _0x1ef8e0(stationSettings_1[a14_0x38e9('0x7')][a14_0x38e9('0x8')][a14_0x38e9('0x9')]);_0x57607e['on'](a14_0x38e9('0xa'),function open(){console[a14_0x38e9('0xb')](a14_0x38e9('0xc')+stationSettings_1[a14_0x38e9('0x7')][a14_0x38e9('0x8')]['cameraSocket']);this[a14_0x38e9('0x3')]=0x0;});_0x57607e['on'](a14_0x38e9('0xd'),this[a14_0x38e9('0xe')]['bind'](this));_0x57607e['on']('message',this['incoming'][a14_0x38e9('0xf')](this));}[a14_0x38e9('0x10')](_0x50e967){const _0x2a67be=JSON[a14_0x38e9('0x11')](_0x50e967);if(_0x2a67be[a14_0x38e9('0x12')]==null||_0x2a67be[a14_0x38e9('0x12')][a14_0x38e9('0x13')]==0x0){_0x50e967=JSON[a14_0x38e9('0x11')](a14_0x38e9('0x14'));}if(_0x2a67be[a14_0x38e9('0x12')]!=null&&_0x2a67be['Data']['length']>0x0){this[a14_0x38e9('0x15')](_0x2a67be[a14_0x38e9('0x12')][0x0]);}}[a14_0x38e9('0xe')](_0x5acb12){console[a14_0x38e9('0xd')](_0x5acb12);setTimeout(function(){this[a14_0x38e9('0x6')]();}[a14_0x38e9('0xf')](this),0x1388);}}exports[a14_0x38e9('0x16')]=CountingWebSocketService;
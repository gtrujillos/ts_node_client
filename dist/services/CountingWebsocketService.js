var a14_0x27b3=['log','Websocket\x20opened:','error','onError','bind','message','incoming','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','CountingWebSocketService','defineProperty','__esModule','init','init\x20CountingWebSocket','createWebSocket','settings','open'];(function(_0x149619,_0x816576){var _0xa6ea0f=function(_0x40c954){while(--_0x40c954){_0x149619['push'](_0x149619['shift']());}};_0xa6ea0f(++_0x816576);}(a14_0x27b3,0x188));var a14_0x2151=function(_0x12b4b2,_0x15311f){_0x12b4b2=_0x12b4b2-0x0;var _0xb7b8fb=a14_0x27b3[_0x12b4b2];return _0xb7b8fb;};'use strict';Object[a14_0x2151('0x0')](exports,a14_0x2151('0x1'),{'value':!![]});const stationSettings_1=require('../infrastructure/stationSettings');class CountingWebSocketService{constructor(){this['eventCounter']=0x0;}[a14_0x2151('0x2')](){this['createWebSocket']();console['log'](a14_0x2151('0x3'));}[a14_0x2151('0x4')](){const _0xe0e89c=require('ws');const _0x4b45a5=new _0xe0e89c(stationSettings_1['StationContext'][a14_0x2151('0x5')]['cameraSocket']);_0x4b45a5['on'](a14_0x2151('0x6'),function open(){console[a14_0x2151('0x7')](a14_0x2151('0x8')+stationSettings_1['StationContext']['settings']['cameraSocket']);this['eventCounter']=0x0;});_0x4b45a5['on'](a14_0x2151('0x9'),this[a14_0x2151('0xa')][a14_0x2151('0xb')](this));_0x4b45a5['on'](a14_0x2151('0xc'),this[a14_0x2151('0xd')][a14_0x2151('0xb')](this));}[a14_0x2151('0xd')](_0x29976b){const _0x396d97=JSON[a14_0x2151('0xe')](_0x29976b);if(_0x396d97[a14_0x2151('0xf')]==null||_0x396d97[a14_0x2151('0xf')][a14_0x2151('0x10')]==0x0){_0x29976b=JSON[a14_0x2151('0xe')](a14_0x2151('0x11'));}if(_0x396d97['Data']!=null&&_0x396d97[a14_0x2151('0xf')][a14_0x2151('0x10')]>0x0){this['createEvent'](_0x396d97['Data'][0x0]);}}[a14_0x2151('0xa')](_0x53466d){console[a14_0x2151('0x9')](_0x53466d);setTimeout(function(){this[a14_0x2151('0x4')]();}[a14_0x2151('0xb')](this),0x1388);}}exports[a14_0x2151('0x12')]=CountingWebSocketService;
var a14_0x28d1=['eventCounter','onError','bind','message','incoming','parse','Data','length','{\x22Data\x22:[{\x22CountingInfo\x22:[{\x22In\x22:0,\x22Out\x22:0,\x22RuleName\x22:\x22Rule\x22,\x22Time\x22:\x222018-11-19T17:02:32.867Z\x22}],\x22RuleType\x22:\x22Counting\x22}],\x22Tag\x22:\x22Event\x22,\x22Ver\x22:\x221.0.0\x22}','createEvent','error','CountingWebSocketService','defineProperty','__esModule','../infrastructure/stationSettings','init','init\x20CountingWebSocket','createWebSocket','StationContext','settings','cameraSocket','open','log'];(function(_0x2cd15f,_0x2b8949){var _0x44e4d6=function(_0x2b8948){while(--_0x2b8948){_0x2cd15f['push'](_0x2cd15f['shift']());}};_0x44e4d6(++_0x2b8949);}(a14_0x28d1,0x14e));var a14_0x48ff=function(_0x2a4c75,_0x101dc7){_0x2a4c75=_0x2a4c75-0x0;var _0x2c2661=a14_0x28d1[_0x2a4c75];return _0x2c2661;};'use strict';Object[a14_0x48ff('0x0')](exports,a14_0x48ff('0x1'),{'value':!![]});const stationSettings_1=require(a14_0x48ff('0x2'));class CountingWebSocketService{constructor(){this['eventCounter']=0x0;}[a14_0x48ff('0x3')](){this['createWebSocket']();console['log'](a14_0x48ff('0x4'));}[a14_0x48ff('0x5')](){const _0x1f14cc=require('ws');const _0x45aa82=new _0x1f14cc(stationSettings_1[a14_0x48ff('0x6')][a14_0x48ff('0x7')][a14_0x48ff('0x8')]);_0x45aa82['on'](a14_0x48ff('0x9'),function open(){console[a14_0x48ff('0xa')]('Websocket\x20opened:'+stationSettings_1[a14_0x48ff('0x6')][a14_0x48ff('0x7')][a14_0x48ff('0x8')]);this[a14_0x48ff('0xb')]=0x0;});_0x45aa82['on']('error',this[a14_0x48ff('0xc')][a14_0x48ff('0xd')](this));_0x45aa82['on'](a14_0x48ff('0xe'),this[a14_0x48ff('0xf')][a14_0x48ff('0xd')](this));}[a14_0x48ff('0xf')](_0x1f88ca){const _0x5ecca7=JSON[a14_0x48ff('0x10')](_0x1f88ca);if(_0x5ecca7['Data']==null||_0x5ecca7[a14_0x48ff('0x11')][a14_0x48ff('0x12')]==0x0){_0x1f88ca=JSON[a14_0x48ff('0x10')](a14_0x48ff('0x13'));}if(_0x5ecca7[a14_0x48ff('0x11')]!=null&&_0x5ecca7[a14_0x48ff('0x11')]['length']>0x0){this[a14_0x48ff('0x14')](_0x5ecca7[a14_0x48ff('0x11')][0x0]);}}[a14_0x48ff('0xc')](_0x44a251){console[a14_0x48ff('0x15')](_0x44a251);setTimeout(function(){this[a14_0x48ff('0x5')]();}['bind'](this),0x1388);}}exports[a14_0x48ff('0x16')]=CountingWebSocketService;
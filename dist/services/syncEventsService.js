var a20_0x55f7=['process/','rename','sendFile','http://restapi.passcontrol.co/sync_files/upload_event','createReadStream','Response\x20body:\x20','parse','success/','error','Successfully\x20renamed\x20','__esModule','../infrastructure/stationSettings','request','init','exploreDir','log','init\x20Sync','StationContext','settings','eventFileFolder','forEach','includes','.gz','stat','abs','getTime','ctime'];(function(_0x2699a9,_0x501e82){var _0x5b6c40=function(_0xa3de42){while(--_0xa3de42){_0x2699a9['push'](_0x2699a9['shift']());}};_0x5b6c40(++_0x501e82);}(a20_0x55f7,0x1f0));var a20_0x3289=function(_0x451dbd,_0xccb8f5){_0x451dbd=_0x451dbd-0x0;var _0x47d1f1=a20_0x55f7[_0x451dbd];return _0x47d1f1;};'use strict';Object['defineProperty'](exports,a20_0x3289('0x0'),{'value':!![]});const stationSettings_1=require(a20_0x3289('0x1'));const fs=require('fs');const request=require(a20_0x3289('0x2'));class SyncEventsService{constructor(){}[a20_0x3289('0x3')](){this[a20_0x3289('0x4')](0x0);console[a20_0x3289('0x5')](a20_0x3289('0x6'));}['exploreDir'](_0x35886a){fs['readdir'](stationSettings_1[a20_0x3289('0x7')][a20_0x3289('0x8')][a20_0x3289('0x9')],(_0x5bf2f2,_0x60c905)=>{if(_0x60c905!=null){_0x60c905[a20_0x3289('0xa')](_0x367c43=>{if(_0x367c43[a20_0x3289('0xb')](a20_0x3289('0xc'))){fs[a20_0x3289('0xd')](stationSettings_1[a20_0x3289('0x7')][a20_0x3289('0x8')]['eventFileFolder']+_0x367c43,(_0x544c4f,_0x481d13)=>{const _0x18f6d3=Math[a20_0x3289('0xe')](new Date()[a20_0x3289('0xf')]()-_0x481d13[a20_0x3289('0x10')][a20_0x3289('0xf')]());if(_0x18f6d3>0x2710){this['syncFile'](_0x367c43);}});}});}});setTimeout(()=>{this[a20_0x3289('0x4')](++_0x35886a);},0x1388);}['syncFile'](_0x2e8237){const _0x4a3e52=stationSettings_1[a20_0x3289('0x7')][a20_0x3289('0x8')][a20_0x3289('0x9')]+_0x2e8237;const _0x13c023=stationSettings_1[a20_0x3289('0x7')][a20_0x3289('0x8')][a20_0x3289('0x9')]+a20_0x3289('0x11')+_0x2e8237;fs[a20_0x3289('0x12')](_0x4a3e52,_0x13c023,_0x5aca31=>{if(_0x5aca31){console[a20_0x3289('0x5')](_0x5aca31);}else{console[a20_0x3289('0x5')]('Successfully\x20renamed\x20'+_0x13c023);this[a20_0x3289('0x13')](_0x2e8237,_0x13c023);}});}[a20_0x3289('0x13')](_0x47f91f,_0x325348){const _0x458b69=a20_0x3289('0x14');const _0x2eb42a={'file':fs[a20_0x3289('0x15')](_0x325348)};console[a20_0x3289('0x5')](new Date());console['log']('serviceUrl:\x20'+_0x458b69);console[a20_0x3289('0x5')]('Sending\x20file:\x20'+_0x47f91f);try{request['post']({'url':_0x458b69,'formData':_0x2eb42a},function(_0x1cdc64,_0x2b0636,_0x54abdd){let _0x2457c0=null;let _0x15b3d7='';if(_0x1cdc64){_0x15b3d7='';}else{try{console[a20_0x3289('0x5')](a20_0x3289('0x16')+_0x54abdd);_0x2457c0=JSON[a20_0x3289('0x17')](_0x54abdd);if(_0x2457c0['status']==0x1){_0x15b3d7=a20_0x3289('0x18');}else{_0x15b3d7='';}}catch(_0x4b3dbf){console[a20_0x3289('0x19')](_0x4b3dbf);_0x15b3d7='';}}const _0x3c1bb5=stationSettings_1[a20_0x3289('0x7')][a20_0x3289('0x8')][a20_0x3289('0x9')]+_0x15b3d7+_0x47f91f;fs[a20_0x3289('0x12')](_0x325348,_0x3c1bb5,function(_0x1cdc64){if(_0x1cdc64){console[a20_0x3289('0x5')](_0x1cdc64);}console['log'](a20_0x3289('0x1a')+_0x3c1bb5);});});}catch(_0x2d1924){console['error'](_0x2d1924);}}}exports['SyncEventsService']=SyncEventsService;
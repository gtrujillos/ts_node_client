var a21_0x1b33=['readdir','StationContext','settings','eventFileFolder','forEach','.gz','stat','abs','getTime','ctime','syncFile','process/','rename','Successfully\x20renamed\x20','sendFile','http://restapi.passcontrol.co/sync_files/upload_event','createReadStream','serviceUrl:\x20','Sending\x20file:\x20','Response\x20body:\x20','parse','success/','error','__esModule','../infrastructure/stationSettings','init','exploreDir','log','init\x20Sync'];(function(_0x1f2630,_0x119425){var _0x3f62c9=function(_0x2b80cd){while(--_0x2b80cd){_0x1f2630['push'](_0x1f2630['shift']());}};_0x3f62c9(++_0x119425);}(a21_0x1b33,0xc5));var a21_0xb119=function(_0x48a55a,_0x4ee99f){_0x48a55a=_0x48a55a-0x0;var _0x443f02=a21_0x1b33[_0x48a55a];return _0x443f02;};'use strict';Object['defineProperty'](exports,a21_0xb119('0x0'),{'value':!![]});const stationSettings_1=require(a21_0xb119('0x1'));const fs=require('fs');const request=require('request');class SyncEventsService{constructor(){}[a21_0xb119('0x2')](){this[a21_0xb119('0x3')](0x0);console[a21_0xb119('0x4')](a21_0xb119('0x5'));}['exploreDir'](_0xd75cb5){fs[a21_0xb119('0x6')](stationSettings_1[a21_0xb119('0x7')][a21_0xb119('0x8')][a21_0xb119('0x9')],(_0x12655c,_0x519130)=>{if(_0x519130!=null){_0x519130[a21_0xb119('0xa')](_0x4553c8=>{if(_0x4553c8['includes'](a21_0xb119('0xb'))){fs[a21_0xb119('0xc')](stationSettings_1[a21_0xb119('0x7')][a21_0xb119('0x8')][a21_0xb119('0x9')]+_0x4553c8,(_0x24ac90,_0x44f320)=>{const _0x460f71=Math[a21_0xb119('0xd')](new Date()[a21_0xb119('0xe')]()-_0x44f320[a21_0xb119('0xf')][a21_0xb119('0xe')]());if(_0x460f71>0x2710){this[a21_0xb119('0x10')](_0x4553c8);}});}});}});setTimeout(()=>{this[a21_0xb119('0x3')](++_0xd75cb5);},0x1388);}[a21_0xb119('0x10')](_0x797e37){const _0x33b00c=stationSettings_1[a21_0xb119('0x7')][a21_0xb119('0x8')][a21_0xb119('0x9')]+_0x797e37;const _0x731ad9=stationSettings_1['StationContext']['settings'][a21_0xb119('0x9')]+a21_0xb119('0x11')+_0x797e37;fs[a21_0xb119('0x12')](_0x33b00c,_0x731ad9,_0x215482=>{if(_0x215482){console[a21_0xb119('0x4')](_0x215482);}else{console[a21_0xb119('0x4')](a21_0xb119('0x13')+_0x731ad9);this[a21_0xb119('0x14')](_0x797e37,_0x731ad9);}});}[a21_0xb119('0x14')](_0x18db41,_0x245388){const _0x5aa0d9=a21_0xb119('0x15');const _0x27e374={'file':fs[a21_0xb119('0x16')](_0x245388)};console[a21_0xb119('0x4')](new Date());console[a21_0xb119('0x4')](a21_0xb119('0x17')+_0x5aa0d9);console[a21_0xb119('0x4')](a21_0xb119('0x18')+_0x18db41);try{request['post']({'url':_0x5aa0d9,'formData':_0x27e374},function(_0x557fa0,_0x4d616b,_0x16999e){let _0x1c2808=null;let _0x4b3292='';if(_0x557fa0){_0x4b3292='';}else{try{console[a21_0xb119('0x4')](a21_0xb119('0x19')+_0x16999e);_0x1c2808=JSON[a21_0xb119('0x1a')](_0x16999e);if(_0x1c2808['status']==0x1){_0x4b3292=a21_0xb119('0x1b');}else{_0x4b3292='';}}catch(_0x12d448){console[a21_0xb119('0x1c')](_0x12d448);_0x4b3292='';}}const _0xa941d0=stationSettings_1['StationContext']['settings'][a21_0xb119('0x9')]+_0x4b3292+_0x18db41;fs[a21_0xb119('0x12')](_0x245388,_0xa941d0,function(_0x557fa0){if(_0x557fa0){console['log'](_0x557fa0);}console['log']('Successfully\x20renamed\x20'+_0xa941d0);});});}catch(_0x1e5ab6){console[a21_0xb119('0x1c')](_0x1e5ab6);}}}exports['SyncEventsService']=SyncEventsService;
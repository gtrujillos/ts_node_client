var a24_0x1acd=['includes','.gz','stat','abs','getTime','ctime','syncFile','rename','Successfully\x20renamed\x20','sendFile','env','WEB_SERVICE_URL','sync_files/upload_event','Sending\x20file:\x20','post','Response\x20body:\x20','parse','status','success/','error','SyncEventsService','__esModule','../infrastructure/stationSettings','init','log','init\x20SyncEventsService','exploreDir','readdir','StationContext','settings','eventFileFolder','forEach'];(function(_0x7e970c,_0xf2ef38){var _0x2b22e8=function(_0x28e13c){while(--_0x28e13c){_0x7e970c['push'](_0x7e970c['shift']());}};_0x2b22e8(++_0xf2ef38);}(a24_0x1acd,0x1d5));var a24_0x27de=function(_0x341815,_0x4c1590){_0x341815=_0x341815-0x0;var _0x300509=a24_0x1acd[_0x341815];return _0x300509;};'use strict';Object['defineProperty'](exports,a24_0x27de('0x0'),{'value':!![]});const stationSettings_1=require(a24_0x27de('0x1'));const fs=require('fs');const request=require('request');class SyncEventsService{constructor(){}[a24_0x27de('0x2')](){console[a24_0x27de('0x3')](a24_0x27de('0x4'));this[a24_0x27de('0x5')](0x0);}[a24_0x27de('0x5')](_0x26d930){fs[a24_0x27de('0x6')](stationSettings_1[a24_0x27de('0x7')][a24_0x27de('0x8')][a24_0x27de('0x9')],(_0x556d8c,_0x5f3606)=>{if(_0x5f3606!=null){_0x5f3606[a24_0x27de('0xa')](_0x5aa7a8=>{if(_0x5aa7a8[a24_0x27de('0xb')](a24_0x27de('0xc'))){fs[a24_0x27de('0xd')](stationSettings_1[a24_0x27de('0x7')][a24_0x27de('0x8')][a24_0x27de('0x9')]+_0x5aa7a8,(_0x40156d,_0x17d6e8)=>{const _0xecf080=Math[a24_0x27de('0xe')](new Date()[a24_0x27de('0xf')]()-_0x17d6e8[a24_0x27de('0x10')][a24_0x27de('0xf')]());if(_0xecf080>0x2710){this[a24_0x27de('0x11')](_0x5aa7a8);}});}});}});setTimeout(()=>{this[a24_0x27de('0x5')](++_0x26d930);},0x1388);}[a24_0x27de('0x11')](_0x379041){const _0x583d25=stationSettings_1[a24_0x27de('0x7')][a24_0x27de('0x8')][a24_0x27de('0x9')]+_0x379041;const _0x3bce7a=stationSettings_1[a24_0x27de('0x7')][a24_0x27de('0x8')][a24_0x27de('0x9')]+'process/'+_0x379041;fs[a24_0x27de('0x12')](_0x583d25,_0x3bce7a,_0x31f977=>{if(_0x31f977){console[a24_0x27de('0x3')](_0x31f977);}else{console['log'](a24_0x27de('0x13')+_0x3bce7a);this[a24_0x27de('0x14')](_0x379041,_0x3bce7a);}});}[a24_0x27de('0x14')](_0x46410b,_0x11784c){const _0x12d0db=process[a24_0x27de('0x15')][a24_0x27de('0x16')]+a24_0x27de('0x17');const _0x16d0b7={'file':fs['createReadStream'](_0x11784c)};console[a24_0x27de('0x3')](new Date());console[a24_0x27de('0x3')]('serviceUrl:\x20'+_0x12d0db);console[a24_0x27de('0x3')](a24_0x27de('0x18')+_0x46410b);try{request[a24_0x27de('0x19')]({'url':_0x12d0db,'formData':_0x16d0b7},function(_0x5bb80b,_0x330005,_0x3c680f){let _0x17200d=null;let _0x45d074='';if(_0x5bb80b){_0x45d074='';}else{try{console['log'](a24_0x27de('0x1a')+_0x3c680f);_0x17200d=JSON[a24_0x27de('0x1b')](_0x3c680f);if(_0x17200d[a24_0x27de('0x1c')]==0x1){_0x45d074=a24_0x27de('0x1d');}else{_0x45d074='';}}catch(_0x5b4ef0){console['error'](_0x5b4ef0);_0x45d074='';}}const _0x5ea3dc=stationSettings_1['StationContext'][a24_0x27de('0x8')][a24_0x27de('0x9')]+_0x45d074+_0x46410b;fs[a24_0x27de('0x12')](_0x11784c,_0x5ea3dc,function(_0x5bb80b){if(_0x5bb80b){console[a24_0x27de('0x3')](_0x5bb80b);}console[a24_0x27de('0x3')](a24_0x27de('0x13')+_0x5ea3dc);});});}catch(_0x5587f7){console[a24_0x27de('0x1e')](_0x5587f7);}}}exports[a24_0x27de('0x1f')]=SyncEventsService;
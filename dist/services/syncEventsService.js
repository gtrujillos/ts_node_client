var a21_0x5e86=['process/','Successfully\x20renamed\x20','sendFile','env','WEB_SERVICE_URL','sync_files/upload_event','createReadStream','serviceUrl:\x20','Sending\x20file:\x20','post','Response\x20body:\x20','parse','status','success/','error','SyncEventsService','defineProperty','__esModule','../infrastructure/stationSettings','request','init','log','init\x20SyncEventsService','exploreDir','readdir','StationContext','settings','eventFileFolder','forEach','includes','.gz','stat','abs','getTime','ctime','syncFile'];(function(_0x125688,_0x18c978){var _0x12b5a3=function(_0x3a0bf4){while(--_0x3a0bf4){_0x125688['push'](_0x125688['shift']());}};_0x12b5a3(++_0x18c978);}(a21_0x5e86,0x1c0));var a21_0x1758=function(_0x1a75e0,_0x570733){_0x1a75e0=_0x1a75e0-0x0;var _0x397a14=a21_0x5e86[_0x1a75e0];return _0x397a14;};'use strict';Object[a21_0x1758('0x0')](exports,a21_0x1758('0x1'),{'value':!![]});const stationSettings_1=require(a21_0x1758('0x2'));const fs=require('fs');const request=require(a21_0x1758('0x3'));class SyncEventsService{constructor(){}[a21_0x1758('0x4')](){console[a21_0x1758('0x5')](a21_0x1758('0x6'));this[a21_0x1758('0x7')](0x0);}[a21_0x1758('0x7')](_0x295370){fs[a21_0x1758('0x8')](stationSettings_1[a21_0x1758('0x9')][a21_0x1758('0xa')][a21_0x1758('0xb')],(_0xce4540,_0x447083)=>{if(_0x447083!=null){_0x447083[a21_0x1758('0xc')](_0x3c3a27=>{if(_0x3c3a27[a21_0x1758('0xd')](a21_0x1758('0xe'))){fs[a21_0x1758('0xf')](stationSettings_1[a21_0x1758('0x9')][a21_0x1758('0xa')][a21_0x1758('0xb')]+_0x3c3a27,(_0x14b2b9,_0x5a8cf3)=>{const _0x462ef8=Math[a21_0x1758('0x10')](new Date()[a21_0x1758('0x11')]()-_0x5a8cf3[a21_0x1758('0x12')][a21_0x1758('0x11')]());if(_0x462ef8>0x2710){this[a21_0x1758('0x13')](_0x3c3a27);}});}});}});setTimeout(()=>{this[a21_0x1758('0x7')](++_0x295370);},0x1388);}[a21_0x1758('0x13')](_0x1ad06f){const _0x8b258b=stationSettings_1[a21_0x1758('0x9')]['settings'][a21_0x1758('0xb')]+_0x1ad06f;const _0x4c6809=stationSettings_1[a21_0x1758('0x9')][a21_0x1758('0xa')][a21_0x1758('0xb')]+a21_0x1758('0x14')+_0x1ad06f;fs['rename'](_0x8b258b,_0x4c6809,_0x11b83f=>{if(_0x11b83f){console['log'](_0x11b83f);}else{console['log'](a21_0x1758('0x15')+_0x4c6809);this[a21_0x1758('0x16')](_0x1ad06f,_0x4c6809);}});}['sendFile'](_0x55dba7,_0x1d3822){const _0x334e78=process[a21_0x1758('0x17')][a21_0x1758('0x18')]+a21_0x1758('0x19');const _0x53423f={'file':fs[a21_0x1758('0x1a')](_0x1d3822)};console[a21_0x1758('0x5')](new Date());console['log'](a21_0x1758('0x1b')+_0x334e78);console[a21_0x1758('0x5')](a21_0x1758('0x1c')+_0x55dba7);try{request[a21_0x1758('0x1d')]({'url':_0x334e78,'formData':_0x53423f},function(_0x40db4d,_0x4db4f2,_0x664e3f){let _0x191024=null;let _0x5cbb8f='';if(_0x40db4d){_0x5cbb8f='';}else{try{console['log'](a21_0x1758('0x1e')+_0x664e3f);_0x191024=JSON[a21_0x1758('0x1f')](_0x664e3f);if(_0x191024[a21_0x1758('0x20')]==0x1){_0x5cbb8f=a21_0x1758('0x21');}else{_0x5cbb8f='';}}catch(_0x2ae740){console[a21_0x1758('0x22')](_0x2ae740);_0x5cbb8f='';}}const _0x54d401=stationSettings_1[a21_0x1758('0x9')][a21_0x1758('0xa')][a21_0x1758('0xb')]+_0x5cbb8f+_0x55dba7;fs['rename'](_0x1d3822,_0x54d401,function(_0x40db4d){if(_0x40db4d){console[a21_0x1758('0x5')](_0x40db4d);}console['log']('Successfully\x20renamed\x20'+_0x54d401);});});}catch(_0x1dcaf2){console[a21_0x1758('0x22')](_0x1dcaf2);}}}exports[a21_0x1758('0x23')]=SyncEventsService;
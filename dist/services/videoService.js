var a24_0x3cea=['downloadDriverPicture','then','saveImageFile','extractImage','writeFileSync','/Volumes/[C]\x20Windows\x2010\x20(1)/Temp/frs/currentDriver/img.jpg','error','replace','image_data','match','png','jpg','/Volumes/[C]\x20Windows\x2010\x20(1)/Temp/frs/','ensureDirSync','base64','VideoService','defineProperty','__esModule','../infrastructure/HttpClientService','fs-extra','rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov','url','httpClientService','init','loadCurrentDriver','log','get','data','bind','catch'];(function(_0x2979a,_0x167427){var _0x450b99=function(_0x3bf52d){while(--_0x3bf52d){_0x2979a['push'](_0x2979a['shift']());}};_0x450b99(++_0x167427);}(a24_0x3cea,0x11e));var a24_0x4ed4=function(_0x4fb4cd,_0x2b8c55){_0x4fb4cd=_0x4fb4cd-0x0;var _0x4d6f1e=a24_0x3cea[_0x4fb4cd];return _0x4d6f1e;};'use strict';Object[a24_0x4ed4('0x0')](exports,a24_0x4ed4('0x1'),{'value':!![]});const HttpClientService_1=require(a24_0x4ed4('0x2'));const fs=require('fs');const extract=require('jpeg-extract');const fsExtra=require(a24_0x4ed4('0x3'));const url=a24_0x4ed4('0x4');const filename='bigbuckbunny';const username='';const password='';class VideoService{constructor(){this[a24_0x4ed4('0x5')]='http://192.168.0.102:60/index1.jpg';this[a24_0x4ed4('0x6')]=new HttpClientService_1['HttpClientService']();}[a24_0x4ed4('0x7')](){console['log']('init\x20VideoService');}[a24_0x4ed4('0x8')](){console[a24_0x4ed4('0x9')](a24_0x4ed4('0x8'));this[a24_0x4ed4('0x6')][a24_0x4ed4('0xa')]('http://restapi.passcontrol.co/route_schedules/',![])['then'](function(_0x1afe53){console[a24_0x4ed4('0x9')](_0x1afe53[a24_0x4ed4('0xb')][0x0]['user']['id']);this['downloadDriverPicture'](_0x1afe53[a24_0x4ed4('0xb')][0x0]['user']['id']);}[a24_0x4ed4('0xc')](this))[a24_0x4ed4('0xd')](function(_0x221155){});}[a24_0x4ed4('0xe')](_0x5ee176){console[a24_0x4ed4('0x9')]('downloadDriverPicture:'+_0x5ee176);this[a24_0x4ed4('0x6')]['get']('http://restapi.passcontrol.co/users/id/'+_0x5ee176,![])[a24_0x4ed4('0xf')](function(_0x2e4430){this[a24_0x4ed4('0x10')](_0x2e4430[a24_0x4ed4('0xb')]);}[a24_0x4ed4('0xc')](this))['catch'](function(_0x4346b4){});}['extractImage'](){console[a24_0x4ed4('0x9')](a24_0x4ed4('0x11'));extract(this[a24_0x4ed4('0x5')])[a24_0x4ed4('0xf')](_0x607465=>{fs[a24_0x4ed4('0x12')](a24_0x4ed4('0x13'),_0x607465);})['catch'](_0x2fce1a=>{console[a24_0x4ed4('0x14')](_0x2fce1a);});}[a24_0x4ed4('0x10')](_0x9bd763){console[a24_0x4ed4('0x9')](a24_0x4ed4('0x10'));let _0x4f1c30='';const _0x4af38c=_0x9bd763['image_data'][a24_0x4ed4('0x15')](/^data:image\/(png|jpeg|jpg);base64,/,'');if(_0x9bd763[a24_0x4ed4('0x16')][a24_0x4ed4('0x17')](/^data:image\/png;base64,/,'')){_0x4f1c30=a24_0x4ed4('0x18');}else if(_0x9bd763[a24_0x4ed4('0x16')][a24_0x4ed4('0x17')](/^data:image\/(jpg|jpeg);base64,/,'')){_0x4f1c30=a24_0x4ed4('0x19');}console[a24_0x4ed4('0x9')](_0x4af38c);const _0x15dac6=a24_0x4ed4('0x1a');fsExtra[a24_0x4ed4('0x1b')](_0x15dac6);const _0x320a96=_0x15dac6+'driver.'+_0x4f1c30;fsExtra['writeFile'](_0x320a96,_0x4af38c,a24_0x4ed4('0x1c'),function(_0xd1cbc9){console['log'](_0xd1cbc9);});}}exports[a24_0x4ed4('0x1d')]=VideoService;
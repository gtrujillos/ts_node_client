var a24_0x5321=['base64','VideoService','__esModule','fs-extra','httpClientService','HttpClientService','init','loadCurrentDriver','log','get','http://restapi.passcontrol.co/route_schedules/','then','data','downloadDriverPicture','user','catch','downloadDriverPicture:','http://restapi.passcontrol.co/users/id/','saveImageFile','extractImage','writeFileSync','/Volumes/[C]\x20Windows\x2010\x20(1)/Temp/frs/currentDriver/img.jpg','error','image_data','replace','match','png','ensureDirSync','driver.','writeFile'];(function(_0x2f3e31,_0x3a89c9){var _0x2c6db2=function(_0x1fa352){while(--_0x1fa352){_0x2f3e31['push'](_0x2f3e31['shift']());}};_0x2c6db2(++_0x3a89c9);}(a24_0x5321,0xd4));var a24_0x164e=function(_0x245ca6,_0x2f09c8){_0x245ca6=_0x245ca6-0x0;var _0x2cc371=a24_0x5321[_0x245ca6];return _0x2cc371;};'use strict';Object['defineProperty'](exports,a24_0x164e('0x0'),{'value':!![]});const HttpClientService_1=require('../infrastructure/HttpClientService');const fs=require('fs');const extract=require('jpeg-extract');const fsExtra=require(a24_0x164e('0x1'));const url='rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov';const filename='bigbuckbunny';const username='';const password='';class VideoService{constructor(){this['url']='http://192.168.0.102:60/index1.jpg';this[a24_0x164e('0x2')]=new HttpClientService_1[(a24_0x164e('0x3'))]();}[a24_0x164e('0x4')](){console['log']('init\x20VideoService');}[a24_0x164e('0x5')](){console[a24_0x164e('0x6')](a24_0x164e('0x5'));this[a24_0x164e('0x2')][a24_0x164e('0x7')](a24_0x164e('0x8'),![])[a24_0x164e('0x9')](function(_0x9d8919){console[a24_0x164e('0x6')](_0x9d8919[a24_0x164e('0xa')][0x0]['user']['id']);this[a24_0x164e('0xb')](_0x9d8919[a24_0x164e('0xa')][0x0][a24_0x164e('0xc')]['id']);}['bind'](this))[a24_0x164e('0xd')](function(_0x2611a0){});}['downloadDriverPicture'](_0x469b5b){console[a24_0x164e('0x6')](a24_0x164e('0xe')+_0x469b5b);this[a24_0x164e('0x2')][a24_0x164e('0x7')](a24_0x164e('0xf')+_0x469b5b,![])[a24_0x164e('0x9')](function(_0x12cbf7){this[a24_0x164e('0x10')](_0x12cbf7[a24_0x164e('0xa')]);}['bind'](this))[a24_0x164e('0xd')](function(_0x356dc2){});}[a24_0x164e('0x11')](){console[a24_0x164e('0x6')](a24_0x164e('0x11'));extract(this['url'])[a24_0x164e('0x9')](_0x253a2f=>{fs[a24_0x164e('0x12')](a24_0x164e('0x13'),_0x253a2f);})[a24_0x164e('0xd')](_0x1c59f5=>{console[a24_0x164e('0x14')](_0x1c59f5);});}[a24_0x164e('0x10')](_0x301f67){console['log']('saveImageFile');let _0x3ae8b3='';const _0x3b21c6=_0x301f67[a24_0x164e('0x15')][a24_0x164e('0x16')](/^data:image\/(png|jpeg|jpg);base64,/,'');if(_0x301f67[a24_0x164e('0x15')][a24_0x164e('0x17')](/^data:image\/png;base64,/,'')){_0x3ae8b3=a24_0x164e('0x18');}else if(_0x301f67[a24_0x164e('0x15')][a24_0x164e('0x17')](/^data:image\/(jpg|jpeg);base64,/,'')){_0x3ae8b3='jpg';}console[a24_0x164e('0x6')](_0x3b21c6);const _0x49858a='/Volumes/[C]\x20Windows\x2010\x20(1)/Temp/frs/';fsExtra[a24_0x164e('0x19')](_0x49858a);const _0x58f929=_0x49858a+a24_0x164e('0x1a')+_0x3ae8b3;fsExtra[a24_0x164e('0x1b')](_0x58f929,_0x3b21c6,a24_0x164e('0x1c'),function(_0x57e69c){console['log'](_0x57e69c);});}}exports[a24_0x164e('0x1d')]=VideoService;
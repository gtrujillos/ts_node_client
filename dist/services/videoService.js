var a24_0x3699=['HttpClientService','log','loadCurrentDriver','get','http://restapi.passcontrol.co/route_schedules/','then','user','downloadDriverPicture','data','catch','saveImageFile','bind','extractImage','url','writeFileSync','/Volumes/[C]\x20Windows\x2010\x20(1)/Temp/frs/currentDriver/img.jpg','error','replace','image_data','match','png','jpg','/Volumes/[C]\x20Windows\x2010\x20(1)/Temp/frs/','driver.','base64','VideoService','defineProperty','__esModule','../infrastructure/HttpClientService','fs-extra','bigbuckbunny','http://192.168.0.102:60/index1.jpg','httpClientService'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(a24_0x3699,0x101));var a24_0x1878=function(_0x41e8c2,_0x345c02){_0x41e8c2=_0x41e8c2-0x0;var _0x19a56c=a24_0x3699[_0x41e8c2];return _0x19a56c;};'use strict';Object[a24_0x1878('0x0')](exports,a24_0x1878('0x1'),{'value':!![]});const HttpClientService_1=require(a24_0x1878('0x2'));const fs=require('fs');const extract=require('jpeg-extract');const fsExtra=require(a24_0x1878('0x3'));const url='rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov';const filename=a24_0x1878('0x4');const username='';const password='';class VideoService{constructor(){this['url']=a24_0x1878('0x5');this[a24_0x1878('0x6')]=new HttpClientService_1[(a24_0x1878('0x7'))]();}['init'](){console[a24_0x1878('0x8')]('init\x20VideoService');}[a24_0x1878('0x9')](){console[a24_0x1878('0x8')](a24_0x1878('0x9'));this['httpClientService'][a24_0x1878('0xa')](a24_0x1878('0xb'),![])[a24_0x1878('0xc')](function(_0x22e8fe){console['log'](_0x22e8fe['data'][0x0][a24_0x1878('0xd')]['id']);this[a24_0x1878('0xe')](_0x22e8fe[a24_0x1878('0xf')][0x0]['user']['id']);}['bind'](this))[a24_0x1878('0x10')](function(_0x59a858){});}[a24_0x1878('0xe')](_0x49c074){console[a24_0x1878('0x8')]('downloadDriverPicture:'+_0x49c074);this[a24_0x1878('0x6')][a24_0x1878('0xa')]('http://restapi.passcontrol.co/users/id/'+_0x49c074,![])['then'](function(_0x26484c){this[a24_0x1878('0x11')](_0x26484c[a24_0x1878('0xf')]);}[a24_0x1878('0x12')](this))['catch'](function(_0x182657){});}[a24_0x1878('0x13')](){console[a24_0x1878('0x8')]('extractImage');extract(this[a24_0x1878('0x14')])[a24_0x1878('0xc')](_0x57df57=>{fs[a24_0x1878('0x15')](a24_0x1878('0x16'),_0x57df57);})[a24_0x1878('0x10')](_0x5d25af=>{console[a24_0x1878('0x17')](_0x5d25af);});}['saveImageFile'](_0x24c7fe){console['log'](a24_0x1878('0x11'));let _0x41f35f='';const _0x2b6b49=_0x24c7fe['image_data'][a24_0x1878('0x18')](/^data:image\/(png|jpeg|jpg);base64,/,'');if(_0x24c7fe[a24_0x1878('0x19')][a24_0x1878('0x1a')](/^data:image\/png;base64,/,'')){_0x41f35f=a24_0x1878('0x1b');}else if(_0x24c7fe[a24_0x1878('0x19')]['match'](/^data:image\/(jpg|jpeg);base64,/,'')){_0x41f35f=a24_0x1878('0x1c');}console['log'](_0x2b6b49);const _0x3ca0b7=a24_0x1878('0x1d');fsExtra['ensureDirSync'](_0x3ca0b7);const _0x16bd28=_0x3ca0b7+a24_0x1878('0x1e')+_0x41f35f;fsExtra['writeFile'](_0x16bd28,_0x2b6b49,a24_0x1878('0x1f'),function(_0x22c9e3){console['log'](_0x22c9e3);});}}exports[a24_0x1878('0x20')]=VideoService;
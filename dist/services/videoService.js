var a24_0x286a=['HttpClientService','init','log','loadCurrentDriver','get','http://restapi.passcontrol.co/route_schedules/','then','downloadDriverPicture','bind','catch','http://restapi.passcontrol.co/users/id/','data','extractImage','url','writeFileSync','/Volumes/[C]\x20Windows\x2010\x20(1)/Temp/frs/currentDriver/img.jpg','saveImageFile','image_data','replace','match','png','jpg','/Volumes/[C]\x20Windows\x2010\x20(1)/Temp/frs/','driver.','writeFile','VideoService','defineProperty','__esModule','../infrastructure/HttpClientService','fs-extra','rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov','bigbuckbunny','http://192.168.0.102:60/index1.jpg','httpClientService'];(function(_0x2f3e31,_0x3a89c9){var _0x2c6db2=function(_0x1fa352){while(--_0x1fa352){_0x2f3e31['push'](_0x2f3e31['shift']());}};_0x2c6db2(++_0x3a89c9);}(a24_0x286a,0x12a));var a24_0x437a=function(_0x526865,_0x5d2266){_0x526865=_0x526865-0x0;var _0x10e876=a24_0x286a[_0x526865];return _0x10e876;};'use strict';Object[a24_0x437a('0x0')](exports,a24_0x437a('0x1'),{'value':!![]});const HttpClientService_1=require(a24_0x437a('0x2'));const fs=require('fs');const extract=require('jpeg-extract');const fsExtra=require(a24_0x437a('0x3'));const url=a24_0x437a('0x4');const filename=a24_0x437a('0x5');const username='';const password='';class VideoService{constructor(){this['url']=a24_0x437a('0x6');this[a24_0x437a('0x7')]=new HttpClientService_1[(a24_0x437a('0x8'))]();}[a24_0x437a('0x9')](){console[a24_0x437a('0xa')]('init\x20VideoService');}[a24_0x437a('0xb')](){console[a24_0x437a('0xa')](a24_0x437a('0xb'));this[a24_0x437a('0x7')][a24_0x437a('0xc')](a24_0x437a('0xd'),![])[a24_0x437a('0xe')](function(_0x39cbf0){console['log'](_0x39cbf0['data'][0x0]['user']['id']);this[a24_0x437a('0xf')](_0x39cbf0['data'][0x0]['user']['id']);}[a24_0x437a('0x10')](this))[a24_0x437a('0x11')](function(_0x85abfd){});}[a24_0x437a('0xf')](_0x3587fd){console[a24_0x437a('0xa')]('downloadDriverPicture:'+_0x3587fd);this['httpClientService']['get'](a24_0x437a('0x12')+_0x3587fd,![])[a24_0x437a('0xe')](function(_0x1d499c){this['saveImageFile'](_0x1d499c[a24_0x437a('0x13')]);}[a24_0x437a('0x10')](this))[a24_0x437a('0x11')](function(_0x428ddb){});}[a24_0x437a('0x14')](){console[a24_0x437a('0xa')](a24_0x437a('0x14'));extract(this[a24_0x437a('0x15')])['then'](_0x1bbce9=>{fs[a24_0x437a('0x16')](a24_0x437a('0x17'),_0x1bbce9);})['catch'](_0x214a6c=>{console['error'](_0x214a6c);});}[a24_0x437a('0x18')](_0x5d2d26){console[a24_0x437a('0xa')](a24_0x437a('0x18'));let _0x1a796a='';const _0x52ce5e=_0x5d2d26[a24_0x437a('0x19')][a24_0x437a('0x1a')](/^data:image\/(png|jpeg|jpg);base64,/,'');if(_0x5d2d26[a24_0x437a('0x19')][a24_0x437a('0x1b')](/^data:image\/png;base64,/,'')){_0x1a796a=a24_0x437a('0x1c');}else if(_0x5d2d26[a24_0x437a('0x19')]['match'](/^data:image\/(jpg|jpeg);base64,/,'')){_0x1a796a=a24_0x437a('0x1d');}console[a24_0x437a('0xa')](_0x52ce5e);const _0x543f0c=a24_0x437a('0x1e');fsExtra['ensureDirSync'](_0x543f0c);const _0x511610=_0x543f0c+a24_0x437a('0x1f')+_0x1a796a;fsExtra[a24_0x437a('0x20')](_0x511610,_0x52ce5e,'base64',function(_0x33d81f){console[a24_0x437a('0xa')](_0x33d81f);});}}exports[a24_0x437a('0x21')]=VideoService;
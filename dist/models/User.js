var a9_0x1490=['comparePassword','gravatar','email','&d=retro','md5','digest','https://gravatar.com/avatar/','?s=','model','User','__importDefault','__esModule','defineProperty','bcrypt-nodejs','default','Schema','pre','save','isModified','password','genSalt','hash','methods'];(function(_0x3fe29f,_0x436256){var _0x2060a7=function(_0x16bea7){while(--_0x16bea7){_0x3fe29f['push'](_0x3fe29f['shift']());}};_0x2060a7(++_0x436256);}(a9_0x1490,0xf0));var a9_0x4b1c=function(_0x2f3e31,_0x3a89c9){_0x2f3e31=_0x2f3e31-0x0;var _0x2c6db2=a9_0x1490[_0x2f3e31];return _0x2c6db2;};'use strict';var __importDefault=this&&this[a9_0x4b1c('0x0')]||function(_0x378a0a){return _0x378a0a&&_0x378a0a[a9_0x4b1c('0x1')]?_0x378a0a:{'default':_0x378a0a};};Object[a9_0x4b1c('0x2')](exports,a9_0x4b1c('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a9_0x4b1c('0x3')));const crypto_1=__importDefault(require('crypto'));const mongoose_1=__importDefault(require('mongoose'));const userSchema=new mongoose_1[(a9_0x4b1c('0x4'))][(a9_0x4b1c('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a9_0x4b1c('0x6')](a9_0x4b1c('0x7'),function save(_0xf93090){const _0x14b10c=this;if(!_0x14b10c[a9_0x4b1c('0x8')](a9_0x4b1c('0x9'))){return _0xf93090();}bcrypt_nodejs_1[a9_0x4b1c('0x4')][a9_0x4b1c('0xa')](0xa,(_0x16ecb1,_0x34c625)=>{if(_0x16ecb1){return _0xf93090(_0x16ecb1);}bcrypt_nodejs_1[a9_0x4b1c('0x4')][a9_0x4b1c('0xb')](_0x14b10c[a9_0x4b1c('0x9')],_0x34c625,undefined,(_0x16ecb1,_0x438df7)=>{if(_0x16ecb1){return _0xf93090(_0x16ecb1);}_0x14b10c['password']=_0x438df7;_0xf93090();});});});const comparePassword=function(_0x1467ec,_0x5c8231){bcrypt_nodejs_1[a9_0x4b1c('0x4')]['compare'](_0x1467ec,this[a9_0x4b1c('0x9')],(_0x47dd7b,_0x3666fd)=>{_0x5c8231(_0x47dd7b,_0x3666fd);});};userSchema[a9_0x4b1c('0xc')][a9_0x4b1c('0xd')]=comparePassword;userSchema[a9_0x4b1c('0xc')][a9_0x4b1c('0xe')]=function(_0x4d9889){if(!_0x4d9889){_0x4d9889=0xc8;}if(!this[a9_0x4b1c('0xf')]){return'https://gravatar.com/avatar/?s='+_0x4d9889+a9_0x4b1c('0x10');}const _0x1efc7a=crypto_1[a9_0x4b1c('0x4')]['createHash'](a9_0x4b1c('0x11'))['update'](this[a9_0x4b1c('0xf')])[a9_0x4b1c('0x12')]('hex');return a9_0x4b1c('0x13')+_0x1efc7a+a9_0x4b1c('0x14')+_0x4d9889+a9_0x4b1c('0x10');};const User=mongoose_1['default'][a9_0x4b1c('0x15')](a9_0x4b1c('0x16'),userSchema);exports[a9_0x4b1c('0x4')]=User;
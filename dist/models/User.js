var a9_0x42a8=['isModified','password','genSalt','hash','compare','methods','comparePassword','gravatar','email','&d=retro','createHash','update','hex','https://gravatar.com/avatar/','?s=','model','User','__importDefault','__esModule','bcrypt-nodejs','crypto','mongoose','default','Schema','save'];(function(_0x25e446,_0x41c794){var _0x6b507c=function(_0xbaccf7){while(--_0xbaccf7){_0x25e446['push'](_0x25e446['shift']());}};_0x6b507c(++_0x41c794);}(a9_0x42a8,0x8e));var a9_0x4b32=function(_0x1f4ea5,_0x1a1037){_0x1f4ea5=_0x1f4ea5-0x0;var _0x46e594=a9_0x42a8[_0x1f4ea5];return _0x46e594;};'use strict';var __importDefault=this&&this[a9_0x4b32('0x0')]||function(_0x23387b){return _0x23387b&&_0x23387b[a9_0x4b32('0x1')]?_0x23387b:{'default':_0x23387b};};Object['defineProperty'](exports,a9_0x4b32('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a9_0x4b32('0x2')));const crypto_1=__importDefault(require(a9_0x4b32('0x3')));const mongoose_1=__importDefault(require(a9_0x4b32('0x4')));const userSchema=new mongoose_1[(a9_0x4b32('0x5'))][(a9_0x4b32('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre'](a9_0x4b32('0x7'),function save(_0x2476bd){const _0x51fe67=this;if(!_0x51fe67[a9_0x4b32('0x8')](a9_0x4b32('0x9'))){return _0x2476bd();}bcrypt_nodejs_1[a9_0x4b32('0x5')][a9_0x4b32('0xa')](0xa,(_0x4c0faf,_0x2b6ac1)=>{if(_0x4c0faf){return _0x2476bd(_0x4c0faf);}bcrypt_nodejs_1[a9_0x4b32('0x5')][a9_0x4b32('0xb')](_0x51fe67[a9_0x4b32('0x9')],_0x2b6ac1,undefined,(_0x4c0faf,_0x1d6681)=>{if(_0x4c0faf){return _0x2476bd(_0x4c0faf);}_0x51fe67['password']=_0x1d6681;_0x2476bd();});});});const comparePassword=function(_0x302561,_0x436ee6){bcrypt_nodejs_1[a9_0x4b32('0x5')][a9_0x4b32('0xc')](_0x302561,this[a9_0x4b32('0x9')],(_0x5f403a,_0x1e76c4)=>{_0x436ee6(_0x5f403a,_0x1e76c4);});};userSchema[a9_0x4b32('0xd')][a9_0x4b32('0xe')]=comparePassword;userSchema['methods'][a9_0x4b32('0xf')]=function(_0x21359f){if(!_0x21359f){_0x21359f=0xc8;}if(!this[a9_0x4b32('0x10')]){return'https://gravatar.com/avatar/?s='+_0x21359f+a9_0x4b32('0x11');}const _0x63fa1c=crypto_1[a9_0x4b32('0x5')][a9_0x4b32('0x12')]('md5')[a9_0x4b32('0x13')](this[a9_0x4b32('0x10')])['digest'](a9_0x4b32('0x14'));return a9_0x4b32('0x15')+_0x63fa1c+a9_0x4b32('0x16')+_0x21359f+a9_0x4b32('0x11');};const User=mongoose_1[a9_0x4b32('0x5')][a9_0x4b32('0x17')](a9_0x4b32('0x18'),userSchema);exports['default']=User;
var a9_0x8d90=['compare','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','digest','https://gravatar.com/avatar/','?s=','model','__importDefault','__esModule','defineProperty','bcrypt-nodejs','crypto','mongoose','default','pre','save','isModified','password','genSalt','hash'];(function(_0x439a48,_0x2a9e93){var _0x42e26c=function(_0x3db5a1){while(--_0x3db5a1){_0x439a48['push'](_0x439a48['shift']());}};_0x42e26c(++_0x2a9e93);}(a9_0x8d90,0xb3));var a9_0x2ba3=function(_0x376213,_0x2b07a1){_0x376213=_0x376213-0x0;var _0x2d537e=a9_0x8d90[_0x376213];return _0x2d537e;};'use strict';var __importDefault=this&&this[a9_0x2ba3('0x0')]||function(_0x29765f){return _0x29765f&&_0x29765f[a9_0x2ba3('0x1')]?_0x29765f:{'default':_0x29765f};};Object[a9_0x2ba3('0x2')](exports,a9_0x2ba3('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a9_0x2ba3('0x3')));const crypto_1=__importDefault(require(a9_0x2ba3('0x4')));const mongoose_1=__importDefault(require(a9_0x2ba3('0x5')));const userSchema=new mongoose_1[(a9_0x2ba3('0x6'))]['Schema']({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a9_0x2ba3('0x7')](a9_0x2ba3('0x8'),function save(_0x97e87c){const _0x1f1d34=this;if(!_0x1f1d34[a9_0x2ba3('0x9')](a9_0x2ba3('0xa'))){return _0x97e87c();}bcrypt_nodejs_1[a9_0x2ba3('0x6')][a9_0x2ba3('0xb')](0xa,(_0x35c5d5,_0x21670)=>{if(_0x35c5d5){return _0x97e87c(_0x35c5d5);}bcrypt_nodejs_1[a9_0x2ba3('0x6')][a9_0x2ba3('0xc')](_0x1f1d34[a9_0x2ba3('0xa')],_0x21670,undefined,(_0x35c5d5,_0x1dfbe8)=>{if(_0x35c5d5){return _0x97e87c(_0x35c5d5);}_0x1f1d34['password']=_0x1dfbe8;_0x97e87c();});});});const comparePassword=function(_0x3be390,_0x18e1f1){bcrypt_nodejs_1['default'][a9_0x2ba3('0xd')](_0x3be390,this['password'],(_0x3c236f,_0x14afe4)=>{_0x18e1f1(_0x3c236f,_0x14afe4);});};userSchema['methods']['comparePassword']=comparePassword;userSchema['methods'][a9_0x2ba3('0xe')]=function(_0x2ab489){if(!_0x2ab489){_0x2ab489=0xc8;}if(!this[a9_0x2ba3('0xf')]){return a9_0x2ba3('0x10')+_0x2ab489+a9_0x2ba3('0x11');}const _0x58cbfa=crypto_1[a9_0x2ba3('0x6')][a9_0x2ba3('0x12')](a9_0x2ba3('0x13'))['update'](this[a9_0x2ba3('0xf')])[a9_0x2ba3('0x14')]('hex');return a9_0x2ba3('0x15')+_0x58cbfa+a9_0x2ba3('0x16')+_0x2ab489+'&d=retro';};const User=mongoose_1['default'][a9_0x2ba3('0x17')]('User',userSchema);exports['default']=User;
var a10_0x14ce=['update','email','digest','hex','https://gravatar.com/avatar/','&d=retro','model','User','__importDefault','__esModule','defineProperty','bcrypt-nodejs','crypto','mongoose','default','Schema','pre','save','isModified','password','hash','comparePassword','methods','gravatar','https://gravatar.com/avatar/?s=','createHash'];(function(_0xc91296,_0x21e027){var _0xda2f05=function(_0xdfcfdd){while(--_0xdfcfdd){_0xc91296['push'](_0xc91296['shift']());}};_0xda2f05(++_0x21e027);}(a10_0x14ce,0x126));var a10_0x4e9d=function(_0x26ba3a,_0x5688e0){_0x26ba3a=_0x26ba3a-0x0;var _0x128017=a10_0x14ce[_0x26ba3a];return _0x128017;};'use strict';var __importDefault=this&&this[a10_0x4e9d('0x0')]||function(_0x52f29e){return _0x52f29e&&_0x52f29e[a10_0x4e9d('0x1')]?_0x52f29e:{'default':_0x52f29e};};Object[a10_0x4e9d('0x2')](exports,a10_0x4e9d('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a10_0x4e9d('0x3')));const crypto_1=__importDefault(require(a10_0x4e9d('0x4')));const mongoose_1=__importDefault(require(a10_0x4e9d('0x5')));const userSchema=new mongoose_1[(a10_0x4e9d('0x6'))][(a10_0x4e9d('0x7'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a10_0x4e9d('0x8')](a10_0x4e9d('0x9'),function save(_0x5d664e){const _0x3e0410=this;if(!_0x3e0410[a10_0x4e9d('0xa')](a10_0x4e9d('0xb'))){return _0x5d664e();}bcrypt_nodejs_1[a10_0x4e9d('0x6')]['genSalt'](0xa,(_0x5e645c,_0x29653a)=>{if(_0x5e645c){return _0x5d664e(_0x5e645c);}bcrypt_nodejs_1[a10_0x4e9d('0x6')][a10_0x4e9d('0xc')](_0x3e0410[a10_0x4e9d('0xb')],_0x29653a,undefined,(_0x5e645c,_0x1c1f76)=>{if(_0x5e645c){return _0x5d664e(_0x5e645c);}_0x3e0410[a10_0x4e9d('0xb')]=_0x1c1f76;_0x5d664e();});});});const comparePassword=function(_0x1d34a0,_0x27b494){bcrypt_nodejs_1['default']['compare'](_0x1d34a0,this[a10_0x4e9d('0xb')],(_0x1364be,_0x3590ec)=>{_0x27b494(_0x1364be,_0x3590ec);});};userSchema['methods'][a10_0x4e9d('0xd')]=comparePassword;userSchema[a10_0x4e9d('0xe')][a10_0x4e9d('0xf')]=function(_0x2fb1ea){if(!_0x2fb1ea){_0x2fb1ea=0xc8;}if(!this['email']){return a10_0x4e9d('0x10')+_0x2fb1ea+'&d=retro';}const _0x39e295=crypto_1[a10_0x4e9d('0x6')][a10_0x4e9d('0x11')]('md5')[a10_0x4e9d('0x12')](this[a10_0x4e9d('0x13')])[a10_0x4e9d('0x14')](a10_0x4e9d('0x15'));return a10_0x4e9d('0x16')+_0x39e295+'?s='+_0x2fb1ea+a10_0x4e9d('0x17');};const User=mongoose_1[a10_0x4e9d('0x6')][a10_0x4e9d('0x18')](a10_0x4e9d('0x19'),userSchema);exports['default']=User;
var a10_0xce99=['bcrypt-nodejs','crypto','Schema','pre','save','isModified','default','hash','password','compare','methods','comparePassword','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','update','digest','hex','?s=','model','__importDefault','defineProperty','__esModule'];(function(_0x3601be,_0x59722b){var _0x15a22e=function(_0x16414d){while(--_0x16414d){_0x3601be['push'](_0x3601be['shift']());}};_0x15a22e(++_0x59722b);}(a10_0xce99,0x110));var a10_0x3e87=function(_0x2761ae,_0x3fb97a){_0x2761ae=_0x2761ae-0x0;var _0x20dfde=a10_0xce99[_0x2761ae];return _0x20dfde;};'use strict';var __importDefault=this&&this[a10_0x3e87('0x0')]||function(_0x408d95){return _0x408d95&&_0x408d95['__esModule']?_0x408d95:{'default':_0x408d95};};Object[a10_0x3e87('0x1')](exports,a10_0x3e87('0x2'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a10_0x3e87('0x3')));const crypto_1=__importDefault(require(a10_0x3e87('0x4')));const mongoose_1=__importDefault(require('mongoose'));const userSchema=new mongoose_1['default'][(a10_0x3e87('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a10_0x3e87('0x6')](a10_0x3e87('0x7'),function save(_0x1ca7dd){const _0x1ab2b4=this;if(!_0x1ab2b4[a10_0x3e87('0x8')]('password')){return _0x1ca7dd();}bcrypt_nodejs_1['default']['genSalt'](0xa,(_0x17e4cf,_0x27bcfc)=>{if(_0x17e4cf){return _0x1ca7dd(_0x17e4cf);}bcrypt_nodejs_1[a10_0x3e87('0x9')][a10_0x3e87('0xa')](_0x1ab2b4[a10_0x3e87('0xb')],_0x27bcfc,undefined,(_0x17e4cf,_0x1c05ec)=>{if(_0x17e4cf){return _0x1ca7dd(_0x17e4cf);}_0x1ab2b4[a10_0x3e87('0xb')]=_0x1c05ec;_0x1ca7dd();});});});const comparePassword=function(_0xc2438d,_0x5a8a39){bcrypt_nodejs_1[a10_0x3e87('0x9')][a10_0x3e87('0xc')](_0xc2438d,this[a10_0x3e87('0xb')],(_0x359b6a,_0xd1c00b)=>{_0x5a8a39(_0x359b6a,_0xd1c00b);});};userSchema[a10_0x3e87('0xd')][a10_0x3e87('0xe')]=comparePassword;userSchema['methods']['gravatar']=function(_0x33a976){if(!_0x33a976){_0x33a976=0xc8;}if(!this[a10_0x3e87('0xf')]){return a10_0x3e87('0x10')+_0x33a976+a10_0x3e87('0x11');}const _0x4cd7ee=crypto_1[a10_0x3e87('0x9')][a10_0x3e87('0x12')](a10_0x3e87('0x13'))[a10_0x3e87('0x14')](this[a10_0x3e87('0xf')])[a10_0x3e87('0x15')](a10_0x3e87('0x16'));return'https://gravatar.com/avatar/'+_0x4cd7ee+a10_0x3e87('0x17')+_0x33a976+a10_0x3e87('0x11');};const User=mongoose_1[a10_0x3e87('0x9')][a10_0x3e87('0x18')]('User',userSchema);exports[a10_0x3e87('0x9')]=User;
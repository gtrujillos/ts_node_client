var a9_0x55d8=['defineProperty','crypto','mongoose','default','Schema','save','isModified','password','compare','methods','comparePassword','gravatar','email','https://gravatar.com/avatar/?s=','createHash','md5','update','digest','hex','https://gravatar.com/avatar/','&d=retro','__importDefault','__esModule'];(function(_0x58c8d6,_0x4d6c5d){var _0x31b53b=function(_0x212216){while(--_0x212216){_0x58c8d6['push'](_0x58c8d6['shift']());}};_0x31b53b(++_0x4d6c5d);}(a9_0x55d8,0xcd));var a9_0x5afe=function(_0x1277e8,_0x55fac2){_0x1277e8=_0x1277e8-0x0;var _0x38d57b=a9_0x55d8[_0x1277e8];return _0x38d57b;};'use strict';var __importDefault=this&&this[a9_0x5afe('0x0')]||function(_0x16f6d2){return _0x16f6d2&&_0x16f6d2[a9_0x5afe('0x1')]?_0x16f6d2:{'default':_0x16f6d2};};Object[a9_0x5afe('0x2')](exports,a9_0x5afe('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require('bcrypt-nodejs'));const crypto_1=__importDefault(require(a9_0x5afe('0x3')));const mongoose_1=__importDefault(require(a9_0x5afe('0x4')));const userSchema=new mongoose_1[(a9_0x5afe('0x5'))][(a9_0x5afe('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre'](a9_0x5afe('0x7'),function save(_0x15df17){const _0x4d2abe=this;if(!_0x4d2abe[a9_0x5afe('0x8')](a9_0x5afe('0x9'))){return _0x15df17();}bcrypt_nodejs_1['default']['genSalt'](0xa,(_0x397c22,_0x318d10)=>{if(_0x397c22){return _0x15df17(_0x397c22);}bcrypt_nodejs_1[a9_0x5afe('0x5')]['hash'](_0x4d2abe[a9_0x5afe('0x9')],_0x318d10,undefined,(_0x397c22,_0x33b52f)=>{if(_0x397c22){return _0x15df17(_0x397c22);}_0x4d2abe[a9_0x5afe('0x9')]=_0x33b52f;_0x15df17();});});});const comparePassword=function(_0x112eb5,_0x36b0b1){bcrypt_nodejs_1[a9_0x5afe('0x5')][a9_0x5afe('0xa')](_0x112eb5,this[a9_0x5afe('0x9')],(_0x2e867c,_0xa0f069)=>{_0x36b0b1(_0x2e867c,_0xa0f069);});};userSchema[a9_0x5afe('0xb')][a9_0x5afe('0xc')]=comparePassword;userSchema['methods'][a9_0x5afe('0xd')]=function(_0x230e1d){if(!_0x230e1d){_0x230e1d=0xc8;}if(!this[a9_0x5afe('0xe')]){return a9_0x5afe('0xf')+_0x230e1d+'&d=retro';}const _0x4d5e76=crypto_1['default'][a9_0x5afe('0x10')](a9_0x5afe('0x11'))[a9_0x5afe('0x12')](this[a9_0x5afe('0xe')])[a9_0x5afe('0x13')](a9_0x5afe('0x14'));return a9_0x5afe('0x15')+_0x4d5e76+'?s='+_0x230e1d+a9_0x5afe('0x16');};const User=mongoose_1[a9_0x5afe('0x5')]['model']('User',userSchema);exports['default']=User;
var a9_0x673a=['&d=retro','createHash','md5','update','digest','model','User','__importDefault','__esModule','bcrypt-nodejs','crypto','mongoose','default','Schema','save','password','genSalt','compare','comparePassword','methods','gravatar','https://gravatar.com/avatar/?s='];(function(_0x214f0b,_0x58bc59){var _0x3f3413=function(_0x5a26f4){while(--_0x5a26f4){_0x214f0b['push'](_0x214f0b['shift']());}};_0x3f3413(++_0x58bc59);}(a9_0x673a,0x1d5));var a9_0x4aea=function(_0x546a53,_0x3f720e){_0x546a53=_0x546a53-0x0;var _0x440369=a9_0x673a[_0x546a53];return _0x440369;};'use strict';var __importDefault=this&&this[a9_0x4aea('0x0')]||function(_0x47703d){return _0x47703d&&_0x47703d[a9_0x4aea('0x1')]?_0x47703d:{'default':_0x47703d};};Object['defineProperty'](exports,a9_0x4aea('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a9_0x4aea('0x2')));const crypto_1=__importDefault(require(a9_0x4aea('0x3')));const mongoose_1=__importDefault(require(a9_0x4aea('0x4')));const userSchema=new mongoose_1[(a9_0x4aea('0x5'))][(a9_0x4aea('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre'](a9_0x4aea('0x7'),function save(_0x3fd6b8){const _0x4d4569=this;if(!_0x4d4569['isModified'](a9_0x4aea('0x8'))){return _0x3fd6b8();}bcrypt_nodejs_1[a9_0x4aea('0x5')][a9_0x4aea('0x9')](0xa,(_0x1839c3,_0x2607c8)=>{if(_0x1839c3){return _0x3fd6b8(_0x1839c3);}bcrypt_nodejs_1['default']['hash'](_0x4d4569[a9_0x4aea('0x8')],_0x2607c8,undefined,(_0x1839c3,_0x429f06)=>{if(_0x1839c3){return _0x3fd6b8(_0x1839c3);}_0x4d4569[a9_0x4aea('0x8')]=_0x429f06;_0x3fd6b8();});});});const comparePassword=function(_0x3357cd,_0x5d6023){bcrypt_nodejs_1['default'][a9_0x4aea('0xa')](_0x3357cd,this[a9_0x4aea('0x8')],(_0x235e3a,_0x4930e0)=>{_0x5d6023(_0x235e3a,_0x4930e0);});};userSchema['methods'][a9_0x4aea('0xb')]=comparePassword;userSchema[a9_0x4aea('0xc')][a9_0x4aea('0xd')]=function(_0x1ba146){if(!_0x1ba146){_0x1ba146=0xc8;}if(!this['email']){return a9_0x4aea('0xe')+_0x1ba146+a9_0x4aea('0xf');}const _0x3710f3=crypto_1[a9_0x4aea('0x5')][a9_0x4aea('0x10')](a9_0x4aea('0x11'))[a9_0x4aea('0x12')](this['email'])[a9_0x4aea('0x13')]('hex');return'https://gravatar.com/avatar/'+_0x3710f3+'?s='+_0x1ba146+'&d=retro';};const User=mongoose_1[a9_0x4aea('0x5')][a9_0x4aea('0x14')](a9_0x4aea('0x15'),userSchema);exports[a9_0x4aea('0x5')]=User;
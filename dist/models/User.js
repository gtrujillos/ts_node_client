var a10_0x3956=['md5','update','hex','https://gravatar.com/avatar/','?s=','model','User','__esModule','defineProperty','mongoose','Schema','pre','save','isModified','default','hash','password','compare','methods','comparePassword','gravatar','email'];(function(_0x1a95d8,_0x4a728e){var _0x38150c=function(_0x51f859){while(--_0x51f859){_0x1a95d8['push'](_0x1a95d8['shift']());}};_0x38150c(++_0x4a728e);}(a10_0x3956,0x193));var a10_0x2ee2=function(_0x303898,_0x1a633a){_0x303898=_0x303898-0x0;var _0x542c15=a10_0x3956[_0x303898];return _0x542c15;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x420559){return _0x420559&&_0x420559[a10_0x2ee2('0x0')]?_0x420559:{'default':_0x420559};};Object[a10_0x2ee2('0x1')](exports,'__esModule',{'value':!![]});const bcrypt_nodejs_1=__importDefault(require('bcrypt-nodejs'));const crypto_1=__importDefault(require('crypto'));const mongoose_1=__importDefault(require(a10_0x2ee2('0x2')));const userSchema=new mongoose_1['default'][(a10_0x2ee2('0x3'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a10_0x2ee2('0x4')](a10_0x2ee2('0x5'),function save(_0x14bd38){const _0x5692c3=this;if(!_0x5692c3[a10_0x2ee2('0x6')]('password')){return _0x14bd38();}bcrypt_nodejs_1[a10_0x2ee2('0x7')]['genSalt'](0xa,(_0x5bd312,_0xac1241)=>{if(_0x5bd312){return _0x14bd38(_0x5bd312);}bcrypt_nodejs_1[a10_0x2ee2('0x7')][a10_0x2ee2('0x8')](_0x5692c3[a10_0x2ee2('0x9')],_0xac1241,undefined,(_0x5bd312,_0x489a65)=>{if(_0x5bd312){return _0x14bd38(_0x5bd312);}_0x5692c3['password']=_0x489a65;_0x14bd38();});});});const comparePassword=function(_0x31ba8d,_0x44fbfb){bcrypt_nodejs_1['default'][a10_0x2ee2('0xa')](_0x31ba8d,this[a10_0x2ee2('0x9')],(_0x4cdb59,_0x1d72de)=>{_0x44fbfb(_0x4cdb59,_0x1d72de);});};userSchema[a10_0x2ee2('0xb')][a10_0x2ee2('0xc')]=comparePassword;userSchema[a10_0x2ee2('0xb')][a10_0x2ee2('0xd')]=function(_0x362fe0){if(!_0x362fe0){_0x362fe0=0xc8;}if(!this[a10_0x2ee2('0xe')]){return'https://gravatar.com/avatar/?s='+_0x362fe0+'&d=retro';}const _0x1acb09=crypto_1[a10_0x2ee2('0x7')]['createHash'](a10_0x2ee2('0xf'))[a10_0x2ee2('0x10')](this[a10_0x2ee2('0xe')])['digest'](a10_0x2ee2('0x11'));return a10_0x2ee2('0x12')+_0x1acb09+a10_0x2ee2('0x13')+_0x362fe0+'&d=retro';};const User=mongoose_1['default'][a10_0x2ee2('0x14')](a10_0x2ee2('0x15'),userSchema);exports[a10_0x2ee2('0x7')]=User;
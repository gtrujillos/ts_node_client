var a9_0x1dda=['model','User','__esModule','crypto','default','Schema','save','isModified','password','genSalt','hash','compare','methods','gravatar','email','https://gravatar.com/avatar/?s=','update','digest','hex','?s='];(function(_0x18875f,_0x5a339d){var _0x16898a=function(_0x439979){while(--_0x439979){_0x18875f['push'](_0x18875f['shift']());}};_0x16898a(++_0x5a339d);}(a9_0x1dda,0x1ba));var a9_0x5c84=function(_0x584401,_0x427872){_0x584401=_0x584401-0x0;var _0x296431=a9_0x1dda[_0x584401];return _0x296431;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4230ca){return _0x4230ca&&_0x4230ca[a9_0x5c84('0x0')]?_0x4230ca:{'default':_0x4230ca};};Object['defineProperty'](exports,a9_0x5c84('0x0'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require('bcrypt-nodejs'));const crypto_1=__importDefault(require(a9_0x5c84('0x1')));const mongoose_1=__importDefault(require('mongoose'));const userSchema=new mongoose_1[(a9_0x5c84('0x2'))][(a9_0x5c84('0x3'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre'](a9_0x5c84('0x4'),function save(_0x54a205){const _0x3ce60d=this;if(!_0x3ce60d[a9_0x5c84('0x5')](a9_0x5c84('0x6'))){return _0x54a205();}bcrypt_nodejs_1[a9_0x5c84('0x2')][a9_0x5c84('0x7')](0xa,(_0x264a78,_0x43d8b3)=>{if(_0x264a78){return _0x54a205(_0x264a78);}bcrypt_nodejs_1['default'][a9_0x5c84('0x8')](_0x3ce60d[a9_0x5c84('0x6')],_0x43d8b3,undefined,(_0x264a78,_0x2b8cfd)=>{if(_0x264a78){return _0x54a205(_0x264a78);}_0x3ce60d['password']=_0x2b8cfd;_0x54a205();});});});const comparePassword=function(_0x4eebd0,_0x198d72){bcrypt_nodejs_1[a9_0x5c84('0x2')][a9_0x5c84('0x9')](_0x4eebd0,this[a9_0x5c84('0x6')],(_0x753349,_0x3d280a)=>{_0x198d72(_0x753349,_0x3d280a);});};userSchema[a9_0x5c84('0xa')]['comparePassword']=comparePassword;userSchema['methods'][a9_0x5c84('0xb')]=function(_0x41081b){if(!_0x41081b){_0x41081b=0xc8;}if(!this[a9_0x5c84('0xc')]){return a9_0x5c84('0xd')+_0x41081b+'&d=retro';}const _0x17f742=crypto_1[a9_0x5c84('0x2')]['createHash']('md5')[a9_0x5c84('0xe')](this[a9_0x5c84('0xc')])[a9_0x5c84('0xf')](a9_0x5c84('0x10'));return'https://gravatar.com/avatar/'+_0x17f742+a9_0x5c84('0x11')+_0x41081b+'&d=retro';};const User=mongoose_1['default'][a9_0x5c84('0x12')](a9_0x5c84('0x13'),userSchema);exports[a9_0x5c84('0x2')]=User;
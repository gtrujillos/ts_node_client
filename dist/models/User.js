var a9_0x1163=['hash','compare','methods','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','update','digest','hex','User','__esModule','bcrypt-nodejs','crypto','mongoose','default','save','isModified','password','genSalt'];(function(_0x3ad8cc,_0x561ab2){var _0x5e000e=function(_0x1590ee){while(--_0x1590ee){_0x3ad8cc['push'](_0x3ad8cc['shift']());}};_0x5e000e(++_0x561ab2);}(a9_0x1163,0x8a));var a9_0x3d86=function(_0xed3bbe,_0x2c70ed){_0xed3bbe=_0xed3bbe-0x0;var _0x48e552=a9_0x1163[_0xed3bbe];return _0x48e552;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1c680d){return _0x1c680d&&_0x1c680d[a9_0x3d86('0x0')]?_0x1c680d:{'default':_0x1c680d};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a9_0x3d86('0x1')));const crypto_1=__importDefault(require(a9_0x3d86('0x2')));const mongoose_1=__importDefault(require(a9_0x3d86('0x3')));const userSchema=new mongoose_1[(a9_0x3d86('0x4'))]['Schema']({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre'](a9_0x3d86('0x5'),function save(_0x12fcdc){const _0x4d5cd8=this;if(!_0x4d5cd8[a9_0x3d86('0x6')](a9_0x3d86('0x7'))){return _0x12fcdc();}bcrypt_nodejs_1['default'][a9_0x3d86('0x8')](0xa,(_0x40dce4,_0x48ab67)=>{if(_0x40dce4){return _0x12fcdc(_0x40dce4);}bcrypt_nodejs_1[a9_0x3d86('0x4')][a9_0x3d86('0x9')](_0x4d5cd8[a9_0x3d86('0x7')],_0x48ab67,undefined,(_0x40dce4,_0x223945)=>{if(_0x40dce4){return _0x12fcdc(_0x40dce4);}_0x4d5cd8[a9_0x3d86('0x7')]=_0x223945;_0x12fcdc();});});});const comparePassword=function(_0x561af4,_0x452283){bcrypt_nodejs_1[a9_0x3d86('0x4')][a9_0x3d86('0xa')](_0x561af4,this[a9_0x3d86('0x7')],(_0x557fba,_0x25bb48)=>{_0x452283(_0x557fba,_0x25bb48);});};userSchema[a9_0x3d86('0xb')]['comparePassword']=comparePassword;userSchema['methods']['gravatar']=function(_0x186287){if(!_0x186287){_0x186287=0xc8;}if(!this[a9_0x3d86('0xc')]){return a9_0x3d86('0xd')+_0x186287+a9_0x3d86('0xe');}const _0x5d592c=crypto_1['default'][a9_0x3d86('0xf')](a9_0x3d86('0x10'))[a9_0x3d86('0x11')](this[a9_0x3d86('0xc')])[a9_0x3d86('0x12')](a9_0x3d86('0x13'));return'https://gravatar.com/avatar/'+_0x5d592c+'?s='+_0x186287+'&d=retro';};const User=mongoose_1[a9_0x3d86('0x4')]['model'](a9_0x3d86('0x14'),userSchema);exports['default']=User;
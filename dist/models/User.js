var a10_0x75aa=['https://gravatar.com/avatar/?s=','&d=retro','createHash','update','digest','https://gravatar.com/avatar/','model','User','__importDefault','defineProperty','__esModule','bcrypt-nodejs','mongoose','default','Schema','pre','save','password','hash','compare','methods','comparePassword','gravatar'];(function(_0xa672b0,_0x45a635){var _0x42a2c1=function(_0x437697){while(--_0x437697){_0xa672b0['push'](_0xa672b0['shift']());}};_0x42a2c1(++_0x45a635);}(a10_0x75aa,0x7b));var a10_0xfe39=function(_0x1a3402,_0xdfd983){_0x1a3402=_0x1a3402-0x0;var _0x28a3e1=a10_0x75aa[_0x1a3402];return _0x28a3e1;};'use strict';var __importDefault=this&&this[a10_0xfe39('0x0')]||function(_0x2d8f09){return _0x2d8f09&&_0x2d8f09['__esModule']?_0x2d8f09:{'default':_0x2d8f09};};Object[a10_0xfe39('0x1')](exports,a10_0xfe39('0x2'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a10_0xfe39('0x3')));const crypto_1=__importDefault(require('crypto'));const mongoose_1=__importDefault(require(a10_0xfe39('0x4')));const userSchema=new mongoose_1[(a10_0xfe39('0x5'))][(a10_0xfe39('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a10_0xfe39('0x7')](a10_0xfe39('0x8'),function save(_0x33b7d9){const _0x42cebc=this;if(!_0x42cebc['isModified'](a10_0xfe39('0x9'))){return _0x33b7d9();}bcrypt_nodejs_1[a10_0xfe39('0x5')]['genSalt'](0xa,(_0x32a335,_0x1a154b)=>{if(_0x32a335){return _0x33b7d9(_0x32a335);}bcrypt_nodejs_1['default'][a10_0xfe39('0xa')](_0x42cebc[a10_0xfe39('0x9')],_0x1a154b,undefined,(_0x32a335,_0x4901f4)=>{if(_0x32a335){return _0x33b7d9(_0x32a335);}_0x42cebc[a10_0xfe39('0x9')]=_0x4901f4;_0x33b7d9();});});});const comparePassword=function(_0x59cb66,_0x350e68){bcrypt_nodejs_1['default'][a10_0xfe39('0xb')](_0x59cb66,this[a10_0xfe39('0x9')],(_0x3f3a0,_0x52bc4c)=>{_0x350e68(_0x3f3a0,_0x52bc4c);});};userSchema[a10_0xfe39('0xc')][a10_0xfe39('0xd')]=comparePassword;userSchema[a10_0xfe39('0xc')][a10_0xfe39('0xe')]=function(_0x490176){if(!_0x490176){_0x490176=0xc8;}if(!this['email']){return a10_0xfe39('0xf')+_0x490176+a10_0xfe39('0x10');}const _0x4f1aa1=crypto_1[a10_0xfe39('0x5')][a10_0xfe39('0x11')]('md5')[a10_0xfe39('0x12')](this['email'])[a10_0xfe39('0x13')]('hex');return a10_0xfe39('0x14')+_0x4f1aa1+'?s='+_0x490176+a10_0xfe39('0x10');};const User=mongoose_1['default'][a10_0xfe39('0x15')](a10_0xfe39('0x16'),userSchema);exports[a10_0xfe39('0x5')]=User;
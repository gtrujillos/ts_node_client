var a10_0x1127=['createHash','md5','update','email','digest','hex','https://gravatar.com/avatar/','?s=','&d=retro','model','User','__esModule','bcrypt-nodejs','mongoose','Schema','pre','save','default','genSalt','hash','password','compare','comparePassword','methods','gravatar','https://gravatar.com/avatar/?s='];(function(_0x5bd7be,_0x13f870){var _0x2b06d3=function(_0x88ef23){while(--_0x88ef23){_0x5bd7be['push'](_0x5bd7be['shift']());}};_0x2b06d3(++_0x13f870);}(a10_0x1127,0x73));var a10_0x267a=function(_0x2699a9,_0x501e82){_0x2699a9=_0x2699a9-0x0;var _0x5b6c40=a10_0x1127[_0x2699a9];return _0x5b6c40;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3bdacd){return _0x3bdacd&&_0x3bdacd[a10_0x267a('0x0')]?_0x3bdacd:{'default':_0x3bdacd};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a10_0x267a('0x1')));const crypto_1=__importDefault(require('crypto'));const mongoose_1=__importDefault(require(a10_0x267a('0x2')));const userSchema=new mongoose_1['default'][(a10_0x267a('0x3'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a10_0x267a('0x4')](a10_0x267a('0x5'),function save(_0x48efa1){const _0x524f0f=this;if(!_0x524f0f['isModified']('password')){return _0x48efa1();}bcrypt_nodejs_1[a10_0x267a('0x6')][a10_0x267a('0x7')](0xa,(_0x105230,_0x56e74f)=>{if(_0x105230){return _0x48efa1(_0x105230);}bcrypt_nodejs_1[a10_0x267a('0x6')][a10_0x267a('0x8')](_0x524f0f['password'],_0x56e74f,undefined,(_0x105230,_0x2e3d5b)=>{if(_0x105230){return _0x48efa1(_0x105230);}_0x524f0f[a10_0x267a('0x9')]=_0x2e3d5b;_0x48efa1();});});});const comparePassword=function(_0x8deca3,_0x6e0292){bcrypt_nodejs_1[a10_0x267a('0x6')][a10_0x267a('0xa')](_0x8deca3,this[a10_0x267a('0x9')],(_0x461540,_0x4f83e5)=>{_0x6e0292(_0x461540,_0x4f83e5);});};userSchema['methods'][a10_0x267a('0xb')]=comparePassword;userSchema[a10_0x267a('0xc')][a10_0x267a('0xd')]=function(_0x16a829){if(!_0x16a829){_0x16a829=0xc8;}if(!this['email']){return a10_0x267a('0xe')+_0x16a829+'&d=retro';}const _0x39d193=crypto_1['default'][a10_0x267a('0xf')](a10_0x267a('0x10'))[a10_0x267a('0x11')](this[a10_0x267a('0x12')])[a10_0x267a('0x13')](a10_0x267a('0x14'));return a10_0x267a('0x15')+_0x39d193+a10_0x267a('0x16')+_0x16a829+a10_0x267a('0x17');};const User=mongoose_1['default'][a10_0x267a('0x18')](a10_0x267a('0x19'),userSchema);exports[a10_0x267a('0x6')]=User;
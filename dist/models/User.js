var a8_0x2165=['genSalt','comparePassword','gravatar','email','https://gravatar.com/avatar/?s=','createHash','md5','hex','User','__importDefault','__esModule','bcrypt-nodejs','crypto','mongoose','Schema','pre','save','isModified','password','default'];(function(_0xf14935,_0x551b07){var _0x101e40=function(_0x152c9c){while(--_0x152c9c){_0xf14935['push'](_0xf14935['shift']());}};_0x101e40(++_0x551b07);}(a8_0x2165,0xd1));var a8_0x232a=function(_0x4c07b1,_0x35ed05){_0x4c07b1=_0x4c07b1-0x0;var _0x59193a=a8_0x2165[_0x4c07b1];return _0x59193a;};'use strict';var __importDefault=this&&this[a8_0x232a('0x0')]||function(_0x33623a){return _0x33623a&&_0x33623a[a8_0x232a('0x1')]?_0x33623a:{'default':_0x33623a};};Object['defineProperty'](exports,a8_0x232a('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a8_0x232a('0x2')));const crypto_1=__importDefault(require(a8_0x232a('0x3')));const mongoose_1=__importDefault(require(a8_0x232a('0x4')));const userSchema=new mongoose_1['default'][(a8_0x232a('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a8_0x232a('0x6')](a8_0x232a('0x7'),function save(_0x14700a){const _0x5081aa=this;if(!_0x5081aa[a8_0x232a('0x8')](a8_0x232a('0x9'))){return _0x14700a();}bcrypt_nodejs_1[a8_0x232a('0xa')][a8_0x232a('0xb')](0xa,(_0x26d194,_0x114b24)=>{if(_0x26d194){return _0x14700a(_0x26d194);}bcrypt_nodejs_1[a8_0x232a('0xa')]['hash'](_0x5081aa[a8_0x232a('0x9')],_0x114b24,undefined,(_0x26d194,_0x13cd10)=>{if(_0x26d194){return _0x14700a(_0x26d194);}_0x5081aa[a8_0x232a('0x9')]=_0x13cd10;_0x14700a();});});});const comparePassword=function(_0x284afc,_0x7497f9){bcrypt_nodejs_1[a8_0x232a('0xa')]['compare'](_0x284afc,this['password'],(_0xef5e2f,_0x147e1b)=>{_0x7497f9(_0xef5e2f,_0x147e1b);});};userSchema['methods'][a8_0x232a('0xc')]=comparePassword;userSchema['methods'][a8_0x232a('0xd')]=function(_0x162f71){if(!_0x162f71){_0x162f71=0xc8;}if(!this[a8_0x232a('0xe')]){return a8_0x232a('0xf')+_0x162f71+'&d=retro';}const _0x108172=crypto_1['default'][a8_0x232a('0x10')](a8_0x232a('0x11'))['update'](this[a8_0x232a('0xe')])['digest'](a8_0x232a('0x12'));return'https://gravatar.com/avatar/'+_0x108172+'?s='+_0x162f71+'&d=retro';};const User=mongoose_1['default']['model'](a8_0x232a('0x13'),userSchema);exports[a8_0x232a('0xa')]=User;
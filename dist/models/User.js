var a9_0x3e24=['hex','https://gravatar.com/avatar/','?s=','User','__esModule','bcrypt-nodejs','crypto','mongoose','default','Schema','isModified','password','methods','comparePassword','gravatar','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','update','email'];(function(_0x396e81,_0x14ba4f){var _0x33fd14=function(_0xc19517){while(--_0xc19517){_0x396e81['push'](_0x396e81['shift']());}};_0x33fd14(++_0x14ba4f);}(a9_0x3e24,0x1a8));var a9_0x4d23=function(_0xc14eeb,_0x3b739d){_0xc14eeb=_0xc14eeb-0x0;var _0x29eb82=a9_0x3e24[_0xc14eeb];return _0x29eb82;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3ec086){return _0x3ec086&&_0x3ec086[a9_0x4d23('0x0')]?_0x3ec086:{'default':_0x3ec086};};Object['defineProperty'](exports,a9_0x4d23('0x0'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a9_0x4d23('0x1')));const crypto_1=__importDefault(require(a9_0x4d23('0x2')));const mongoose_1=__importDefault(require(a9_0x4d23('0x3')));const userSchema=new mongoose_1[(a9_0x4d23('0x4'))][(a9_0x4d23('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre']('save',function save(_0x2c8c7e){const _0x52e514=this;if(!_0x52e514[a9_0x4d23('0x6')]('password')){return _0x2c8c7e();}bcrypt_nodejs_1[a9_0x4d23('0x4')]['genSalt'](0xa,(_0x6ac4a0,_0xd3c765)=>{if(_0x6ac4a0){return _0x2c8c7e(_0x6ac4a0);}bcrypt_nodejs_1[a9_0x4d23('0x4')]['hash'](_0x52e514[a9_0x4d23('0x7')],_0xd3c765,undefined,(_0x6ac4a0,_0x490e6d)=>{if(_0x6ac4a0){return _0x2c8c7e(_0x6ac4a0);}_0x52e514[a9_0x4d23('0x7')]=_0x490e6d;_0x2c8c7e();});});});const comparePassword=function(_0x2dbbee,_0x26b4bc){bcrypt_nodejs_1[a9_0x4d23('0x4')]['compare'](_0x2dbbee,this[a9_0x4d23('0x7')],(_0x16cc0f,_0x55f231)=>{_0x26b4bc(_0x16cc0f,_0x55f231);});};userSchema[a9_0x4d23('0x8')][a9_0x4d23('0x9')]=comparePassword;userSchema[a9_0x4d23('0x8')][a9_0x4d23('0xa')]=function(_0x1b9e89){if(!_0x1b9e89){_0x1b9e89=0xc8;}if(!this['email']){return a9_0x4d23('0xb')+_0x1b9e89+a9_0x4d23('0xc');}const _0x4be320=crypto_1['default'][a9_0x4d23('0xd')](a9_0x4d23('0xe'))[a9_0x4d23('0xf')](this[a9_0x4d23('0x10')])['digest'](a9_0x4d23('0x11'));return a9_0x4d23('0x12')+_0x4be320+a9_0x4d23('0x13')+_0x1b9e89+a9_0x4d23('0xc');};const User=mongoose_1[a9_0x4d23('0x4')]['model'](a9_0x4d23('0x14'),userSchema);exports[a9_0x4d23('0x4')]=User;
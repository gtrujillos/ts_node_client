var a9_0x4a99=['pre','save','isModified','password','genSalt','hash','compare','methods','comparePassword','gravatar','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','update','email','digest','hex','https://gravatar.com/avatar/','model','User','__importDefault','__esModule','bcrypt-nodejs','mongoose','default','Schema'];(function(_0x228f98,_0x46a798){var _0x1fa6d3=function(_0x33f4ba){while(--_0x33f4ba){_0x228f98['push'](_0x228f98['shift']());}};_0x1fa6d3(++_0x46a798);}(a9_0x4a99,0x66));var a9_0x3108=function(_0x494806,_0x1c0995){_0x494806=_0x494806-0x0;var _0x228471=a9_0x4a99[_0x494806];return _0x228471;};'use strict';var __importDefault=this&&this[a9_0x3108('0x0')]||function(_0x26f558){return _0x26f558&&_0x26f558['__esModule']?_0x26f558:{'default':_0x26f558};};Object['defineProperty'](exports,a9_0x3108('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a9_0x3108('0x2')));const crypto_1=__importDefault(require('crypto'));const mongoose_1=__importDefault(require(a9_0x3108('0x3')));const userSchema=new mongoose_1[(a9_0x3108('0x4'))][(a9_0x3108('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a9_0x3108('0x6')](a9_0x3108('0x7'),function save(_0x4786a1){const _0x22680d=this;if(!_0x22680d[a9_0x3108('0x8')](a9_0x3108('0x9'))){return _0x4786a1();}bcrypt_nodejs_1[a9_0x3108('0x4')][a9_0x3108('0xa')](0xa,(_0x1c4cec,_0x35c58d)=>{if(_0x1c4cec){return _0x4786a1(_0x1c4cec);}bcrypt_nodejs_1[a9_0x3108('0x4')][a9_0x3108('0xb')](_0x22680d['password'],_0x35c58d,undefined,(_0x1c4cec,_0x429f8d)=>{if(_0x1c4cec){return _0x4786a1(_0x1c4cec);}_0x22680d[a9_0x3108('0x9')]=_0x429f8d;_0x4786a1();});});});const comparePassword=function(_0x17b195,_0x4e08bc){bcrypt_nodejs_1[a9_0x3108('0x4')][a9_0x3108('0xc')](_0x17b195,this[a9_0x3108('0x9')],(_0x21d5e5,_0x3d46f6)=>{_0x4e08bc(_0x21d5e5,_0x3d46f6);});};userSchema[a9_0x3108('0xd')][a9_0x3108('0xe')]=comparePassword;userSchema[a9_0x3108('0xd')][a9_0x3108('0xf')]=function(_0x43bf64){if(!_0x43bf64){_0x43bf64=0xc8;}if(!this['email']){return a9_0x3108('0x10')+_0x43bf64+a9_0x3108('0x11');}const _0x3bddf2=crypto_1[a9_0x3108('0x4')][a9_0x3108('0x12')](a9_0x3108('0x13'))[a9_0x3108('0x14')](this[a9_0x3108('0x15')])[a9_0x3108('0x16')](a9_0x3108('0x17'));return a9_0x3108('0x18')+_0x3bddf2+'?s='+_0x43bf64+a9_0x3108('0x11');};const User=mongoose_1['default'][a9_0x3108('0x19')](a9_0x3108('0x1a'),userSchema);exports[a9_0x3108('0x4')]=User;
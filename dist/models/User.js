var a9_0x3ea6=['createHash','md5','update','email','digest','hex','?s=','model','User','__importDefault','defineProperty','__esModule','bcrypt-nodejs','crypto','mongoose','default','Schema','pre','isModified','genSalt','hash','password','compare','methods','comparePassword','gravatar'];(function(_0x2a013f,_0x5f5751){var _0x22773b=function(_0x1d5aeb){while(--_0x1d5aeb){_0x2a013f['push'](_0x2a013f['shift']());}};_0x22773b(++_0x5f5751);}(a9_0x3ea6,0x71));var a9_0x268b=function(_0x100548,_0x5c7f12){_0x100548=_0x100548-0x0;var _0x5a4503=a9_0x3ea6[_0x100548];return _0x5a4503;};'use strict';var __importDefault=this&&this[a9_0x268b('0x0')]||function(_0x561767){return _0x561767&&_0x561767['__esModule']?_0x561767:{'default':_0x561767};};Object[a9_0x268b('0x1')](exports,a9_0x268b('0x2'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a9_0x268b('0x3')));const crypto_1=__importDefault(require(a9_0x268b('0x4')));const mongoose_1=__importDefault(require(a9_0x268b('0x5')));const userSchema=new mongoose_1[(a9_0x268b('0x6'))][(a9_0x268b('0x7'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a9_0x268b('0x8')]('save',function save(_0x40a410){const _0x1fd4b4=this;if(!_0x1fd4b4[a9_0x268b('0x9')]('password')){return _0x40a410();}bcrypt_nodejs_1[a9_0x268b('0x6')][a9_0x268b('0xa')](0xa,(_0x2e64cf,_0x5bda78)=>{if(_0x2e64cf){return _0x40a410(_0x2e64cf);}bcrypt_nodejs_1[a9_0x268b('0x6')][a9_0x268b('0xb')](_0x1fd4b4[a9_0x268b('0xc')],_0x5bda78,undefined,(_0x2e64cf,_0x7f80f0)=>{if(_0x2e64cf){return _0x40a410(_0x2e64cf);}_0x1fd4b4[a9_0x268b('0xc')]=_0x7f80f0;_0x40a410();});});});const comparePassword=function(_0x4c9d36,_0x2bcfd5){bcrypt_nodejs_1[a9_0x268b('0x6')][a9_0x268b('0xd')](_0x4c9d36,this[a9_0x268b('0xc')],(_0x3d0a0b,_0x5aa2ea)=>{_0x2bcfd5(_0x3d0a0b,_0x5aa2ea);});};userSchema[a9_0x268b('0xe')][a9_0x268b('0xf')]=comparePassword;userSchema['methods'][a9_0x268b('0x10')]=function(_0x440bda){if(!_0x440bda){_0x440bda=0xc8;}if(!this['email']){return'https://gravatar.com/avatar/?s='+_0x440bda+'&d=retro';}const _0x57e19c=crypto_1[a9_0x268b('0x6')][a9_0x268b('0x11')](a9_0x268b('0x12'))[a9_0x268b('0x13')](this[a9_0x268b('0x14')])[a9_0x268b('0x15')](a9_0x268b('0x16'));return'https://gravatar.com/avatar/'+_0x57e19c+a9_0x268b('0x17')+_0x440bda+'&d=retro';};const User=mongoose_1['default'][a9_0x268b('0x18')](a9_0x268b('0x19'),userSchema);exports['default']=User;
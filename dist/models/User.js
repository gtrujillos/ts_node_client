var a9_0x107c=['default','Schema','pre','save','isModified','password','methods','email','https://gravatar.com/avatar/?s=','createHash','update','digest','hex','https://gravatar.com/avatar/','model','__importDefault','__esModule','crypto','mongoose'];(function(_0x445cd5,_0x14aa4a){var _0x916701=function(_0x54ce11){while(--_0x54ce11){_0x445cd5['push'](_0x445cd5['shift']());}};_0x916701(++_0x14aa4a);}(a9_0x107c,0x19e));var a9_0x1b3b=function(_0x397487,_0x316e55){_0x397487=_0x397487-0x0;var _0x5d30a0=a9_0x107c[_0x397487];return _0x5d30a0;};'use strict';var __importDefault=this&&this[a9_0x1b3b('0x0')]||function(_0x3cadb6){return _0x3cadb6&&_0x3cadb6[a9_0x1b3b('0x1')]?_0x3cadb6:{'default':_0x3cadb6};};Object['defineProperty'](exports,a9_0x1b3b('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require('bcrypt-nodejs'));const crypto_1=__importDefault(require(a9_0x1b3b('0x2')));const mongoose_1=__importDefault(require(a9_0x1b3b('0x3')));const userSchema=new mongoose_1[(a9_0x1b3b('0x4'))][(a9_0x1b3b('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a9_0x1b3b('0x6')](a9_0x1b3b('0x7'),function save(_0x5abd3b){const _0x510ebd=this;if(!_0x510ebd[a9_0x1b3b('0x8')](a9_0x1b3b('0x9'))){return _0x5abd3b();}bcrypt_nodejs_1[a9_0x1b3b('0x4')]['genSalt'](0xa,(_0x4cae46,_0x37c24f)=>{if(_0x4cae46){return _0x5abd3b(_0x4cae46);}bcrypt_nodejs_1[a9_0x1b3b('0x4')]['hash'](_0x510ebd[a9_0x1b3b('0x9')],_0x37c24f,undefined,(_0x4cae46,_0x3700fe)=>{if(_0x4cae46){return _0x5abd3b(_0x4cae46);}_0x510ebd[a9_0x1b3b('0x9')]=_0x3700fe;_0x5abd3b();});});});const comparePassword=function(_0x1f8d12,_0x37bb9e){bcrypt_nodejs_1['default']['compare'](_0x1f8d12,this[a9_0x1b3b('0x9')],(_0x5cb16a,_0x379528)=>{_0x37bb9e(_0x5cb16a,_0x379528);});};userSchema[a9_0x1b3b('0xa')]['comparePassword']=comparePassword;userSchema['methods']['gravatar']=function(_0x40db46){if(!_0x40db46){_0x40db46=0xc8;}if(!this[a9_0x1b3b('0xb')]){return a9_0x1b3b('0xc')+_0x40db46+'&d=retro';}const _0x2c3fa9=crypto_1[a9_0x1b3b('0x4')][a9_0x1b3b('0xd')]('md5')[a9_0x1b3b('0xe')](this['email'])[a9_0x1b3b('0xf')](a9_0x1b3b('0x10'));return a9_0x1b3b('0x11')+_0x2c3fa9+'?s='+_0x40db46+'&d=retro';};const User=mongoose_1[a9_0x1b3b('0x4')][a9_0x1b3b('0x12')]('User',userSchema);exports[a9_0x1b3b('0x4')]=User;
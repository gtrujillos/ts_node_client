var a9_0x2cc4=['compare','methods','comparePassword','gravatar','email','&d=retro','createHash','md5','digest','?s=','model','User','__esModule','defineProperty','crypto','mongoose','default','Schema','pre','save','isModified','genSalt','hash','password'];(function(_0x1f0fd4,_0x25c555){var _0x448f06=function(_0x507372){while(--_0x507372){_0x1f0fd4['push'](_0x1f0fd4['shift']());}};_0x448f06(++_0x25c555);}(a9_0x2cc4,0xb4));var a9_0x2453=function(_0xa10679,_0x1ac21d){_0xa10679=_0xa10679-0x0;var _0x2d0e49=a9_0x2cc4[_0xa10679];return _0x2d0e49;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5c610b){return _0x5c610b&&_0x5c610b[a9_0x2453('0x0')]?_0x5c610b:{'default':_0x5c610b};};Object[a9_0x2453('0x1')](exports,'__esModule',{'value':!![]});const bcrypt_nodejs_1=__importDefault(require('bcrypt-nodejs'));const crypto_1=__importDefault(require(a9_0x2453('0x2')));const mongoose_1=__importDefault(require(a9_0x2453('0x3')));const userSchema=new mongoose_1[(a9_0x2453('0x4'))][(a9_0x2453('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a9_0x2453('0x6')](a9_0x2453('0x7'),function save(_0x143534){const _0x5b77b5=this;if(!_0x5b77b5[a9_0x2453('0x8')]('password')){return _0x143534();}bcrypt_nodejs_1[a9_0x2453('0x4')][a9_0x2453('0x9')](0xa,(_0x4fe23f,_0x219d0a)=>{if(_0x4fe23f){return _0x143534(_0x4fe23f);}bcrypt_nodejs_1[a9_0x2453('0x4')][a9_0x2453('0xa')](_0x5b77b5['password'],_0x219d0a,undefined,(_0x4fe23f,_0x491df4)=>{if(_0x4fe23f){return _0x143534(_0x4fe23f);}_0x5b77b5[a9_0x2453('0xb')]=_0x491df4;_0x143534();});});});const comparePassword=function(_0x35d233,_0x5ce842){bcrypt_nodejs_1[a9_0x2453('0x4')][a9_0x2453('0xc')](_0x35d233,this[a9_0x2453('0xb')],(_0x5ce031,_0x2426a2)=>{_0x5ce842(_0x5ce031,_0x2426a2);});};userSchema[a9_0x2453('0xd')][a9_0x2453('0xe')]=comparePassword;userSchema[a9_0x2453('0xd')][a9_0x2453('0xf')]=function(_0x4c38e2){if(!_0x4c38e2){_0x4c38e2=0xc8;}if(!this[a9_0x2453('0x10')]){return'https://gravatar.com/avatar/?s='+_0x4c38e2+a9_0x2453('0x11');}const _0x146ab5=crypto_1['default'][a9_0x2453('0x12')](a9_0x2453('0x13'))['update'](this['email'])[a9_0x2453('0x14')]('hex');return'https://gravatar.com/avatar/'+_0x146ab5+a9_0x2453('0x15')+_0x4c38e2+'&d=retro';};const User=mongoose_1[a9_0x2453('0x4')][a9_0x2453('0x16')](a9_0x2453('0x17'),userSchema);exports['default']=User;
var a9_0x1e1f=['password','hash','compare','methods','comparePassword','gravatar','https://gravatar.com/avatar/?s=','&d=retro','md5','hex','https://gravatar.com/avatar/','?s=','model','User','__importDefault','__esModule','defineProperty','bcrypt-nodejs','crypto','mongoose','default','Schema','pre','isModified'];(function(_0x2a59c1,_0x44011e){var _0x1ed44e=function(_0x239945){while(--_0x239945){_0x2a59c1['push'](_0x2a59c1['shift']());}};_0x1ed44e(++_0x44011e);}(a9_0x1e1f,0x1d6));var a9_0x40ce=function(_0x29a7da,_0x413027){_0x29a7da=_0x29a7da-0x0;var _0x12aa7b=a9_0x1e1f[_0x29a7da];return _0x12aa7b;};'use strict';var __importDefault=this&&this[a9_0x40ce('0x0')]||function(_0x32b2e4){return _0x32b2e4&&_0x32b2e4[a9_0x40ce('0x1')]?_0x32b2e4:{'default':_0x32b2e4};};Object[a9_0x40ce('0x2')](exports,a9_0x40ce('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a9_0x40ce('0x3')));const crypto_1=__importDefault(require(a9_0x40ce('0x4')));const mongoose_1=__importDefault(require(a9_0x40ce('0x5')));const userSchema=new mongoose_1[(a9_0x40ce('0x6'))][(a9_0x40ce('0x7'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a9_0x40ce('0x8')]('save',function save(_0xfe844b){const _0x554324=this;if(!_0x554324[a9_0x40ce('0x9')](a9_0x40ce('0xa'))){return _0xfe844b();}bcrypt_nodejs_1['default']['genSalt'](0xa,(_0x26b788,_0x11d37c)=>{if(_0x26b788){return _0xfe844b(_0x26b788);}bcrypt_nodejs_1[a9_0x40ce('0x6')][a9_0x40ce('0xb')](_0x554324[a9_0x40ce('0xa')],_0x11d37c,undefined,(_0x26b788,_0x1f5bf3)=>{if(_0x26b788){return _0xfe844b(_0x26b788);}_0x554324[a9_0x40ce('0xa')]=_0x1f5bf3;_0xfe844b();});});});const comparePassword=function(_0x2197c1,_0x31f96e){bcrypt_nodejs_1['default'][a9_0x40ce('0xc')](_0x2197c1,this[a9_0x40ce('0xa')],(_0x1ba612,_0x1ba86f)=>{_0x31f96e(_0x1ba612,_0x1ba86f);});};userSchema[a9_0x40ce('0xd')][a9_0x40ce('0xe')]=comparePassword;userSchema['methods'][a9_0x40ce('0xf')]=function(_0x41e06d){if(!_0x41e06d){_0x41e06d=0xc8;}if(!this['email']){return a9_0x40ce('0x10')+_0x41e06d+a9_0x40ce('0x11');}const _0x45c61f=crypto_1[a9_0x40ce('0x6')]['createHash'](a9_0x40ce('0x12'))['update'](this['email'])['digest'](a9_0x40ce('0x13'));return a9_0x40ce('0x14')+_0x45c61f+a9_0x40ce('0x15')+_0x41e06d+a9_0x40ce('0x11');};const User=mongoose_1[a9_0x40ce('0x6')][a9_0x40ce('0x16')](a9_0x40ce('0x17'),userSchema);exports[a9_0x40ce('0x6')]=User;
var a10_0x1d2a=['comparePassword','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','hex','?s=','model','User','defineProperty','__esModule','bcrypt-nodejs','crypto','default','Schema','pre','save','password','genSalt','compare','methods'];(function(_0x117766,_0xce5ccf){var _0x3378e3=function(_0x527f21){while(--_0x527f21){_0x117766['push'](_0x117766['shift']());}};_0x3378e3(++_0xce5ccf);}(a10_0x1d2a,0xa4));var a10_0x2fd5=function(_0x1e379e,_0x49d06e){_0x1e379e=_0x1e379e-0x0;var _0x1bbfaf=a10_0x1d2a[_0x1e379e];return _0x1bbfaf;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1467fb){return _0x1467fb&&_0x1467fb['__esModule']?_0x1467fb:{'default':_0x1467fb};};Object[a10_0x2fd5('0x0')](exports,a10_0x2fd5('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a10_0x2fd5('0x2')));const crypto_1=__importDefault(require(a10_0x2fd5('0x3')));const mongoose_1=__importDefault(require('mongoose'));const userSchema=new mongoose_1[(a10_0x2fd5('0x4'))][(a10_0x2fd5('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a10_0x2fd5('0x6')](a10_0x2fd5('0x7'),function save(_0x1dbce0){const _0x52c0ca=this;if(!_0x52c0ca['isModified'](a10_0x2fd5('0x8'))){return _0x1dbce0();}bcrypt_nodejs_1['default'][a10_0x2fd5('0x9')](0xa,(_0x44c270,_0x39fe06)=>{if(_0x44c270){return _0x1dbce0(_0x44c270);}bcrypt_nodejs_1[a10_0x2fd5('0x4')]['hash'](_0x52c0ca['password'],_0x39fe06,undefined,(_0x44c270,_0x1c7a0e)=>{if(_0x44c270){return _0x1dbce0(_0x44c270);}_0x52c0ca[a10_0x2fd5('0x8')]=_0x1c7a0e;_0x1dbce0();});});});const comparePassword=function(_0x651158,_0x54c96b){bcrypt_nodejs_1['default'][a10_0x2fd5('0xa')](_0x651158,this['password'],(_0x17be31,_0x4e0e3b)=>{_0x54c96b(_0x17be31,_0x4e0e3b);});};userSchema[a10_0x2fd5('0xb')][a10_0x2fd5('0xc')]=comparePassword;userSchema[a10_0x2fd5('0xb')]['gravatar']=function(_0x502a03){if(!_0x502a03){_0x502a03=0xc8;}if(!this[a10_0x2fd5('0xd')]){return a10_0x2fd5('0xe')+_0x502a03+a10_0x2fd5('0xf');}const _0x4d84ac=crypto_1[a10_0x2fd5('0x4')][a10_0x2fd5('0x10')](a10_0x2fd5('0x11'))['update'](this[a10_0x2fd5('0xd')])['digest'](a10_0x2fd5('0x12'));return'https://gravatar.com/avatar/'+_0x4d84ac+a10_0x2fd5('0x13')+_0x502a03+'&d=retro';};const User=mongoose_1['default'][a10_0x2fd5('0x14')](a10_0x2fd5('0x15'),userSchema);exports[a10_0x2fd5('0x4')]=User;
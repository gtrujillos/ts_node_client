var a10_0x4bf9=['createHash','md5','update','digest','https://gravatar.com/avatar/','?s=','model','__importDefault','defineProperty','__esModule','bcrypt-nodejs','default','Schema','pre','save','isModified','genSalt','hash','password','compare','comparePassword','methods','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro'];(function(_0x1985e5,_0x452271){var _0x543967=function(_0xf26c83){while(--_0xf26c83){_0x1985e5['push'](_0x1985e5['shift']());}};_0x543967(++_0x452271);}(a10_0x4bf9,0x159));var a10_0x1c16=function(_0x2f3e31,_0x3a89c9){_0x2f3e31=_0x2f3e31-0x0;var _0x2c6db2=a10_0x4bf9[_0x2f3e31];return _0x2c6db2;};'use strict';var __importDefault=this&&this[a10_0x1c16('0x0')]||function(_0x2ae730){return _0x2ae730&&_0x2ae730['__esModule']?_0x2ae730:{'default':_0x2ae730};};Object[a10_0x1c16('0x1')](exports,a10_0x1c16('0x2'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a10_0x1c16('0x3')));const crypto_1=__importDefault(require('crypto'));const mongoose_1=__importDefault(require('mongoose'));const userSchema=new mongoose_1[(a10_0x1c16('0x4'))][(a10_0x1c16('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a10_0x1c16('0x6')](a10_0x1c16('0x7'),function save(_0x420469){const _0x21eb48=this;if(!_0x21eb48[a10_0x1c16('0x8')]('password')){return _0x420469();}bcrypt_nodejs_1[a10_0x1c16('0x4')][a10_0x1c16('0x9')](0xa,(_0x5e5e24,_0x45a87a)=>{if(_0x5e5e24){return _0x420469(_0x5e5e24);}bcrypt_nodejs_1[a10_0x1c16('0x4')][a10_0x1c16('0xa')](_0x21eb48[a10_0x1c16('0xb')],_0x45a87a,undefined,(_0x5e5e24,_0x458b2b)=>{if(_0x5e5e24){return _0x420469(_0x5e5e24);}_0x21eb48[a10_0x1c16('0xb')]=_0x458b2b;_0x420469();});});});const comparePassword=function(_0x3372f7,_0x534394){bcrypt_nodejs_1[a10_0x1c16('0x4')][a10_0x1c16('0xc')](_0x3372f7,this[a10_0x1c16('0xb')],(_0x1756c7,_0x4501f3)=>{_0x534394(_0x1756c7,_0x4501f3);});};userSchema['methods'][a10_0x1c16('0xd')]=comparePassword;userSchema[a10_0x1c16('0xe')][a10_0x1c16('0xf')]=function(_0x2ee88a){if(!_0x2ee88a){_0x2ee88a=0xc8;}if(!this[a10_0x1c16('0x10')]){return a10_0x1c16('0x11')+_0x2ee88a+a10_0x1c16('0x12');}const _0x90a195=crypto_1[a10_0x1c16('0x4')][a10_0x1c16('0x13')](a10_0x1c16('0x14'))[a10_0x1c16('0x15')](this['email'])[a10_0x1c16('0x16')]('hex');return a10_0x1c16('0x17')+_0x90a195+a10_0x1c16('0x18')+_0x2ee88a+a10_0x1c16('0x12');};const User=mongoose_1[a10_0x1c16('0x4')][a10_0x1c16('0x19')]('User',userSchema);exports['default']=User;
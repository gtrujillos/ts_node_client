var a10_0x5a83=['comparePassword','https://gravatar.com/avatar/?s=','&d=retro','createHash','update','digest','hex','?s=','model','User','__importDefault','__esModule','bcrypt-nodejs','crypto','mongoose','default','Schema','pre','save','isModified','password','genSalt','hash','compare','methods'];(function(_0x2b33c9,_0x3c1022){var _0x2f249d=function(_0x53321f){while(--_0x53321f){_0x2b33c9['push'](_0x2b33c9['shift']());}};_0x2f249d(++_0x3c1022);}(a10_0x5a83,0xb9));var a10_0x2938=function(_0x15a9d1,_0x139105){_0x15a9d1=_0x15a9d1-0x0;var _0x24ab3b=a10_0x5a83[_0x15a9d1];return _0x24ab3b;};'use strict';var __importDefault=this&&this[a10_0x2938('0x0')]||function(_0x204e3a){return _0x204e3a&&_0x204e3a[a10_0x2938('0x1')]?_0x204e3a:{'default':_0x204e3a};};Object['defineProperty'](exports,a10_0x2938('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a10_0x2938('0x2')));const crypto_1=__importDefault(require(a10_0x2938('0x3')));const mongoose_1=__importDefault(require(a10_0x2938('0x4')));const userSchema=new mongoose_1[(a10_0x2938('0x5'))][(a10_0x2938('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a10_0x2938('0x7')](a10_0x2938('0x8'),function save(_0x5f3c51){const _0xeb2546=this;if(!_0xeb2546[a10_0x2938('0x9')](a10_0x2938('0xa'))){return _0x5f3c51();}bcrypt_nodejs_1[a10_0x2938('0x5')][a10_0x2938('0xb')](0xa,(_0x5f2e27,_0x817b41)=>{if(_0x5f2e27){return _0x5f3c51(_0x5f2e27);}bcrypt_nodejs_1[a10_0x2938('0x5')][a10_0x2938('0xc')](_0xeb2546[a10_0x2938('0xa')],_0x817b41,undefined,(_0x5f2e27,_0x2d994d)=>{if(_0x5f2e27){return _0x5f3c51(_0x5f2e27);}_0xeb2546[a10_0x2938('0xa')]=_0x2d994d;_0x5f3c51();});});});const comparePassword=function(_0x86acae,_0x3f4c52){bcrypt_nodejs_1[a10_0x2938('0x5')][a10_0x2938('0xd')](_0x86acae,this[a10_0x2938('0xa')],(_0x3aab65,_0x1b81da)=>{_0x3f4c52(_0x3aab65,_0x1b81da);});};userSchema[a10_0x2938('0xe')][a10_0x2938('0xf')]=comparePassword;userSchema[a10_0x2938('0xe')]['gravatar']=function(_0xb3ad0d){if(!_0xb3ad0d){_0xb3ad0d=0xc8;}if(!this['email']){return a10_0x2938('0x10')+_0xb3ad0d+a10_0x2938('0x11');}const _0x29d581=crypto_1[a10_0x2938('0x5')][a10_0x2938('0x12')]('md5')[a10_0x2938('0x13')](this['email'])[a10_0x2938('0x14')](a10_0x2938('0x15'));return'https://gravatar.com/avatar/'+_0x29d581+a10_0x2938('0x16')+_0xb3ad0d+a10_0x2938('0x11');};const User=mongoose_1[a10_0x2938('0x5')][a10_0x2938('0x17')](a10_0x2938('0x18'),userSchema);exports[a10_0x2938('0x5')]=User;
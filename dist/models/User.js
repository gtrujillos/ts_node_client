var a9_0x2856=['comparePassword','email','https://gravatar.com/avatar/?s=','createHash','md5','digest','hex','https://gravatar.com/avatar/','?s=','&d=retro','model','User','__esModule','crypto','mongoose','default','Schema','isModified','password','hash','methods'];(function(_0x1036b5,_0x30a776){var _0x5c7d1e=function(_0x412223){while(--_0x412223){_0x1036b5['push'](_0x1036b5['shift']());}};_0x5c7d1e(++_0x30a776);}(a9_0x2856,0x1da));var a9_0x565c=function(_0x1ab3a6,_0x55e7c9){_0x1ab3a6=_0x1ab3a6-0x0;var _0x1ca1a0=a9_0x2856[_0x1ab3a6];return _0x1ca1a0;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4c386b){return _0x4c386b&&_0x4c386b[a9_0x565c('0x0')]?_0x4c386b:{'default':_0x4c386b};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const bcrypt_nodejs_1=__importDefault(require('bcrypt-nodejs'));const crypto_1=__importDefault(require(a9_0x565c('0x1')));const mongoose_1=__importDefault(require(a9_0x565c('0x2')));const userSchema=new mongoose_1[(a9_0x565c('0x3'))][(a9_0x565c('0x4'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre']('save',function save(_0x343212){const _0xd353d0=this;if(!_0xd353d0[a9_0x565c('0x5')](a9_0x565c('0x6'))){return _0x343212();}bcrypt_nodejs_1[a9_0x565c('0x3')]['genSalt'](0xa,(_0x5af1ed,_0x3a4069)=>{if(_0x5af1ed){return _0x343212(_0x5af1ed);}bcrypt_nodejs_1[a9_0x565c('0x3')][a9_0x565c('0x7')](_0xd353d0[a9_0x565c('0x6')],_0x3a4069,undefined,(_0x5af1ed,_0x5e3fe1)=>{if(_0x5af1ed){return _0x343212(_0x5af1ed);}_0xd353d0[a9_0x565c('0x6')]=_0x5e3fe1;_0x343212();});});});const comparePassword=function(_0x4bd819,_0x59d1ed){bcrypt_nodejs_1[a9_0x565c('0x3')]['compare'](_0x4bd819,this[a9_0x565c('0x6')],(_0x408d64,_0x5632fd)=>{_0x59d1ed(_0x408d64,_0x5632fd);});};userSchema[a9_0x565c('0x8')][a9_0x565c('0x9')]=comparePassword;userSchema[a9_0x565c('0x8')]['gravatar']=function(_0x5a3adf){if(!_0x5a3adf){_0x5a3adf=0xc8;}if(!this[a9_0x565c('0xa')]){return a9_0x565c('0xb')+_0x5a3adf+'&d=retro';}const _0x33cd0a=crypto_1['default'][a9_0x565c('0xc')](a9_0x565c('0xd'))['update'](this[a9_0x565c('0xa')])[a9_0x565c('0xe')](a9_0x565c('0xf'));return a9_0x565c('0x10')+_0x33cd0a+a9_0x565c('0x11')+_0x5a3adf+a9_0x565c('0x12');};const User=mongoose_1[a9_0x565c('0x3')][a9_0x565c('0x13')](a9_0x565c('0x14'),userSchema);exports[a9_0x565c('0x3')]=User;
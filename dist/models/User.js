var a10_0x2a49=['https://gravatar.com/avatar/?s=','&d=retro','md5','update','digest','https://gravatar.com/avatar/','model','User','__importDefault','__esModule','defineProperty','bcrypt-nodejs','crypto','default','pre','isModified','password','genSalt','hash','methods','gravatar','email'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(a10_0x2a49,0x1d6));var a10_0x24f2=function(_0x294a8d,_0x1cf410){_0x294a8d=_0x294a8d-0x0;var _0x593f2a=a10_0x2a49[_0x294a8d];return _0x593f2a;};'use strict';var __importDefault=this&&this[a10_0x24f2('0x0')]||function(_0x55f2ab){return _0x55f2ab&&_0x55f2ab[a10_0x24f2('0x1')]?_0x55f2ab:{'default':_0x55f2ab};};Object[a10_0x24f2('0x2')](exports,a10_0x24f2('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a10_0x24f2('0x3')));const crypto_1=__importDefault(require(a10_0x24f2('0x4')));const mongoose_1=__importDefault(require('mongoose'));const userSchema=new mongoose_1[(a10_0x24f2('0x5'))]['Schema']({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a10_0x24f2('0x6')]('save',function save(_0x13108e){const _0x3b402f=this;if(!_0x3b402f[a10_0x24f2('0x7')](a10_0x24f2('0x8'))){return _0x13108e();}bcrypt_nodejs_1['default'][a10_0x24f2('0x9')](0xa,(_0x537b64,_0x577c6a)=>{if(_0x537b64){return _0x13108e(_0x537b64);}bcrypt_nodejs_1[a10_0x24f2('0x5')][a10_0x24f2('0xa')](_0x3b402f[a10_0x24f2('0x8')],_0x577c6a,undefined,(_0x537b64,_0x557a92)=>{if(_0x537b64){return _0x13108e(_0x537b64);}_0x3b402f[a10_0x24f2('0x8')]=_0x557a92;_0x13108e();});});});const comparePassword=function(_0x5530c9,_0x37f811){bcrypt_nodejs_1[a10_0x24f2('0x5')]['compare'](_0x5530c9,this['password'],(_0x129501,_0x3d61a2)=>{_0x37f811(_0x129501,_0x3d61a2);});};userSchema[a10_0x24f2('0xb')]['comparePassword']=comparePassword;userSchema['methods'][a10_0x24f2('0xc')]=function(_0x126823){if(!_0x126823){_0x126823=0xc8;}if(!this[a10_0x24f2('0xd')]){return a10_0x24f2('0xe')+_0x126823+a10_0x24f2('0xf');}const _0xfe035a=crypto_1['default']['createHash'](a10_0x24f2('0x10'))[a10_0x24f2('0x11')](this[a10_0x24f2('0xd')])[a10_0x24f2('0x12')]('hex');return a10_0x24f2('0x13')+_0xfe035a+'?s='+_0x126823+a10_0x24f2('0xf');};const User=mongoose_1[a10_0x24f2('0x5')][a10_0x24f2('0x14')](a10_0x24f2('0x15'),userSchema);exports['default']=User;
var a9_0x43df=['crypto','pre','default','password','compare','methods','comparePassword','gravatar','&d=retro','md5','update','digest','hex','?s=','model','User','__esModule','bcrypt-nodejs'];(function(_0x35a3e7,_0x1039a6){var _0x228ddc=function(_0x32eebd){while(--_0x32eebd){_0x35a3e7['push'](_0x35a3e7['shift']());}};_0x228ddc(++_0x1039a6);}(a9_0x43df,0x11e));var a9_0x5396=function(_0x2f3e31,_0x3a89c9){_0x2f3e31=_0x2f3e31-0x0;var _0x2c6db2=a9_0x43df[_0x2f3e31];return _0x2c6db2;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x286d3c){return _0x286d3c&&_0x286d3c[a9_0x5396('0x0')]?_0x286d3c:{'default':_0x286d3c};};Object['defineProperty'](exports,a9_0x5396('0x0'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a9_0x5396('0x1')));const crypto_1=__importDefault(require(a9_0x5396('0x2')));const mongoose_1=__importDefault(require('mongoose'));const userSchema=new mongoose_1['default']['Schema']({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a9_0x5396('0x3')]('save',function save(_0x5a121f){const _0x39785c=this;if(!_0x39785c['isModified']('password')){return _0x5a121f();}bcrypt_nodejs_1['default']['genSalt'](0xa,(_0x170700,_0x527b2e)=>{if(_0x170700){return _0x5a121f(_0x170700);}bcrypt_nodejs_1[a9_0x5396('0x4')]['hash'](_0x39785c[a9_0x5396('0x5')],_0x527b2e,undefined,(_0x170700,_0x56a06c)=>{if(_0x170700){return _0x5a121f(_0x170700);}_0x39785c[a9_0x5396('0x5')]=_0x56a06c;_0x5a121f();});});});const comparePassword=function(_0x2efd81,_0x1709aa){bcrypt_nodejs_1['default'][a9_0x5396('0x6')](_0x2efd81,this[a9_0x5396('0x5')],(_0x1c6481,_0x2488e8)=>{_0x1709aa(_0x1c6481,_0x2488e8);});};userSchema[a9_0x5396('0x7')][a9_0x5396('0x8')]=comparePassword;userSchema['methods'][a9_0x5396('0x9')]=function(_0x44076d){if(!_0x44076d){_0x44076d=0xc8;}if(!this['email']){return'https://gravatar.com/avatar/?s='+_0x44076d+a9_0x5396('0xa');}const _0x3ab643=crypto_1[a9_0x5396('0x4')]['createHash'](a9_0x5396('0xb'))[a9_0x5396('0xc')](this['email'])[a9_0x5396('0xd')](a9_0x5396('0xe'));return'https://gravatar.com/avatar/'+_0x3ab643+a9_0x5396('0xf')+_0x44076d+a9_0x5396('0xa');};const User=mongoose_1[a9_0x5396('0x4')][a9_0x5396('0x10')](a9_0x5396('0x11'),userSchema);exports['default']=User;
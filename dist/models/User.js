var a9_0x519a=['password','genSalt','hash','methods','gravatar','email','md5','https://gravatar.com/avatar/','?s=','&d=retro','model','User','__importDefault','__esModule','defineProperty','bcrypt-nodejs','crypto','mongoose','default','Schema','pre','save'];(function(_0x316b5c,_0x43d568){var _0x3d87de=function(_0x60dea6){while(--_0x60dea6){_0x316b5c['push'](_0x316b5c['shift']());}};_0x3d87de(++_0x43d568);}(a9_0x519a,0x1c4));var a9_0x22c8=function(_0x8424ec,_0x3db860){_0x8424ec=_0x8424ec-0x0;var _0x3aa03b=a9_0x519a[_0x8424ec];return _0x3aa03b;};'use strict';var __importDefault=this&&this[a9_0x22c8('0x0')]||function(_0x5c1574){return _0x5c1574&&_0x5c1574[a9_0x22c8('0x1')]?_0x5c1574:{'default':_0x5c1574};};Object[a9_0x22c8('0x2')](exports,a9_0x22c8('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a9_0x22c8('0x3')));const crypto_1=__importDefault(require(a9_0x22c8('0x4')));const mongoose_1=__importDefault(require(a9_0x22c8('0x5')));const userSchema=new mongoose_1[(a9_0x22c8('0x6'))][(a9_0x22c8('0x7'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a9_0x22c8('0x8')](a9_0x22c8('0x9'),function save(_0x38ff21){const _0x52015f=this;if(!_0x52015f['isModified'](a9_0x22c8('0xa'))){return _0x38ff21();}bcrypt_nodejs_1['default'][a9_0x22c8('0xb')](0xa,(_0x3f812d,_0x8bc509)=>{if(_0x3f812d){return _0x38ff21(_0x3f812d);}bcrypt_nodejs_1[a9_0x22c8('0x6')][a9_0x22c8('0xc')](_0x52015f[a9_0x22c8('0xa')],_0x8bc509,undefined,(_0x3f812d,_0x35978d)=>{if(_0x3f812d){return _0x38ff21(_0x3f812d);}_0x52015f[a9_0x22c8('0xa')]=_0x35978d;_0x38ff21();});});});const comparePassword=function(_0x1197b8,_0x54a063){bcrypt_nodejs_1[a9_0x22c8('0x6')]['compare'](_0x1197b8,this[a9_0x22c8('0xa')],(_0x555072,_0x158f28)=>{_0x54a063(_0x555072,_0x158f28);});};userSchema[a9_0x22c8('0xd')]['comparePassword']=comparePassword;userSchema[a9_0x22c8('0xd')][a9_0x22c8('0xe')]=function(_0xa1fc30){if(!_0xa1fc30){_0xa1fc30=0xc8;}if(!this[a9_0x22c8('0xf')]){return'https://gravatar.com/avatar/?s='+_0xa1fc30+'&d=retro';}const _0x34c7c5=crypto_1[a9_0x22c8('0x6')]['createHash'](a9_0x22c8('0x10'))['update'](this[a9_0x22c8('0xf')])['digest']('hex');return a9_0x22c8('0x11')+_0x34c7c5+a9_0x22c8('0x12')+_0xa1fc30+a9_0x22c8('0x13');};const User=mongoose_1[a9_0x22c8('0x6')][a9_0x22c8('0x14')](a9_0x22c8('0x15'),userSchema);exports[a9_0x22c8('0x6')]=User;
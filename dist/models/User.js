var a8_0x1645=['defineProperty','bcrypt-nodejs','crypto','mongoose','Schema','isModified','password','default','hash','compare','methods','comparePassword','gravatar','email','&d=retro','createHash','update','digest','https://gravatar.com/avatar/','?s=','User','__importDefault','__esModule'];(function(_0x4ebd9a,_0x9198){var _0xcbac9=function(_0x300853){while(--_0x300853){_0x4ebd9a['push'](_0x4ebd9a['shift']());}};_0xcbac9(++_0x9198);}(a8_0x1645,0x9f));var a8_0x56f7=function(_0xf12568,_0x59ba1f){_0xf12568=_0xf12568-0x0;var _0x1a89e9=a8_0x1645[_0xf12568];return _0x1a89e9;};'use strict';var __importDefault=this&&this[a8_0x56f7('0x0')]||function(_0x9de988){return _0x9de988&&_0x9de988[a8_0x56f7('0x1')]?_0x9de988:{'default':_0x9de988};};Object[a8_0x56f7('0x2')](exports,a8_0x56f7('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a8_0x56f7('0x3')));const crypto_1=__importDefault(require(a8_0x56f7('0x4')));const mongoose_1=__importDefault(require(a8_0x56f7('0x5')));const userSchema=new mongoose_1['default'][(a8_0x56f7('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre']('save',function save(_0x21c0db){const _0x3efe75=this;if(!_0x3efe75[a8_0x56f7('0x7')](a8_0x56f7('0x8'))){return _0x21c0db();}bcrypt_nodejs_1[a8_0x56f7('0x9')]['genSalt'](0xa,(_0x3d43c8,_0x3abcc9)=>{if(_0x3d43c8){return _0x21c0db(_0x3d43c8);}bcrypt_nodejs_1[a8_0x56f7('0x9')][a8_0x56f7('0xa')](_0x3efe75[a8_0x56f7('0x8')],_0x3abcc9,undefined,(_0x3d43c8,_0x5477e6)=>{if(_0x3d43c8){return _0x21c0db(_0x3d43c8);}_0x3efe75[a8_0x56f7('0x8')]=_0x5477e6;_0x21c0db();});});});const comparePassword=function(_0x2ae95e,_0x41b8b9){bcrypt_nodejs_1[a8_0x56f7('0x9')][a8_0x56f7('0xb')](_0x2ae95e,this['password'],(_0x1f5cdc,_0xcf41e4)=>{_0x41b8b9(_0x1f5cdc,_0xcf41e4);});};userSchema[a8_0x56f7('0xc')][a8_0x56f7('0xd')]=comparePassword;userSchema[a8_0x56f7('0xc')][a8_0x56f7('0xe')]=function(_0x417e0e){if(!_0x417e0e){_0x417e0e=0xc8;}if(!this[a8_0x56f7('0xf')]){return'https://gravatar.com/avatar/?s='+_0x417e0e+a8_0x56f7('0x10');}const _0x7ac0e7=crypto_1['default'][a8_0x56f7('0x11')]('md5')[a8_0x56f7('0x12')](this[a8_0x56f7('0xf')])[a8_0x56f7('0x13')]('hex');return a8_0x56f7('0x14')+_0x7ac0e7+a8_0x56f7('0x15')+_0x417e0e+'&d=retro';};const User=mongoose_1[a8_0x56f7('0x9')]['model'](a8_0x56f7('0x16'),userSchema);exports[a8_0x56f7('0x9')]=User;
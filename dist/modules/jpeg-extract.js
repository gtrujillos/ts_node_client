var a11_0x3129=['error','abort','length','push','indexOf','slice','concat','request','from'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(a11_0x3129,0xa9));var a11_0x52f9=function(_0x876d68,_0x3b791a){_0x876d68=_0x876d68-0x0;var _0x18dd93=a11_0x3129[_0x876d68];return _0x18dd93;};const request=require(a11_0x52f9('0x0'));module['exports']=(_0x5a935a,_0x33ecd0)=>{return new Promise((_0x751f65,_0x5b65d6)=>{const _0x4bbdc6=Buffer[a11_0x52f9('0x1')]([0xff,0xd8]);const _0x2d2a8f=Buffer[a11_0x52f9('0x1')]([0xff,0xd9]);const _0x9a2d4b=[];const _0x44b81d=request(_0x5a935a);_0x44b81d['on'](a11_0x52f9('0x2'),_0x5c3b40=>{_0x44b81d[a11_0x52f9('0x3')]();if(_0x33ecd0)_0x33ecd0(_0x5c3b40);else _0x5b65d6(_0x5c3b40);});_0x44b81d['on']('response',_0x2deec5=>{if(_0x2deec5['statusCode']!==0xc8){_0x44b81d[a11_0x52f9('0x3')]();if(_0x33ecd0)_0x33ecd0(_0x2deec5);else _0x5b65d6(new Error(_0x2deec5));}_0x2deec5['on']('data',_0x37637c=>{if(_0x9a2d4b['length']===0x0){const _0x5eabdd=_0x37637c['indexOf'](_0x4bbdc6);if(_0x5eabdd>-0x1){const _0x3081c5=_0x37637c['slice'](_0x5eabdd,_0x37637c[a11_0x52f9('0x4')]);_0x9a2d4b[a11_0x52f9('0x5')](_0x3081c5);}}else if(_0x37637c[a11_0x52f9('0x6')](_0x2d2a8f)!=-0x1){const _0x3af985=_0x37637c['indexOf'](_0x2d2a8f)+0x2;const _0x3081c5=_0x37637c[a11_0x52f9('0x7')](0x0,_0x3af985);_0x9a2d4b[a11_0x52f9('0x5')](_0x3081c5);const _0x456eb3=Buffer[a11_0x52f9('0x8')](_0x9a2d4b);_0x44b81d['abort']();if(_0x33ecd0)_0x33ecd0(undefined,_0x456eb3);_0x751f65(_0x456eb3);}else{_0x9a2d4b[a11_0x52f9('0x5')](_0x37637c);}});});});};
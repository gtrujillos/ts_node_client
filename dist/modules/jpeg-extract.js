var a11_0x29b8=['statusCode','data','length','indexOf','slice','push','concat','request','from','error','abort','response'];(function(_0x4bd822,_0x2bd6f7){var _0xb4bdb3=function(_0x1d68f6){while(--_0x1d68f6){_0x4bd822['push'](_0x4bd822['shift']());}};_0xb4bdb3(++_0x2bd6f7);}(a11_0x29b8,0x163));var a11_0x1bf8=function(_0x2fbeca,_0x302170){_0x2fbeca=_0x2fbeca-0x0;var _0x1ae02f=a11_0x29b8[_0x2fbeca];return _0x1ae02f;};const request=require(a11_0x1bf8('0x0'));module['exports']=(_0xed40b6,_0x2882fe)=>{return new Promise((_0x2c43dd,_0x2a2e0a)=>{const _0x42b4f0=Buffer[a11_0x1bf8('0x1')]([0xff,0xd8]);const _0x46246d=Buffer[a11_0x1bf8('0x1')]([0xff,0xd9]);const _0x14b4b3=[];const _0x2a272f=request(_0xed40b6);_0x2a272f['on'](a11_0x1bf8('0x2'),_0xb1e1f0=>{_0x2a272f[a11_0x1bf8('0x3')]();if(_0x2882fe)_0x2882fe(_0xb1e1f0);else _0x2a2e0a(_0xb1e1f0);});_0x2a272f['on'](a11_0x1bf8('0x4'),_0x30cd9a=>{if(_0x30cd9a[a11_0x1bf8('0x5')]!==0xc8){_0x2a272f[a11_0x1bf8('0x3')]();if(_0x2882fe)_0x2882fe(_0x30cd9a);else _0x2a2e0a(new Error(_0x30cd9a));}_0x30cd9a['on'](a11_0x1bf8('0x6'),_0x13f38e=>{if(_0x14b4b3[a11_0x1bf8('0x7')]===0x0){const _0x1f024e=_0x13f38e[a11_0x1bf8('0x8')](_0x42b4f0);if(_0x1f024e>-0x1){const _0x302b0d=_0x13f38e[a11_0x1bf8('0x9')](_0x1f024e,_0x13f38e[a11_0x1bf8('0x7')]);_0x14b4b3[a11_0x1bf8('0xa')](_0x302b0d);}}else if(_0x13f38e['indexOf'](_0x46246d)!=-0x1){const _0x1884dc=_0x13f38e['indexOf'](_0x46246d)+0x2;const _0x302b0d=_0x13f38e[a11_0x1bf8('0x9')](0x0,_0x1884dc);_0x14b4b3[a11_0x1bf8('0xa')](_0x302b0d);const _0x3bca58=Buffer[a11_0x1bf8('0xb')](_0x14b4b3);_0x2a272f[a11_0x1bf8('0x3')]();if(_0x2882fe)_0x2882fe(undefined,_0x3bca58);_0x2c43dd(_0x3bca58);}else{_0x14b4b3[a11_0x1bf8('0xa')](_0x13f38e);}});});});};
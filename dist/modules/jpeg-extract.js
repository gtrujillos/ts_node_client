var a11_0x486c=['abort','response','statusCode','data','length','slice','push','indexOf','request','from','error'];(function(_0x4d1cae,_0x14f236){var _0x4359ac=function(_0x2677ee){while(--_0x2677ee){_0x4d1cae['push'](_0x4d1cae['shift']());}};_0x4359ac(++_0x14f236);}(a11_0x486c,0x81));var a11_0x4227=function(_0x3966c8,_0x5564f6){_0x3966c8=_0x3966c8-0x0;var _0x18a6d2=a11_0x486c[_0x3966c8];return _0x18a6d2;};const request=require(a11_0x4227('0x0'));module['exports']=(_0x58048c,_0x2e8a37)=>{return new Promise((_0x51a43e,_0x3f0e2f)=>{const _0xe3cb24=Buffer[a11_0x4227('0x1')]([0xff,0xd8]);const _0x92d23b=Buffer[a11_0x4227('0x1')]([0xff,0xd9]);const _0x48bb61=[];const _0x32a952=request(_0x58048c);_0x32a952['on'](a11_0x4227('0x2'),_0x2107fe=>{_0x32a952[a11_0x4227('0x3')]();if(_0x2e8a37)_0x2e8a37(_0x2107fe);else _0x3f0e2f(_0x2107fe);});_0x32a952['on'](a11_0x4227('0x4'),_0x545b7b=>{if(_0x545b7b[a11_0x4227('0x5')]!==0xc8){_0x32a952[a11_0x4227('0x3')]();if(_0x2e8a37)_0x2e8a37(_0x545b7b);else _0x3f0e2f(new Error(_0x545b7b));}_0x545b7b['on'](a11_0x4227('0x6'),_0x1c1347=>{if(_0x48bb61[a11_0x4227('0x7')]===0x0){const _0x1cc88a=_0x1c1347['indexOf'](_0xe3cb24);if(_0x1cc88a>-0x1){const _0x5d342d=_0x1c1347[a11_0x4227('0x8')](_0x1cc88a,_0x1c1347[a11_0x4227('0x7')]);_0x48bb61[a11_0x4227('0x9')](_0x5d342d);}}else if(_0x1c1347[a11_0x4227('0xa')](_0x92d23b)!=-0x1){const _0x1abf1d=_0x1c1347[a11_0x4227('0xa')](_0x92d23b)+0x2;const _0x5d342d=_0x1c1347[a11_0x4227('0x8')](0x0,_0x1abf1d);_0x48bb61[a11_0x4227('0x9')](_0x5d342d);const _0x3da8b5=Buffer['concat'](_0x48bb61);_0x32a952['abort']();if(_0x2e8a37)_0x2e8a37(undefined,_0x3da8b5);_0x51a43e(_0x3da8b5);}else{_0x48bb61[a11_0x4227('0x9')](_0x1c1347);}});});});};
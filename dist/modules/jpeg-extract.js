var a11_0x522a=['statusCode','data','length','indexOf','slice','push','concat','request','from','error','abort'];(function(_0x5000ce,_0x23076c){var _0x26351c=function(_0x4d3108){while(--_0x4d3108){_0x5000ce['push'](_0x5000ce['shift']());}};_0x26351c(++_0x23076c);}(a11_0x522a,0x193));var a11_0x1078=function(_0x56a158,_0xa268f1){_0x56a158=_0x56a158-0x0;var _0x4966c0=a11_0x522a[_0x56a158];return _0x4966c0;};const request=require(a11_0x1078('0x0'));module['exports']=(_0x31c0ac,_0x3f23ca)=>{return new Promise((_0x133df8,_0x231d5a)=>{const _0x3ea0d6=Buffer['from']([0xff,0xd8]);const _0xcfb8c1=Buffer[a11_0x1078('0x1')]([0xff,0xd9]);const _0x46e428=[];const _0x4ff91f=request(_0x31c0ac);_0x4ff91f['on'](a11_0x1078('0x2'),_0x4fc327=>{_0x4ff91f[a11_0x1078('0x3')]();if(_0x3f23ca)_0x3f23ca(_0x4fc327);else _0x231d5a(_0x4fc327);});_0x4ff91f['on']('response',_0xb71759=>{if(_0xb71759[a11_0x1078('0x4')]!==0xc8){_0x4ff91f[a11_0x1078('0x3')]();if(_0x3f23ca)_0x3f23ca(_0xb71759);else _0x231d5a(new Error(_0xb71759));}_0xb71759['on'](a11_0x1078('0x5'),_0x3badb7=>{if(_0x46e428[a11_0x1078('0x6')]===0x0){const _0x32106c=_0x3badb7[a11_0x1078('0x7')](_0x3ea0d6);if(_0x32106c>-0x1){const _0x2d170b=_0x3badb7[a11_0x1078('0x8')](_0x32106c,_0x3badb7[a11_0x1078('0x6')]);_0x46e428[a11_0x1078('0x9')](_0x2d170b);}}else if(_0x3badb7[a11_0x1078('0x7')](_0xcfb8c1)!=-0x1){const _0x87c009=_0x3badb7[a11_0x1078('0x7')](_0xcfb8c1)+0x2;const _0x2d170b=_0x3badb7[a11_0x1078('0x8')](0x0,_0x87c009);_0x46e428[a11_0x1078('0x9')](_0x2d170b);const _0x4ee092=Buffer[a11_0x1078('0xa')](_0x46e428);_0x4ff91f[a11_0x1078('0x3')]();if(_0x3f23ca)_0x3f23ca(undefined,_0x4ee092);_0x133df8(_0x4ee092);}else{_0x46e428[a11_0x1078('0x9')](_0x3badb7);}});});});};
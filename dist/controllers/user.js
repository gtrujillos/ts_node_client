var a5_0x29b7=['account/forgot','postForgot','hex','Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.','createTransport','SendGrid','hackathon@starter.com','You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://','headers','host','/reset/','\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a','sendMail','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','\x20with\x20further\x20instructions.','__importDefault','__esModule','async','crypto','nodemailer','passport','../models/User','express-validator','getLogin','user','render','account/login','Login','postLogin','email','Email\x20is\x20not\x20valid','notEmpty','normalizeEmail','validationErrors','flash','errors','default','local','message','redirect','/login','logIn','success','Success!\x20You\x20are\x20logged\x20in.','session','returnTo','logout','account/signup','assert','isEmail','password','confirmPassword','Passwords\x20do\x20not\x20match','equals','body','sanitize','/signup','Account\x20with\x20that\x20email\x20address\x20already\x20exists.','save','getAccount','account/profile','Account\x20Management','postUpdateProfile','Please\x20enter\x20a\x20valid\x20email\x20address.','/account','profile','name','gender','location','website','Profile\x20information\x20has\x20been\x20updated.','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','Password\x20has\x20been\x20changed.','postDeleteAccount','remove','info','Your\x20account\x20has\x20been\x20deleted.','params','provider','tokens','kind','isAuthenticated','findOne','token','where','now','exec','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','/forgot','account/reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','len','confirm','Passwords\x20must\x20match.','back','waterfall','passwordResetToken','passwordResetExpires','env','SENDGRID_USER','SENDGRID_PASSWORD','express-ts@starter.com','Your\x20password\x20has\x20been\x20changed','Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20','\x20has\x20just\x20been\x20changed.\x0a'];(function(_0x3bd146,_0x39792f){var _0x38fd40=function(_0x16d698){while(--_0x16d698){_0x3bd146['push'](_0x3bd146['shift']());}};_0x38fd40(++_0x39792f);}(a5_0x29b7,0x1b7));var a5_0x4b16=function(_0x2f3e31,_0x3a89c9){_0x2f3e31=_0x2f3e31-0x0;var _0x2c6db2=a5_0x29b7[_0x2f3e31];return _0x2c6db2;};'use strict';var __importDefault=this&&this[a5_0x4b16('0x0')]||function(_0x5d2a3e){return _0x5d2a3e&&_0x5d2a3e[a5_0x4b16('0x1')]?_0x5d2a3e:{'default':_0x5d2a3e};};Object['defineProperty'](exports,a5_0x4b16('0x1'),{'value':!![]});const async_1=__importDefault(require(a5_0x4b16('0x2')));const crypto_1=__importDefault(require(a5_0x4b16('0x3')));const nodemailer_1=__importDefault(require(a5_0x4b16('0x4')));const passport_1=__importDefault(require(a5_0x4b16('0x5')));const User_1=__importDefault(require(a5_0x4b16('0x6')));const request=require(a5_0x4b16('0x7'));exports[a5_0x4b16('0x8')]=(_0x5144db,_0x350701)=>{if(_0x5144db[a5_0x4b16('0x9')]){return _0x350701['redirect']('/');}_0x350701[a5_0x4b16('0xa')](a5_0x4b16('0xb'),{'title':a5_0x4b16('0xc')});};exports[a5_0x4b16('0xd')]=(_0x54002e,_0x32e6f2,_0x22ce8d)=>{_0x54002e['assert'](a5_0x4b16('0xe'),a5_0x4b16('0xf'))['isEmail']();_0x54002e['assert']('password','Password\x20cannot\x20be\x20blank')[a5_0x4b16('0x10')]();_0x54002e['sanitize'](a5_0x4b16('0xe'))[a5_0x4b16('0x11')]({'gmail_remove_dots':![]});const _0x5bfae2=_0x54002e[a5_0x4b16('0x12')]();if(_0x5bfae2){_0x54002e[a5_0x4b16('0x13')](a5_0x4b16('0x14'),_0x5bfae2);return _0x32e6f2['redirect']('/login');}passport_1[a5_0x4b16('0x15')]['authenticate'](a5_0x4b16('0x16'),(_0x8b5b80,_0x38090f,_0x451c87)=>{if(_0x8b5b80){return _0x22ce8d(_0x8b5b80);}if(!_0x38090f){_0x54002e[a5_0x4b16('0x13')](a5_0x4b16('0x14'),_0x451c87[a5_0x4b16('0x17')]);return _0x32e6f2[a5_0x4b16('0x18')](a5_0x4b16('0x19'));}_0x54002e[a5_0x4b16('0x1a')](_0x38090f,_0x8b5b80=>{if(_0x8b5b80){return _0x22ce8d(_0x8b5b80);}_0x54002e[a5_0x4b16('0x13')](a5_0x4b16('0x1b'),{'msg':a5_0x4b16('0x1c')});_0x32e6f2[a5_0x4b16('0x18')](_0x54002e[a5_0x4b16('0x1d')][a5_0x4b16('0x1e')]||'/');});})(_0x54002e,_0x32e6f2,_0x22ce8d);};exports[a5_0x4b16('0x1f')]=(_0x4a8ea0,_0x5ed354)=>{_0x4a8ea0[a5_0x4b16('0x1f')]();_0x5ed354[a5_0x4b16('0x18')]('/');};exports['getSignup']=(_0x3afbb3,_0x17699a)=>{if(_0x3afbb3['user']){return _0x17699a[a5_0x4b16('0x18')]('/');}_0x17699a[a5_0x4b16('0xa')](a5_0x4b16('0x20'),{'title':'Create\x20Account'});};exports['postSignup']=(_0x249fe3,_0x267fa3,_0x4fd265)=>{_0x249fe3[a5_0x4b16('0x21')](a5_0x4b16('0xe'),a5_0x4b16('0xf'))[a5_0x4b16('0x22')]();_0x249fe3[a5_0x4b16('0x21')](a5_0x4b16('0x23'),'Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long')['len']({'min':0x4});_0x249fe3[a5_0x4b16('0x21')](a5_0x4b16('0x24'),a5_0x4b16('0x25'))[a5_0x4b16('0x26')](_0x249fe3[a5_0x4b16('0x27')]['password']);_0x249fe3[a5_0x4b16('0x28')](a5_0x4b16('0xe'))[a5_0x4b16('0x11')]({'gmail_remove_dots':![]});const _0x2a8abf=_0x249fe3[a5_0x4b16('0x12')]();if(_0x2a8abf){_0x249fe3[a5_0x4b16('0x13')]('errors',_0x2a8abf);return _0x267fa3[a5_0x4b16('0x18')](a5_0x4b16('0x29'));}const _0x425897=new User_1[(a5_0x4b16('0x15'))]({});User_1['default']['findOne']({'email':_0x249fe3[a5_0x4b16('0x27')][a5_0x4b16('0xe')]},(_0x291d10,_0x9d9eab)=>{if(_0x291d10){return _0x4fd265(_0x291d10);}if(_0x9d9eab){_0x249fe3[a5_0x4b16('0x13')](a5_0x4b16('0x14'),{'msg':a5_0x4b16('0x2a')});return _0x267fa3['redirect']('/signup');}_0x425897[a5_0x4b16('0x2b')](_0x291d10=>{if(_0x291d10){return _0x4fd265(_0x291d10);}_0x249fe3[a5_0x4b16('0x1a')](_0x425897,_0x291d10=>{if(_0x291d10){return _0x4fd265(_0x291d10);}_0x267fa3[a5_0x4b16('0x18')]('/');});});});};exports[a5_0x4b16('0x2c')]=(_0x224122,_0x4f12b9)=>{_0x4f12b9['render'](a5_0x4b16('0x2d'),{'title':a5_0x4b16('0x2e')});};exports[a5_0x4b16('0x2f')]=(_0xf5097a,_0x54e8a8,_0x3aa249)=>{_0xf5097a['assert'](a5_0x4b16('0xe'),a5_0x4b16('0x30'))[a5_0x4b16('0x22')]();_0xf5097a[a5_0x4b16('0x28')](a5_0x4b16('0xe'))[a5_0x4b16('0x11')]({'gmail_remove_dots':![]});const _0x2cb973=_0xf5097a[a5_0x4b16('0x12')]();if(_0x2cb973){_0xf5097a[a5_0x4b16('0x13')](a5_0x4b16('0x14'),_0x2cb973);return _0x54e8a8[a5_0x4b16('0x18')](a5_0x4b16('0x31'));}User_1[a5_0x4b16('0x15')]['findById'](_0xf5097a[a5_0x4b16('0x9')]['id'],(_0x42f658,_0x417c83)=>{if(_0x42f658){return _0x3aa249(_0x42f658);}_0x417c83[a5_0x4b16('0xe')]=_0xf5097a[a5_0x4b16('0x27')][a5_0x4b16('0xe')]||'';_0x417c83[a5_0x4b16('0x32')]['name']=_0xf5097a['body'][a5_0x4b16('0x33')]||'';_0x417c83[a5_0x4b16('0x32')][a5_0x4b16('0x34')]=_0xf5097a[a5_0x4b16('0x27')][a5_0x4b16('0x34')]||'';_0x417c83[a5_0x4b16('0x32')][a5_0x4b16('0x35')]=_0xf5097a['body'][a5_0x4b16('0x35')]||'';_0x417c83[a5_0x4b16('0x32')]['website']=_0xf5097a[a5_0x4b16('0x27')][a5_0x4b16('0x36')]||'';_0x417c83[a5_0x4b16('0x2b')](_0x42f658=>{if(_0x42f658){if(_0x42f658['code']===0x2af8){_0xf5097a[a5_0x4b16('0x13')](a5_0x4b16('0x14'),{'msg':'The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.'});return _0x54e8a8[a5_0x4b16('0x18')](a5_0x4b16('0x31'));}return _0x3aa249(_0x42f658);}_0xf5097a[a5_0x4b16('0x13')]('success',{'msg':a5_0x4b16('0x37')});_0x54e8a8[a5_0x4b16('0x18')](a5_0x4b16('0x31'));});});};exports['postUpdatePassword']=(_0x4c6106,_0x13ce30,_0x5efdf6)=>{_0x4c6106['assert'](a5_0x4b16('0x23'),a5_0x4b16('0x38'))['len']({'min':0x4});_0x4c6106[a5_0x4b16('0x21')](a5_0x4b16('0x24'),a5_0x4b16('0x25'))[a5_0x4b16('0x26')](_0x4c6106[a5_0x4b16('0x27')][a5_0x4b16('0x23')]);const _0x4ede67=_0x4c6106[a5_0x4b16('0x12')]();if(_0x4ede67){_0x4c6106['flash'](a5_0x4b16('0x14'),_0x4ede67);return _0x13ce30['redirect'](a5_0x4b16('0x31'));}User_1[a5_0x4b16('0x15')]['findById'](_0x4c6106['user']['id'],(_0x1cac93,_0x503412)=>{if(_0x1cac93){return _0x5efdf6(_0x1cac93);}_0x503412[a5_0x4b16('0x23')]=_0x4c6106[a5_0x4b16('0x27')][a5_0x4b16('0x23')];_0x503412[a5_0x4b16('0x2b')](_0x1cac93=>{if(_0x1cac93){return _0x5efdf6(_0x1cac93);}_0x4c6106['flash']('success',{'msg':a5_0x4b16('0x39')});_0x13ce30[a5_0x4b16('0x18')]('/account');});});};exports[a5_0x4b16('0x3a')]=(_0xb10099,_0x143d0f,_0x5991d7)=>{User_1[a5_0x4b16('0x15')][a5_0x4b16('0x3b')]({'_id':_0xb10099[a5_0x4b16('0x9')]['id']},_0x229c13=>{if(_0x229c13){return _0x5991d7(_0x229c13);}_0xb10099[a5_0x4b16('0x1f')]();_0xb10099[a5_0x4b16('0x13')](a5_0x4b16('0x3c'),{'msg':a5_0x4b16('0x3d')});_0x143d0f[a5_0x4b16('0x18')]('/');});};exports['getOauthUnlink']=(_0x126981,_0x1e7b36,_0x624015)=>{const _0x36cbee=_0x126981[a5_0x4b16('0x3e')][a5_0x4b16('0x3f')];User_1[a5_0x4b16('0x15')]['findById'](_0x126981[a5_0x4b16('0x9')]['id'],(_0x18825b,_0x461ac3)=>{if(_0x18825b){return _0x624015(_0x18825b);}_0x461ac3[_0x36cbee]=undefined;_0x461ac3[a5_0x4b16('0x40')]=_0x461ac3[a5_0x4b16('0x40')]['filter'](_0x289aaa=>_0x289aaa[a5_0x4b16('0x41')]!==_0x36cbee);_0x461ac3[a5_0x4b16('0x2b')](_0x18825b=>{if(_0x18825b){return _0x624015(_0x18825b);}_0x126981[a5_0x4b16('0x13')]('info',{'msg':_0x36cbee+'\x20account\x20has\x20been\x20unlinked.'});_0x1e7b36[a5_0x4b16('0x18')](a5_0x4b16('0x31'));});});};exports['getReset']=(_0x2314e7,_0x2a841b,_0x76ee09)=>{if(_0x2314e7[a5_0x4b16('0x42')]()){return _0x2a841b[a5_0x4b16('0x18')]('/');}User_1['default'][a5_0x4b16('0x43')]({'passwordResetToken':_0x2314e7[a5_0x4b16('0x3e')][a5_0x4b16('0x44')]})[a5_0x4b16('0x45')]('passwordResetExpires')['gt'](Date[a5_0x4b16('0x46')]())[a5_0x4b16('0x47')]((_0x336d83,_0xa93124)=>{if(_0x336d83){return _0x76ee09(_0x336d83);}if(!_0xa93124){_0x2314e7[a5_0x4b16('0x13')](a5_0x4b16('0x14'),{'msg':a5_0x4b16('0x48')});return _0x2a841b[a5_0x4b16('0x18')](a5_0x4b16('0x49'));}_0x2a841b[a5_0x4b16('0xa')](a5_0x4b16('0x4a'),{'title':'Password\x20Reset'});});};exports[a5_0x4b16('0x4b')]=(_0x4a0d99,_0x2d7006,_0x390e22)=>{_0x4a0d99[a5_0x4b16('0x21')]('password',a5_0x4b16('0x4c'))[a5_0x4b16('0x4d')]({'min':0x4});_0x4a0d99[a5_0x4b16('0x21')](a5_0x4b16('0x4e'),a5_0x4b16('0x4f'))[a5_0x4b16('0x26')](_0x4a0d99[a5_0x4b16('0x27')][a5_0x4b16('0x23')]);const _0x375bca=_0x4a0d99[a5_0x4b16('0x12')]();if(_0x375bca){_0x4a0d99[a5_0x4b16('0x13')](a5_0x4b16('0x14'),_0x375bca);return _0x2d7006[a5_0x4b16('0x18')](a5_0x4b16('0x50'));}async_1['default'][a5_0x4b16('0x51')]([function resetPassword(_0x5d96f6){User_1[a5_0x4b16('0x15')][a5_0x4b16('0x43')]({'passwordResetToken':_0x4a0d99[a5_0x4b16('0x3e')]['token']})[a5_0x4b16('0x45')]('passwordResetExpires')['gt'](Date['now']())[a5_0x4b16('0x47')]((_0x5bbfdd,_0x505979)=>{if(_0x5bbfdd){return _0x390e22(_0x5bbfdd);}if(!_0x505979){_0x4a0d99[a5_0x4b16('0x13')](a5_0x4b16('0x14'),{'msg':a5_0x4b16('0x48')});return _0x2d7006[a5_0x4b16('0x18')](a5_0x4b16('0x50'));}_0x505979[a5_0x4b16('0x23')]=_0x4a0d99[a5_0x4b16('0x27')][a5_0x4b16('0x23')];_0x505979[a5_0x4b16('0x52')]=undefined;_0x505979[a5_0x4b16('0x53')]=undefined;_0x505979[a5_0x4b16('0x2b')](_0x5bbfdd=>{if(_0x5bbfdd){return _0x390e22(_0x5bbfdd);}_0x4a0d99['logIn'](_0x505979,_0x5bbfdd=>{_0x5d96f6(_0x5bbfdd,_0x505979);});});});},function sendResetPasswordEmail(_0x297744,_0x146d54){const _0x204e02=nodemailer_1[a5_0x4b16('0x15')]['createTransport']({'service':'SendGrid','auth':{'user':process[a5_0x4b16('0x54')][a5_0x4b16('0x55')],'pass':process[a5_0x4b16('0x54')][a5_0x4b16('0x56')]}});const _0x51c617={'to':_0x297744['email'],'from':a5_0x4b16('0x57'),'subject':a5_0x4b16('0x58'),'text':a5_0x4b16('0x59')+_0x297744['email']+a5_0x4b16('0x5a')};_0x204e02['sendMail'](_0x51c617,_0x1240f9=>{_0x4a0d99[a5_0x4b16('0x13')](a5_0x4b16('0x1b'),{'msg':'Success!\x20Your\x20password\x20has\x20been\x20changed.'});_0x146d54(_0x1240f9);});}],_0x278612=>{if(_0x278612){return _0x390e22(_0x278612);}_0x2d7006[a5_0x4b16('0x18')]('/');});};exports['getForgot']=(_0x53c638,_0x568a58)=>{if(_0x53c638[a5_0x4b16('0x42')]()){return _0x568a58[a5_0x4b16('0x18')]('/');}_0x568a58[a5_0x4b16('0xa')](a5_0x4b16('0x5b'),{'title':'Forgot\x20Password'});};exports[a5_0x4b16('0x5c')]=(_0x513daa,_0x94bd14,_0x1fd432)=>{_0x513daa[a5_0x4b16('0x21')](a5_0x4b16('0xe'),'Please\x20enter\x20a\x20valid\x20email\x20address.')[a5_0x4b16('0x22')]();_0x513daa[a5_0x4b16('0x28')](a5_0x4b16('0xe'))['normalizeEmail']({'gmail_remove_dots':![]});const _0x5115c0=_0x513daa[a5_0x4b16('0x12')]();if(_0x5115c0){_0x513daa[a5_0x4b16('0x13')](a5_0x4b16('0x14'),_0x5115c0);return _0x94bd14[a5_0x4b16('0x18')](a5_0x4b16('0x49'));}async_1['default'][a5_0x4b16('0x51')]([function createRandomToken(_0x212ed5){crypto_1['default']['randomBytes'](0x10,(_0x4a6ef8,_0xedcf54)=>{const _0x2a44c0=_0xedcf54['toString'](a5_0x4b16('0x5d'));_0x212ed5(_0x4a6ef8,_0x2a44c0);});},function setRandomToken(_0x484b9b,_0x57787a){User_1[a5_0x4b16('0x15')][a5_0x4b16('0x43')]({'email':_0x513daa[a5_0x4b16('0x27')][a5_0x4b16('0xe')]},(_0x4a0af5,_0x104704)=>{if(_0x4a0af5){return _0x57787a(_0x4a0af5);}if(!_0x104704){_0x513daa['flash'](a5_0x4b16('0x14'),{'msg':a5_0x4b16('0x5e')});return _0x94bd14[a5_0x4b16('0x18')](a5_0x4b16('0x49'));}_0x104704[a5_0x4b16('0x52')]=_0x484b9b;_0x104704[a5_0x4b16('0x53')]=Date[a5_0x4b16('0x46')]()+0x36ee80;_0x104704['save'](_0x4a0af5=>{_0x57787a(_0x4a0af5,_0x484b9b,_0x104704);});});},function sendForgotPasswordEmail(_0x219eaf,_0x34dd4f,_0x1dbd9e){const _0x3170ed=nodemailer_1['default'][a5_0x4b16('0x5f')]({'service':a5_0x4b16('0x60'),'auth':{'user':process[a5_0x4b16('0x54')][a5_0x4b16('0x55')],'pass':process[a5_0x4b16('0x54')]['SENDGRID_PASSWORD']}});const _0x171615={'to':_0x34dd4f[a5_0x4b16('0xe')],'from':a5_0x4b16('0x61'),'subject':'Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','text':a5_0x4b16('0x62')+_0x513daa[a5_0x4b16('0x63')][a5_0x4b16('0x64')]+a5_0x4b16('0x65')+_0x219eaf+a5_0x4b16('0x66')};_0x3170ed[a5_0x4b16('0x67')](_0x171615,_0x5f38ae=>{_0x513daa[a5_0x4b16('0x13')](a5_0x4b16('0x3c'),{'msg':a5_0x4b16('0x68')+_0x34dd4f[a5_0x4b16('0xe')]+a5_0x4b16('0x69')});_0x1dbd9e(_0x5f38ae);});}],_0x39b0c0=>{if(_0x39b0c0){return _0x1fd432(_0x39b0c0);}_0x94bd14['redirect'](a5_0x4b16('0x49'));});};
var a5_0x503d=['Profile\x20information\x20has\x20been\x20updated.','postUpdatePassword','confirmPassword','user','postDeleteAccount','remove','logout','info','Your\x20account\x20has\x20been\x20deleted.','params','provider','findById','tokens','filter','kind','\x20account\x20has\x20been\x20unlinked.','getReset','isAuthenticated','token','passwordResetExpires','now','exec','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','/forgot','Password\x20Reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','confirm','Passwords\x20must\x20match.','back','waterfall','where','passwordResetToken','createTransport','SendGrid','env','express-ts@starter.com','Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20','\x20has\x20just\x20been\x20changed.\x0a','Success!\x20Your\x20password\x20has\x20been\x20changed.','getForgot','account/forgot','Forgot\x20Password','postForgot','hex','Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.','SENDGRID_USER','SENDGRID_PASSWORD','Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://','host','/reset/','sendMail','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','\x20with\x20further\x20instructions.','__esModule','defineProperty','async','crypto','nodemailer','passport','../models/User','express-validator','redirect','render','account/login','postLogin','assert','email','Email\x20is\x20not\x20valid','isEmail','password','Password\x20cannot\x20be\x20blank','notEmpty','normalizeEmail','validationErrors','flash','errors','/login','default','authenticate','message','logIn','success','Success!\x20You\x20are\x20logged\x20in.','session','returnTo','getSignup','Create\x20Account','postSignup','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','len','Passwords\x20do\x20not\x20match','equals','body','sanitize','findOne','/signup','save','getAccount','account/profile','postUpdateProfile','Please\x20enter\x20a\x20valid\x20email\x20address.','/account','profile','gender','location','website'];(function(_0x36288b,_0x42b22d){var _0x108102=function(_0x59a842){while(--_0x59a842){_0x36288b['push'](_0x36288b['shift']());}};_0x108102(++_0x42b22d);}(a5_0x503d,0x17b));var a5_0x1102=function(_0x24a786,_0x24d1c4){_0x24a786=_0x24a786-0x0;var _0x54072e=a5_0x503d[_0x24a786];return _0x54072e;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x43f524){return _0x43f524&&_0x43f524[a5_0x1102('0x0')]?_0x43f524:{'default':_0x43f524};};Object[a5_0x1102('0x1')](exports,'__esModule',{'value':!![]});const async_1=__importDefault(require(a5_0x1102('0x2')));const crypto_1=__importDefault(require(a5_0x1102('0x3')));const nodemailer_1=__importDefault(require(a5_0x1102('0x4')));const passport_1=__importDefault(require(a5_0x1102('0x5')));const User_1=__importDefault(require(a5_0x1102('0x6')));const request=require(a5_0x1102('0x7'));exports['getLogin']=(_0x5e9a25,_0x2a17c1)=>{if(_0x5e9a25['user']){return _0x2a17c1[a5_0x1102('0x8')]('/');}_0x2a17c1[a5_0x1102('0x9')](a5_0x1102('0xa'),{'title':'Login'});};exports[a5_0x1102('0xb')]=(_0x48168a,_0x4e80c6,_0x56f51f)=>{_0x48168a[a5_0x1102('0xc')](a5_0x1102('0xd'),a5_0x1102('0xe'))[a5_0x1102('0xf')]();_0x48168a[a5_0x1102('0xc')](a5_0x1102('0x10'),a5_0x1102('0x11'))[a5_0x1102('0x12')]();_0x48168a['sanitize']('email')[a5_0x1102('0x13')]({'gmail_remove_dots':![]});const _0x352161=_0x48168a[a5_0x1102('0x14')]();if(_0x352161){_0x48168a[a5_0x1102('0x15')](a5_0x1102('0x16'),_0x352161);return _0x4e80c6['redirect'](a5_0x1102('0x17'));}passport_1[a5_0x1102('0x18')][a5_0x1102('0x19')]('local',(_0x242ea3,_0x54b31d,_0x424754)=>{if(_0x242ea3){return _0x56f51f(_0x242ea3);}if(!_0x54b31d){_0x48168a[a5_0x1102('0x15')](a5_0x1102('0x16'),_0x424754[a5_0x1102('0x1a')]);return _0x4e80c6[a5_0x1102('0x8')](a5_0x1102('0x17'));}_0x48168a[a5_0x1102('0x1b')](_0x54b31d,_0x242ea3=>{if(_0x242ea3){return _0x56f51f(_0x242ea3);}_0x48168a[a5_0x1102('0x15')](a5_0x1102('0x1c'),{'msg':a5_0x1102('0x1d')});_0x4e80c6[a5_0x1102('0x8')](_0x48168a[a5_0x1102('0x1e')][a5_0x1102('0x1f')]||'/');});})(_0x48168a,_0x4e80c6,_0x56f51f);};exports['logout']=(_0x48f2bd,_0x2d0c64)=>{_0x48f2bd['logout']();_0x2d0c64[a5_0x1102('0x8')]('/');};exports[a5_0x1102('0x20')]=(_0x3b4ae5,_0x50aad9)=>{if(_0x3b4ae5['user']){return _0x50aad9['redirect']('/');}_0x50aad9['render']('account/signup',{'title':a5_0x1102('0x21')});};exports[a5_0x1102('0x22')]=(_0x23b562,_0x4c3fd7,_0x134d9)=>{_0x23b562[a5_0x1102('0xc')](a5_0x1102('0xd'),a5_0x1102('0xe'))['isEmail']();_0x23b562[a5_0x1102('0xc')](a5_0x1102('0x10'),a5_0x1102('0x23'))[a5_0x1102('0x24')]({'min':0x4});_0x23b562[a5_0x1102('0xc')]('confirmPassword',a5_0x1102('0x25'))[a5_0x1102('0x26')](_0x23b562[a5_0x1102('0x27')][a5_0x1102('0x10')]);_0x23b562[a5_0x1102('0x28')](a5_0x1102('0xd'))['normalizeEmail']({'gmail_remove_dots':![]});const _0x26052b=_0x23b562['validationErrors']();if(_0x26052b){_0x23b562[a5_0x1102('0x15')](a5_0x1102('0x16'),_0x26052b);return _0x4c3fd7['redirect']('/signup');}const _0x5456e1=new User_1['default']({'email':_0x23b562['body'][a5_0x1102('0xd')],'password':_0x23b562[a5_0x1102('0x27')][a5_0x1102('0x10')]});User_1[a5_0x1102('0x18')][a5_0x1102('0x29')]({'email':_0x23b562[a5_0x1102('0x27')][a5_0x1102('0xd')]},(_0x307d51,_0x17460f)=>{if(_0x307d51){return _0x134d9(_0x307d51);}if(_0x17460f){_0x23b562[a5_0x1102('0x15')]('errors',{'msg':'Account\x20with\x20that\x20email\x20address\x20already\x20exists.'});return _0x4c3fd7[a5_0x1102('0x8')](a5_0x1102('0x2a'));}_0x5456e1[a5_0x1102('0x2b')](_0x307d51=>{if(_0x307d51){return _0x134d9(_0x307d51);}_0x23b562[a5_0x1102('0x1b')](_0x5456e1,_0x307d51=>{if(_0x307d51){return _0x134d9(_0x307d51);}_0x4c3fd7[a5_0x1102('0x8')]('/');});});});};exports[a5_0x1102('0x2c')]=(_0x432c32,_0x25d90c)=>{_0x25d90c[a5_0x1102('0x9')](a5_0x1102('0x2d'),{'title':'Account\x20Management'});};exports[a5_0x1102('0x2e')]=(_0x3dc3fe,_0x1bef95,_0x516928)=>{_0x3dc3fe['assert'](a5_0x1102('0xd'),a5_0x1102('0x2f'))[a5_0x1102('0xf')]();_0x3dc3fe[a5_0x1102('0x28')](a5_0x1102('0xd'))[a5_0x1102('0x13')]({'gmail_remove_dots':![]});const _0x4fa31f=_0x3dc3fe[a5_0x1102('0x14')]();if(_0x4fa31f){_0x3dc3fe[a5_0x1102('0x15')](a5_0x1102('0x16'),_0x4fa31f);return _0x1bef95[a5_0x1102('0x8')](a5_0x1102('0x30'));}User_1[a5_0x1102('0x18')]['findById'](_0x3dc3fe['user']['id'],(_0x273960,_0x2c7826)=>{if(_0x273960){return _0x516928(_0x273960);}_0x2c7826[a5_0x1102('0xd')]=_0x3dc3fe[a5_0x1102('0x27')][a5_0x1102('0xd')]||'';_0x2c7826[a5_0x1102('0x31')]['name']=_0x3dc3fe[a5_0x1102('0x27')]['name']||'';_0x2c7826['profile']['gender']=_0x3dc3fe[a5_0x1102('0x27')][a5_0x1102('0x32')]||'';_0x2c7826[a5_0x1102('0x31')][a5_0x1102('0x33')]=_0x3dc3fe[a5_0x1102('0x27')]['location']||'';_0x2c7826[a5_0x1102('0x31')][a5_0x1102('0x34')]=_0x3dc3fe[a5_0x1102('0x27')][a5_0x1102('0x34')]||'';_0x2c7826['save'](_0x273960=>{if(_0x273960){if(_0x273960['code']===0x2af8){_0x3dc3fe[a5_0x1102('0x15')](a5_0x1102('0x16'),{'msg':'The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.'});return _0x1bef95[a5_0x1102('0x8')]('/account');}return _0x516928(_0x273960);}_0x3dc3fe[a5_0x1102('0x15')](a5_0x1102('0x1c'),{'msg':a5_0x1102('0x35')});_0x1bef95['redirect'](a5_0x1102('0x30'));});});};exports[a5_0x1102('0x36')]=(_0x16d257,_0x532e8b,_0x15052a)=>{_0x16d257['assert'](a5_0x1102('0x10'),a5_0x1102('0x23'))[a5_0x1102('0x24')]({'min':0x4});_0x16d257[a5_0x1102('0xc')](a5_0x1102('0x37'),a5_0x1102('0x25'))[a5_0x1102('0x26')](_0x16d257['body'][a5_0x1102('0x10')]);const _0x4e5b7e=_0x16d257['validationErrors']();if(_0x4e5b7e){_0x16d257[a5_0x1102('0x15')](a5_0x1102('0x16'),_0x4e5b7e);return _0x532e8b[a5_0x1102('0x8')](a5_0x1102('0x30'));}User_1['default']['findById'](_0x16d257[a5_0x1102('0x38')]['id'],(_0x24c7c5,_0x4e48bf)=>{if(_0x24c7c5){return _0x15052a(_0x24c7c5);}_0x4e48bf[a5_0x1102('0x10')]=_0x16d257['body'][a5_0x1102('0x10')];_0x4e48bf[a5_0x1102('0x2b')](_0x24c7c5=>{if(_0x24c7c5){return _0x15052a(_0x24c7c5);}_0x16d257[a5_0x1102('0x15')](a5_0x1102('0x1c'),{'msg':'Password\x20has\x20been\x20changed.'});_0x532e8b[a5_0x1102('0x8')](a5_0x1102('0x30'));});});};exports[a5_0x1102('0x39')]=(_0x46705b,_0x4a290c,_0x1c437d)=>{User_1[a5_0x1102('0x18')][a5_0x1102('0x3a')]({'_id':_0x46705b[a5_0x1102('0x38')]['id']},_0x280dd9=>{if(_0x280dd9){return _0x1c437d(_0x280dd9);}_0x46705b[a5_0x1102('0x3b')]();_0x46705b[a5_0x1102('0x15')](a5_0x1102('0x3c'),{'msg':a5_0x1102('0x3d')});_0x4a290c[a5_0x1102('0x8')]('/');});};exports['getOauthUnlink']=(_0x25dcc8,_0x5775dd,_0x470154)=>{const _0x408bd1=_0x25dcc8[a5_0x1102('0x3e')][a5_0x1102('0x3f')];User_1[a5_0x1102('0x18')][a5_0x1102('0x40')](_0x25dcc8[a5_0x1102('0x38')]['id'],(_0x637194,_0x11b8d1)=>{if(_0x637194){return _0x470154(_0x637194);}_0x11b8d1[_0x408bd1]=undefined;_0x11b8d1[a5_0x1102('0x41')]=_0x11b8d1[a5_0x1102('0x41')][a5_0x1102('0x42')](_0x189668=>_0x189668[a5_0x1102('0x43')]!==_0x408bd1);_0x11b8d1[a5_0x1102('0x2b')](_0x637194=>{if(_0x637194){return _0x470154(_0x637194);}_0x25dcc8[a5_0x1102('0x15')](a5_0x1102('0x3c'),{'msg':_0x408bd1+a5_0x1102('0x44')});_0x5775dd[a5_0x1102('0x8')](a5_0x1102('0x30'));});});};exports[a5_0x1102('0x45')]=(_0x55e229,_0x318181,_0x22e1fc)=>{if(_0x55e229[a5_0x1102('0x46')]()){return _0x318181[a5_0x1102('0x8')]('/');}User_1['default'][a5_0x1102('0x29')]({'passwordResetToken':_0x55e229[a5_0x1102('0x3e')][a5_0x1102('0x47')]})['where'](a5_0x1102('0x48'))['gt'](Date[a5_0x1102('0x49')]())[a5_0x1102('0x4a')]((_0x577ef1,_0x5f17b3)=>{if(_0x577ef1){return _0x22e1fc(_0x577ef1);}if(!_0x5f17b3){_0x55e229['flash'](a5_0x1102('0x16'),{'msg':a5_0x1102('0x4b')});return _0x318181['redirect'](a5_0x1102('0x4c'));}_0x318181[a5_0x1102('0x9')]('account/reset',{'title':a5_0x1102('0x4d')});});};exports[a5_0x1102('0x4e')]=(_0x34cde3,_0x1a31bf,_0x269e4e)=>{_0x34cde3[a5_0x1102('0xc')]('password',a5_0x1102('0x4f'))[a5_0x1102('0x24')]({'min':0x4});_0x34cde3['assert'](a5_0x1102('0x50'),a5_0x1102('0x51'))['equals'](_0x34cde3[a5_0x1102('0x27')][a5_0x1102('0x10')]);const _0x35dc2f=_0x34cde3[a5_0x1102('0x14')]();if(_0x35dc2f){_0x34cde3['flash'](a5_0x1102('0x16'),_0x35dc2f);return _0x1a31bf['redirect'](a5_0x1102('0x52'));}async_1[a5_0x1102('0x18')][a5_0x1102('0x53')]([function resetPassword(_0x3a3b2c){User_1[a5_0x1102('0x18')][a5_0x1102('0x29')]({'passwordResetToken':_0x34cde3[a5_0x1102('0x3e')][a5_0x1102('0x47')]})[a5_0x1102('0x54')](a5_0x1102('0x48'))['gt'](Date['now']())['exec']((_0x1971a0,_0x323763)=>{if(_0x1971a0){return _0x269e4e(_0x1971a0);}if(!_0x323763){_0x34cde3['flash'](a5_0x1102('0x16'),{'msg':a5_0x1102('0x4b')});return _0x1a31bf[a5_0x1102('0x8')](a5_0x1102('0x52'));}_0x323763[a5_0x1102('0x10')]=_0x34cde3[a5_0x1102('0x27')][a5_0x1102('0x10')];_0x323763[a5_0x1102('0x55')]=undefined;_0x323763[a5_0x1102('0x48')]=undefined;_0x323763[a5_0x1102('0x2b')](_0x1971a0=>{if(_0x1971a0){return _0x269e4e(_0x1971a0);}_0x34cde3[a5_0x1102('0x1b')](_0x323763,_0x1971a0=>{_0x3a3b2c(_0x1971a0,_0x323763);});});});},function sendResetPasswordEmail(_0x883efe,_0x290c41){const _0x258dbb=nodemailer_1['default'][a5_0x1102('0x56')]({'service':a5_0x1102('0x57'),'auth':{'user':process[a5_0x1102('0x58')]['SENDGRID_USER'],'pass':process['env']['SENDGRID_PASSWORD']}});const _0x1aeda8={'to':_0x883efe[a5_0x1102('0xd')],'from':a5_0x1102('0x59'),'subject':'Your\x20password\x20has\x20been\x20changed','text':a5_0x1102('0x5a')+_0x883efe[a5_0x1102('0xd')]+a5_0x1102('0x5b')};_0x258dbb['sendMail'](_0x1aeda8,_0x3ac3ca=>{_0x34cde3[a5_0x1102('0x15')]('success',{'msg':a5_0x1102('0x5c')});_0x290c41(_0x3ac3ca);});}],_0x5cbbe8=>{if(_0x5cbbe8){return _0x269e4e(_0x5cbbe8);}_0x1a31bf['redirect']('/');});};exports[a5_0x1102('0x5d')]=(_0x5806e6,_0x15c1fa)=>{if(_0x5806e6['isAuthenticated']()){return _0x15c1fa['redirect']('/');}_0x15c1fa[a5_0x1102('0x9')](a5_0x1102('0x5e'),{'title':a5_0x1102('0x5f')});};exports[a5_0x1102('0x60')]=(_0x2f027d,_0x36d7d3,_0x3b693a)=>{_0x2f027d[a5_0x1102('0xc')](a5_0x1102('0xd'),a5_0x1102('0x2f'))[a5_0x1102('0xf')]();_0x2f027d[a5_0x1102('0x28')](a5_0x1102('0xd'))[a5_0x1102('0x13')]({'gmail_remove_dots':![]});const _0x506afd=_0x2f027d['validationErrors']();if(_0x506afd){_0x2f027d[a5_0x1102('0x15')]('errors',_0x506afd);return _0x36d7d3[a5_0x1102('0x8')](a5_0x1102('0x4c'));}async_1[a5_0x1102('0x18')][a5_0x1102('0x53')]([function createRandomToken(_0x173dc6){crypto_1[a5_0x1102('0x18')]['randomBytes'](0x10,(_0xa7729a,_0x40156b)=>{const _0x4478b9=_0x40156b['toString'](a5_0x1102('0x61'));_0x173dc6(_0xa7729a,_0x4478b9);});},function setRandomToken(_0x556fd6,_0xd96c05){User_1[a5_0x1102('0x18')][a5_0x1102('0x29')]({'email':_0x2f027d[a5_0x1102('0x27')][a5_0x1102('0xd')]},(_0x3266a6,_0x342308)=>{if(_0x3266a6){return _0xd96c05(_0x3266a6);}if(!_0x342308){_0x2f027d[a5_0x1102('0x15')](a5_0x1102('0x16'),{'msg':a5_0x1102('0x62')});return _0x36d7d3[a5_0x1102('0x8')](a5_0x1102('0x4c'));}_0x342308[a5_0x1102('0x55')]=_0x556fd6;_0x342308['passwordResetExpires']=Date[a5_0x1102('0x49')]()+0x36ee80;_0x342308[a5_0x1102('0x2b')](_0x3266a6=>{_0xd96c05(_0x3266a6,_0x556fd6,_0x342308);});});},function sendForgotPasswordEmail(_0x236678,_0x16524f,_0x4cf42e){const _0x2c300c=nodemailer_1[a5_0x1102('0x18')][a5_0x1102('0x56')]({'service':a5_0x1102('0x57'),'auth':{'user':process[a5_0x1102('0x58')][a5_0x1102('0x63')],'pass':process['env'][a5_0x1102('0x64')]}});const _0x17b47a={'to':_0x16524f['email'],'from':'hackathon@starter.com','subject':a5_0x1102('0x65'),'text':a5_0x1102('0x66')+_0x2f027d['headers'][a5_0x1102('0x67')]+a5_0x1102('0x68')+_0x236678+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a'};_0x2c300c[a5_0x1102('0x69')](_0x17b47a,_0xbc6a1a=>{_0x2f027d['flash'](a5_0x1102('0x3c'),{'msg':a5_0x1102('0x6a')+_0x16524f['email']+a5_0x1102('0x6b')});_0x4cf42e(_0xbc6a1a);});}],_0x1c5fa2=>{if(_0x1c5fa2){return _0x3b693a(_0x1c5fa2);}_0x36d7d3[a5_0x1102('0x8')]('/forgot');});};
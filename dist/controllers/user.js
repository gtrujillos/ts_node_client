var a5_0x3a44=['local','flash','message','logIn','success','session','returnTo','logout','account/signup','postSignup','email','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','confirmPassword','Passwords\x20do\x20not\x20match','body','validationErrors','/signup','findOne','Account\x20with\x20that\x20email\x20address\x20already\x20exists.','account/profile','postUpdateProfile','Please\x20enter\x20a\x20valid\x20email\x20address.','findById','profile','name','gender','location','website','save','The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.','/account','Profile\x20information\x20has\x20been\x20updated.','postUpdatePassword','equals','postDeleteAccount','remove','getOauthUnlink','params','provider','tokens','filter','info','\x20account\x20has\x20been\x20unlinked.','getReset','isAuthenticated','token','where','passwordResetExpires','now','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','account/reset','Password\x20Reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','len','confirm','waterfall','exec','back','createTransport','SendGrid','env','SENDGRID_USER','SENDGRID_PASSWORD','express-ts@starter.com','sendMail','Success!\x20Your\x20password\x20has\x20been\x20changed.','getForgot','account/forgot','Forgot\x20Password','postForgot','/forgot','randomBytes','toString','hex','hackathon@starter.com','Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://','headers','host','/reset/','\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','\x20with\x20further\x20instructions.','__importDefault','__esModule','defineProperty','async','crypto','nodemailer','../models/User','express-validator','getLogin','user','redirect','render','account/login','Login','postLogin','assert','Email\x20is\x20not\x20valid','isEmail','password','Password\x20cannot\x20be\x20blank','notEmpty','sanitize','normalizeEmail','errors','/login','default','authenticate'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(a5_0x3a44,0x1a1));var a5_0x4619=function(_0x3151c5,_0x3fcbca){_0x3151c5=_0x3151c5-0x0;var _0x56ef02=a5_0x3a44[_0x3151c5];return _0x56ef02;};'use strict';var __importDefault=this&&this[a5_0x4619('0x0')]||function(_0x12d825){return _0x12d825&&_0x12d825[a5_0x4619('0x1')]?_0x12d825:{'default':_0x12d825};};Object[a5_0x4619('0x2')](exports,a5_0x4619('0x1'),{'value':!![]});const async_1=__importDefault(require(a5_0x4619('0x3')));const crypto_1=__importDefault(require(a5_0x4619('0x4')));const nodemailer_1=__importDefault(require(a5_0x4619('0x5')));const passport_1=__importDefault(require('passport'));const User_1=__importDefault(require(a5_0x4619('0x6')));const request=require(a5_0x4619('0x7'));exports[a5_0x4619('0x8')]=(_0x339bfa,_0x4bc280)=>{if(_0x339bfa[a5_0x4619('0x9')]){return _0x4bc280[a5_0x4619('0xa')]('/');}_0x4bc280[a5_0x4619('0xb')](a5_0x4619('0xc'),{'title':a5_0x4619('0xd')});};exports[a5_0x4619('0xe')]=(_0xbbcd69,_0x243983,_0x4f75ae)=>{_0xbbcd69[a5_0x4619('0xf')]('email',a5_0x4619('0x10'))[a5_0x4619('0x11')]();_0xbbcd69[a5_0x4619('0xf')](a5_0x4619('0x12'),a5_0x4619('0x13'))[a5_0x4619('0x14')]();_0xbbcd69[a5_0x4619('0x15')]('email')[a5_0x4619('0x16')]({'gmail_remove_dots':![]});const _0x1717ec=_0xbbcd69['validationErrors']();if(_0x1717ec){_0xbbcd69['flash'](a5_0x4619('0x17'),_0x1717ec);return _0x243983['redirect'](a5_0x4619('0x18'));}passport_1[a5_0x4619('0x19')][a5_0x4619('0x1a')](a5_0x4619('0x1b'),(_0x521858,_0x5c3674,_0x3b5138)=>{if(_0x521858){return _0x4f75ae(_0x521858);}if(!_0x5c3674){_0xbbcd69[a5_0x4619('0x1c')](a5_0x4619('0x17'),_0x3b5138[a5_0x4619('0x1d')]);return _0x243983[a5_0x4619('0xa')](a5_0x4619('0x18'));}_0xbbcd69[a5_0x4619('0x1e')](_0x5c3674,_0x521858=>{if(_0x521858){return _0x4f75ae(_0x521858);}_0xbbcd69[a5_0x4619('0x1c')](a5_0x4619('0x1f'),{'msg':'Success!\x20You\x20are\x20logged\x20in.'});_0x243983[a5_0x4619('0xa')](_0xbbcd69[a5_0x4619('0x20')][a5_0x4619('0x21')]||'/');});})(_0xbbcd69,_0x243983,_0x4f75ae);};exports['logout']=(_0x4284f3,_0x39b21a)=>{_0x4284f3[a5_0x4619('0x22')]();_0x39b21a[a5_0x4619('0xa')]('/');};exports['getSignup']=(_0xdfc9c8,_0x2555e5)=>{if(_0xdfc9c8[a5_0x4619('0x9')]){return _0x2555e5[a5_0x4619('0xa')]('/');}_0x2555e5[a5_0x4619('0xb')](a5_0x4619('0x23'),{'title':'Create\x20Account'});};exports[a5_0x4619('0x24')]=(_0x37733b,_0x13f65b,_0xf4e130)=>{_0x37733b[a5_0x4619('0xf')](a5_0x4619('0x25'),a5_0x4619('0x10'))[a5_0x4619('0x11')]();_0x37733b['assert'](a5_0x4619('0x12'),a5_0x4619('0x26'))['len']({'min':0x4});_0x37733b[a5_0x4619('0xf')](a5_0x4619('0x27'),a5_0x4619('0x28'))['equals'](_0x37733b[a5_0x4619('0x29')][a5_0x4619('0x12')]);_0x37733b[a5_0x4619('0x15')](a5_0x4619('0x25'))[a5_0x4619('0x16')]({'gmail_remove_dots':![]});const _0x3925ba=_0x37733b[a5_0x4619('0x2a')]();if(_0x3925ba){_0x37733b[a5_0x4619('0x1c')]('errors',_0x3925ba);return _0x13f65b['redirect'](a5_0x4619('0x2b'));}const _0x25f09d=new User_1[(a5_0x4619('0x19'))]({'email':_0x37733b['body'][a5_0x4619('0x25')],'password':_0x37733b['body'][a5_0x4619('0x12')]});User_1[a5_0x4619('0x19')][a5_0x4619('0x2c')]({'email':_0x37733b[a5_0x4619('0x29')][a5_0x4619('0x25')]},(_0x1c5a8c,_0x14d0d2)=>{if(_0x1c5a8c){return _0xf4e130(_0x1c5a8c);}if(_0x14d0d2){_0x37733b[a5_0x4619('0x1c')](a5_0x4619('0x17'),{'msg':a5_0x4619('0x2d')});return _0x13f65b['redirect'](a5_0x4619('0x2b'));}_0x25f09d['save'](_0x1c5a8c=>{if(_0x1c5a8c){return _0xf4e130(_0x1c5a8c);}_0x37733b[a5_0x4619('0x1e')](_0x25f09d,_0x1c5a8c=>{if(_0x1c5a8c){return _0xf4e130(_0x1c5a8c);}_0x13f65b[a5_0x4619('0xa')]('/');});});});};exports['getAccount']=(_0x4ba5be,_0x177f1d)=>{_0x177f1d[a5_0x4619('0xb')](a5_0x4619('0x2e'),{'title':'Account\x20Management'});};exports[a5_0x4619('0x2f')]=(_0x1d9059,_0x57caa9,_0x173b88)=>{_0x1d9059[a5_0x4619('0xf')](a5_0x4619('0x25'),a5_0x4619('0x30'))[a5_0x4619('0x11')]();_0x1d9059[a5_0x4619('0x15')](a5_0x4619('0x25'))[a5_0x4619('0x16')]({'gmail_remove_dots':![]});const _0x31b117=_0x1d9059['validationErrors']();if(_0x31b117){_0x1d9059[a5_0x4619('0x1c')](a5_0x4619('0x17'),_0x31b117);return _0x57caa9[a5_0x4619('0xa')]('/account');}User_1[a5_0x4619('0x19')][a5_0x4619('0x31')](_0x1d9059[a5_0x4619('0x9')]['id'],(_0x3ae788,_0x1c2fa5)=>{if(_0x3ae788){return _0x173b88(_0x3ae788);}_0x1c2fa5[a5_0x4619('0x25')]=_0x1d9059[a5_0x4619('0x29')][a5_0x4619('0x25')]||'';_0x1c2fa5[a5_0x4619('0x32')][a5_0x4619('0x33')]=_0x1d9059[a5_0x4619('0x29')][a5_0x4619('0x33')]||'';_0x1c2fa5[a5_0x4619('0x32')][a5_0x4619('0x34')]=_0x1d9059[a5_0x4619('0x29')][a5_0x4619('0x34')]||'';_0x1c2fa5[a5_0x4619('0x32')][a5_0x4619('0x35')]=_0x1d9059[a5_0x4619('0x29')]['location']||'';_0x1c2fa5[a5_0x4619('0x32')][a5_0x4619('0x36')]=_0x1d9059[a5_0x4619('0x29')]['website']||'';_0x1c2fa5[a5_0x4619('0x37')](_0x3ae788=>{if(_0x3ae788){if(_0x3ae788['code']===0x2af8){_0x1d9059[a5_0x4619('0x1c')](a5_0x4619('0x17'),{'msg':a5_0x4619('0x38')});return _0x57caa9[a5_0x4619('0xa')](a5_0x4619('0x39'));}return _0x173b88(_0x3ae788);}_0x1d9059['flash']('success',{'msg':a5_0x4619('0x3a')});_0x57caa9[a5_0x4619('0xa')](a5_0x4619('0x39'));});});};exports[a5_0x4619('0x3b')]=(_0x2b61c1,_0x39260b,_0x270ad8)=>{_0x2b61c1[a5_0x4619('0xf')]('password',a5_0x4619('0x26'))['len']({'min':0x4});_0x2b61c1[a5_0x4619('0xf')]('confirmPassword','Passwords\x20do\x20not\x20match')[a5_0x4619('0x3c')](_0x2b61c1['body'][a5_0x4619('0x12')]);const _0x5544cc=_0x2b61c1[a5_0x4619('0x2a')]();if(_0x5544cc){_0x2b61c1[a5_0x4619('0x1c')](a5_0x4619('0x17'),_0x5544cc);return _0x39260b[a5_0x4619('0xa')](a5_0x4619('0x39'));}User_1['default'][a5_0x4619('0x31')](_0x2b61c1[a5_0x4619('0x9')]['id'],(_0x152187,_0x21955c)=>{if(_0x152187){return _0x270ad8(_0x152187);}_0x21955c[a5_0x4619('0x12')]=_0x2b61c1[a5_0x4619('0x29')]['password'];_0x21955c[a5_0x4619('0x37')](_0x152187=>{if(_0x152187){return _0x270ad8(_0x152187);}_0x2b61c1[a5_0x4619('0x1c')](a5_0x4619('0x1f'),{'msg':'Password\x20has\x20been\x20changed.'});_0x39260b[a5_0x4619('0xa')](a5_0x4619('0x39'));});});};exports[a5_0x4619('0x3d')]=(_0x4bbb72,_0x1f9790,_0x5dd0af)=>{User_1[a5_0x4619('0x19')][a5_0x4619('0x3e')]({'_id':_0x4bbb72[a5_0x4619('0x9')]['id']},_0x4970ba=>{if(_0x4970ba){return _0x5dd0af(_0x4970ba);}_0x4bbb72[a5_0x4619('0x22')]();_0x4bbb72[a5_0x4619('0x1c')]('info',{'msg':'Your\x20account\x20has\x20been\x20deleted.'});_0x1f9790['redirect']('/');});};exports[a5_0x4619('0x3f')]=(_0x5e54b6,_0x5c645f,_0x220ef1)=>{const _0x59cb5c=_0x5e54b6[a5_0x4619('0x40')][a5_0x4619('0x41')];User_1['default'][a5_0x4619('0x31')](_0x5e54b6[a5_0x4619('0x9')]['id'],(_0x500220,_0x5c145e)=>{if(_0x500220){return _0x220ef1(_0x500220);}_0x5c145e[_0x59cb5c]=undefined;_0x5c145e['tokens']=_0x5c145e[a5_0x4619('0x42')][a5_0x4619('0x43')](_0x2fb736=>_0x2fb736['kind']!==_0x59cb5c);_0x5c145e[a5_0x4619('0x37')](_0x500220=>{if(_0x500220){return _0x220ef1(_0x500220);}_0x5e54b6[a5_0x4619('0x1c')](a5_0x4619('0x44'),{'msg':_0x59cb5c+a5_0x4619('0x45')});_0x5c645f[a5_0x4619('0xa')]('/account');});});};exports[a5_0x4619('0x46')]=(_0xe33269,_0x26071b,_0x1479fe)=>{if(_0xe33269[a5_0x4619('0x47')]()){return _0x26071b['redirect']('/');}User_1[a5_0x4619('0x19')][a5_0x4619('0x2c')]({'passwordResetToken':_0xe33269[a5_0x4619('0x40')][a5_0x4619('0x48')]})[a5_0x4619('0x49')](a5_0x4619('0x4a'))['gt'](Date[a5_0x4619('0x4b')]())['exec']((_0xad16ad,_0x3b56db)=>{if(_0xad16ad){return _0x1479fe(_0xad16ad);}if(!_0x3b56db){_0xe33269[a5_0x4619('0x1c')](a5_0x4619('0x17'),{'msg':a5_0x4619('0x4c')});return _0x26071b[a5_0x4619('0xa')]('/forgot');}_0x26071b[a5_0x4619('0xb')](a5_0x4619('0x4d'),{'title':a5_0x4619('0x4e')});});};exports[a5_0x4619('0x4f')]=(_0x1f1d90,_0x517e89,_0x44dfd7)=>{_0x1f1d90[a5_0x4619('0xf')](a5_0x4619('0x12'),a5_0x4619('0x50'))[a5_0x4619('0x51')]({'min':0x4});_0x1f1d90[a5_0x4619('0xf')](a5_0x4619('0x52'),'Passwords\x20must\x20match.')[a5_0x4619('0x3c')](_0x1f1d90['body']['password']);const _0x1000ae=_0x1f1d90['validationErrors']();if(_0x1000ae){_0x1f1d90[a5_0x4619('0x1c')](a5_0x4619('0x17'),_0x1000ae);return _0x517e89[a5_0x4619('0xa')]('back');}async_1[a5_0x4619('0x19')][a5_0x4619('0x53')]([function resetPassword(_0x1448dd){User_1[a5_0x4619('0x19')][a5_0x4619('0x2c')]({'passwordResetToken':_0x1f1d90[a5_0x4619('0x40')][a5_0x4619('0x48')]})[a5_0x4619('0x49')]('passwordResetExpires')['gt'](Date[a5_0x4619('0x4b')]())[a5_0x4619('0x54')]((_0x7fcc87,_0x388e3b)=>{if(_0x7fcc87){return _0x44dfd7(_0x7fcc87);}if(!_0x388e3b){_0x1f1d90[a5_0x4619('0x1c')](a5_0x4619('0x17'),{'msg':a5_0x4619('0x4c')});return _0x517e89[a5_0x4619('0xa')](a5_0x4619('0x55'));}_0x388e3b['password']=_0x1f1d90[a5_0x4619('0x29')][a5_0x4619('0x12')];_0x388e3b['passwordResetToken']=undefined;_0x388e3b[a5_0x4619('0x4a')]=undefined;_0x388e3b[a5_0x4619('0x37')](_0x7fcc87=>{if(_0x7fcc87){return _0x44dfd7(_0x7fcc87);}_0x1f1d90['logIn'](_0x388e3b,_0x7fcc87=>{_0x1448dd(_0x7fcc87,_0x388e3b);});});});},function sendResetPasswordEmail(_0x3af304,_0x4cbd6c){const _0xd79fd0=nodemailer_1['default'][a5_0x4619('0x56')]({'service':a5_0x4619('0x57'),'auth':{'user':process[a5_0x4619('0x58')][a5_0x4619('0x59')],'pass':process[a5_0x4619('0x58')][a5_0x4619('0x5a')]}});const _0x573c0e={'to':_0x3af304[a5_0x4619('0x25')],'from':a5_0x4619('0x5b'),'subject':'Your\x20password\x20has\x20been\x20changed','text':'Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20'+_0x3af304[a5_0x4619('0x25')]+'\x20has\x20just\x20been\x20changed.\x0a'};_0xd79fd0[a5_0x4619('0x5c')](_0x573c0e,_0x2207d4=>{_0x1f1d90[a5_0x4619('0x1c')](a5_0x4619('0x1f'),{'msg':a5_0x4619('0x5d')});_0x4cbd6c(_0x2207d4);});}],_0x387bad=>{if(_0x387bad){return _0x44dfd7(_0x387bad);}_0x517e89[a5_0x4619('0xa')]('/');});};exports[a5_0x4619('0x5e')]=(_0xcee9dd,_0xcf0681)=>{if(_0xcee9dd['isAuthenticated']()){return _0xcf0681[a5_0x4619('0xa')]('/');}_0xcf0681[a5_0x4619('0xb')](a5_0x4619('0x5f'),{'title':a5_0x4619('0x60')});};exports[a5_0x4619('0x61')]=(_0x3bac28,_0x3e3ae6,_0x4c59a7)=>{_0x3bac28[a5_0x4619('0xf')](a5_0x4619('0x25'),a5_0x4619('0x30'))[a5_0x4619('0x11')]();_0x3bac28[a5_0x4619('0x15')]('email')[a5_0x4619('0x16')]({'gmail_remove_dots':![]});const _0x5ec3ff=_0x3bac28[a5_0x4619('0x2a')]();if(_0x5ec3ff){_0x3bac28['flash']('errors',_0x5ec3ff);return _0x3e3ae6[a5_0x4619('0xa')](a5_0x4619('0x62'));}async_1[a5_0x4619('0x19')][a5_0x4619('0x53')]([function createRandomToken(_0x4cf27c){crypto_1['default'][a5_0x4619('0x63')](0x10,(_0x4fc387,_0x222c0e)=>{const _0x314aaf=_0x222c0e[a5_0x4619('0x64')](a5_0x4619('0x65'));_0x4cf27c(_0x4fc387,_0x314aaf);});},function setRandomToken(_0x115106,_0x3c9bc7){User_1[a5_0x4619('0x19')]['findOne']({'email':_0x3bac28[a5_0x4619('0x29')][a5_0x4619('0x25')]},(_0x346479,_0x470637)=>{if(_0x346479){return _0x3c9bc7(_0x346479);}if(!_0x470637){_0x3bac28[a5_0x4619('0x1c')](a5_0x4619('0x17'),{'msg':'Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.'});return _0x3e3ae6[a5_0x4619('0xa')]('/forgot');}_0x470637['passwordResetToken']=_0x115106;_0x470637[a5_0x4619('0x4a')]=Date[a5_0x4619('0x4b')]()+0x36ee80;_0x470637[a5_0x4619('0x37')](_0x346479=>{_0x3c9bc7(_0x346479,_0x115106,_0x470637);});});},function sendForgotPasswordEmail(_0x49bd00,_0x57ea04,_0x2862de){const _0x5ea0ed=nodemailer_1['default'][a5_0x4619('0x56')]({'service':'SendGrid','auth':{'user':process['env'][a5_0x4619('0x59')],'pass':process[a5_0x4619('0x58')][a5_0x4619('0x5a')]}});const _0x433a40={'to':_0x57ea04[a5_0x4619('0x25')],'from':a5_0x4619('0x66'),'subject':a5_0x4619('0x67'),'text':a5_0x4619('0x68')+_0x3bac28[a5_0x4619('0x69')][a5_0x4619('0x6a')]+a5_0x4619('0x6b')+_0x49bd00+a5_0x4619('0x6c')};_0x5ea0ed[a5_0x4619('0x5c')](_0x433a40,_0x2e51b3=>{_0x3bac28[a5_0x4619('0x1c')](a5_0x4619('0x44'),{'msg':a5_0x4619('0x6d')+_0x57ea04[a5_0x4619('0x25')]+a5_0x4619('0x6e')});_0x2862de(_0x2e51b3);});}],_0x334b28=>{if(_0x334b28){return _0x4c59a7(_0x334b28);}_0x3e3ae6['redirect']('/forgot');});};